
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<!-- for responsive web design -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- for SEO -->
<meta name="description" content="Basic HTML and CSS Tutorial for the beginners">
<meta name="keywords" content="HTML, CSS, Tutorial, Basics, beginners">
<title>Realtime Traffic DashBoard</title>
	
<!-- @@ v3 header changes starts here after <title> -->
<!-- My custom CSS v3 -->
<link rel="stylesheet" href="../css/programming_notes_v3.css">
<!-- Prism Syntax Highlighter -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/themes/prism.min.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-highlight/prism-line-highlight.min.css" rel="stylesheet" />
<!-- favicon -->
<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">

<style>
    .table-eg {   /* table styling */
        border: 1px solid black;
        border-spacing: 5px;      /* replaces cellspacing */
        border-collapse: separate;
    }
    
    .table-eg th, .table-eg td {   /* cell styling */
        border: 1px solid #aaa;
        padding: 5px 10px;    /* replaces cellpadding */
    }
    
    
    .keyword { /* styling for keywords in code */
        color: #c678dd; /* purple */
    }
    
    .api { /* styling for API calls in code */
        color: #e5c07b; /* yellow */
    }
    
    .variable { /* styling for variables in code */
        color: #e06c75; /* red */
    }

    /* Hide the actual radio buttons */
    .query-option {
        display: none;
    }
    
    /* Style the labels to look like a dropdown */
    label.query-label {
        display: block;
        border: 1px solid #ccc;
        padding: 8px;
        margin-top: -1px; /* Remove gaps between labels */
        background: white;
        cursor: pointer;
    }

    .home-button {
        display: inline-block;
        padding: 10px 20px;
        margin: 10px;
        background-color: #76a2cd; /* Green background */
        color: white; /* White text */
        text-align: center;
        text-decoration: none;
        border-radius: 5px;
    }
    
    /* Hide all query displays initially */

    
    /* Only display the query content when its corresponding radio button is checked */
    .query-option:checked + label + .query-content {
        display: block;
    }
  .pre-container pre {
            display: none;
            border: 5px;
            background-color: #282c34;
            color: #abb2bf;
            padding: 20px;
            overflow-x: auto;
            width : 990px;
        }


  .pre-container pre.active {
          display: block; /* Make the active <pre> visible */
        }
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: #f4f4f4;
        }
        header {
            background: #009879;
            color: white;
            padding: 10px 20px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
        }
        #tabs {
            overflow: hidden;
            background: #333;
            font-family: Arial;
        }
        #tabs li {
            list-style: none;
            display: inline-block;
        }
        #tabs a {
            display: block;
            padding: 10px 20px;
            color: white;
            text-decoration: none;
            text-transform: uppercase;
            transition: background-color 0.3s;
        }
        #tabs a:hover, #tabs a.active {
            background-color: #009879;
        }
        table {
            width: 80%;
            margin: 20px auto;
            border-collapse: collapse;
            background: white;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }
        th, td {
            padding: 8px;
            text-align: center;
            border-bottom: 1px solid #ddd;
        }
        th {
            height: 40px;
            background: #f3f3f3;
        }
        .logo-cell img {
            width: 30px;
            height: auto;
        }
        .content {
            display: none;
        }
        .content.active {
            display: block;
        }
        /* Standing table specific styles */
    #leagueTable {
        width: 50%;  /* Adjust width as necessary */
        margin: 25px auto; /* Center the table with margin */
        border-collapse: collapse; /* Collapses the border lines between cells */
        font-size: 0.9em; /* Font size for table content */
        border-radius: 5px 5px 0 0; /* Rounded corners at the top of the table */
        overflow: hidden; /* Hides any content that overflows the table's box */
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.15); /* Shadow effect for 3D pop */
    }
    
    
    
    #leagueTable th, #leagueTable td {
        padding: 0px 5px; /* Padding inside cells */
        width: 22px; /* Minimum width for cells */
        text-align: center; /* Center text in cells */
    }
    
    #leagueTable th:nth-child(1), #leagueTable td:nth-child(1),
    #leagueTable th:nth-child(2), #leagueTable td:nth-child(2) {
        width: 50px; /* Wider cells for rank and team columns */
    }
    
    #leagueTable th:nth-child(12), #leagueTable td:nth-child(12) {
        width: 120px; /* Wider cell for 'Last 5' games */
        text-align: center; /* Center align text for 'Last 5' games */
    }
    
    #leagueTable th:nth-child(9), #leagueTable td:nth-child(9) {
        border-left: 1px solid rgb(110, 107, 107); /* Border to separate goal related stats */
    }
    
    #leagueTable th:nth-child(11), #leagueTable td:nth-child(11) {
        border-right: 1px solid rgb(110, 107, 107); /* Border to separate goal related stats */
    }
    
    #leagueTable tbody tr {
        border-bottom: 1px solid #dddddd; /* Bottom border for each row */
    }
    
    #leagueTable tbody tr:nth-of-type(even) {
        background-color: #f3f3f3; /* Alternate row coloring for better readability */
    }
    
    #leagueTable tbody tr:last-of-type {
        border-bottom: 2px solid #009879; /* Heavier bottom border for the last row */
    }
    
    .result-circle {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        margin-right: 5px;
        color: white;
        font-weight: bold;
        font-size: 14px;
    }
    
    .win { background-color: #4CAF50; }
    .draw { background-color: #FFC107; }
    .loss { background-color: #F44336; }
    
    .result-circle:nth-last-child(1) { opacity: 1.0; }
    .result-circle:nth-last-child(2) { opacity: 0.85; }
    .result-circle:nth-last-child(3) { opacity: 0.7; }
    .result-circle:nth-last-child(4) { opacity: 0.55; }
    .result-circle:nth-last-child(5) { opacity: 0.4; }
    

</style>



</head>

<body>


<div id="wrap-outer">

<!-- header filled by JavaScript -->
<div id="header" class="header"><p>&nbsp;</p></div>

<div id="wrap-inner">

    <a href="/samdata.github.io/" class="home-button">Home</a>

<div id="wrap-toc">
<h5>Table of Contents <a id="show-toc" href="HTML_CSS_Basics.html#show-toc">(Hide)</a></h5>
<div id="toc"></div>  <!-- for showing the "Table of Content" -->
</div>

<!-- @@ v3 header changes ends here before "content-header" <h1> and <h2>"" -->

<div id="content-header">
    <h1 style="margin: 0; white-space: nowrap;">AI Powered Sports Match Prediction</h1>
    <p style="margin: 0; white-space: nowrap; font-weight: normal; color: #6c757d; padding-left: 20px;"></p>
</div>

<div id="content-main">
<!-- @@ v3 header changes ends here before <h3> -->
    <div id="tabs">
        <ul>
            <li><a href="#" class="tablinks active" onclick="openTab(event, 'standing')">Standing</a></li>
            <li><a href="#" class="tablinks" onclick="openTab(event, 'schedule')">Schedule & Prediction</a></li>
        </ul>
    </div>

    <div id="standing" class="content active">
        <h1>League Standing</h1>
        <table id="leagueTable">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Logo</th>
                    <th>Team</th>
                    <th>GP</th>
                    <th>PTS</th>
                    <th>W</th>
                    <th>D</th>
                    <th>L</th>
                    <th>GF</th>
                    <th>GA</th>
                    <th>GD</th>
                    <th>Last 5</th>
                </tr>
            </thead>
            <tbody>
                <!-- League data rows will be dynamically inserted here -->
            </tbody>
        </table>
    </div>
    
    <div id="schedule" class="content">
        <h1>Match Schedule</h1>
        <table id="scheduleTable">
            <thead>
                <tr>
                    <th>Match Date</th>
                    <th>Time</th>
                    <th>Days Until Match</th>
                    <th>Home Team</th>
                    <th>Home Logo</th>
                    <th>Away Team</th>
                    <th>Away Logo</th>
                </tr>
            </thead>
            <tbody>
                <!-- Schedule data rows will be dynamically inserted here -->
            </tbody>
        </table>
    </div>

   <!-- 1. 전체 DOM 컨텐츠 로드 완료되면 아래의 함수를 실행
          a. querySelectorAll 이용해서 모든 buttons 요소 지정
          b. querySelectorAll 이용해서 모든 buttons 요소 지정
          
        2. buttons 의 각 button 요소에 아래의 내용으로 addEventListener 정의
          a. 각 button 이 클릭되면 해당 button의 id를 이용하여 'pre${this.id}' 값 확보
          b. pres의 각 pre 요소의 classlist에서 'active' 클래스 제거 (다른 button 클릭 시 이전에 클릭된 button의 pre 요소 숨기기 위함)
          c. 클릭된 button 요소에 대응되는 id를 가진 pre 요소를 찾아 'active' 클래스를 추가
          -->



          <script>
            function openTab(evt, tabName) {
                var i, tabcontent, tablinks;
                tabcontent = document.getElementsByClassName("content");
                for (i = 0; i < tabcontent.length; i++) {
                    tabcontent[i].style.display = "none";
                }
                tablinks = document.getElementsByClassName("tablinks");
                for (i = 0; i < tablinks.length; i++) {
                    tablinks[i].className = tablinks[i].className.replace(" active", "");
                }
                document.getElementById(tabName).style.display = "block";
                evt.currentTarget.className += " active";
            }
            
            // Ensuring the first tab is active if JS is running
            document.addEventListener('DOMContentLoaded', function() {
                openTab(new Event('click'), 'standing'); // Automatically open the 'standing' tab
            });
            </script>
            
            <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
            <script>
            // Example loading of data for 'schedule' and 'standing' tables
            // You will need to implement these functions to fetch and process your CSV data.
            
            const teamLogoMapping = {
                "Brentford BRE": "Brentford.webp",
                "Bournemouth BOU": "Bournemouth.webp",
                "Crystal Palace CRY": "Crystal Palace.webp",
                "Fulham FUL": "Fulham.webp",
                "West Ham WHU": "West Ham United.webp",
                "Everton EVE": "Everton.webp",
                "Wolves WOL": "Wolverhampton Wanderers.webp",
                "Southampton SOU": "Southampton.webp",
                "Brighton BHA": "Brighton & Hove Albion.webp",
                "Man City MCI": "Manchester City.webp",
                "Liverpool LIV": "Liverpool.webp",
                "Aston Villa AVL": "Aston Villa.webp",
                "Man Utd MUN": "Manchester United.webp",
                "Leicester LEI": "Leicester City.webp",
                "Nott'm Forest NFO": "Nottingham Forest.webp",
                "Newcastle NEW": "Newcastle United.webp",
                "Spurs TOT": "Tottenham Hotspur.webp",
                "Ipswich IPS": "Ipswich.webp",
                "Chelsea CHE": "Chelsea.webp",
                "Arsenal ARS": "Arsenal.webp"
            };
            
            function getLogoPath(teamName) {
                return `images/PremiereTeamLogos/${teamLogoMapping[teamName] || 'default.webp'}`;
            }
            
            
            document.addEventListener('DOMContentLoaded', function() {
            fetch('sources/schedule.csv')  // Adjust the CSV file path as necessary
            .then(response => response.text())
            .then(csv => Papa.parse(csv, {
                header: true,
                skipEmptyLines: true,
                complete: function(results) {
                    const data = results.data;
                    const tbody = document.getElementById('scheduleTable').getElementsByTagName('tbody')[0];
                    const today = new Date();
                    data.forEach(item => {
                        const tr = tbody.insertRow();
            
                        const matchDate = new Date(item['Match Date']);
                        const timeDiff = matchDate - today;
                        const daysUntilMatch = Math.ceil(timeDiff / (1000 * 3600 * 24));
            
            
                        // Match Date
                        tr.insertCell().textContent = item['Match Date'];
                        
            
                        // Time of Match
                        tr.insertCell().textContent = item['Time of Match'];
            
                        let daysText = '';
                        if (daysUntilMatch < 0) {
                            daysText = 'Match passed';
                        } else if (daysUntilMatch === 0) {
                            daysText = 'Match today';
                        } else if (daysUntilMatch === 1) {
                            daysText = '1 day left';
                        } else {
                            daysText = `${daysUntilMatch} days left`;
                        }
                        tr.insertCell().textContent = daysText;
            
                        // Home Team and Logo
                        const homeTeam = item['Home Team']; // Assign home team name from item
                        tr.insertCell().textContent = homeTeam;
                        const homeLogoCell = tr.insertCell();
                        const homeLogo = document.createElement('img');
                        homeLogo.src = getLogoPath(homeTeam);
                        homeLogo.alt = `${homeTeam} logo`;
                        homeLogo.onerror = () => { homeLogo.src = 'images/PremiereTeamLogos/default.webp'; };
                        homeLogoCell.appendChild(homeLogo);
            
                        // Away Team and Logo
                        const awayTeam = item['Away Team']; // Assign away team name from item
                        tr.insertCell().textContent = awayTeam;
                        const awayLogoCell = tr.insertCell();
                        const awayLogo = document.createElement('img');
                        awayLogo.src = getLogoPath(awayTeam);
                        awayLogo.alt = `${awayTeam} logo`;
                        awayLogo.onerror = () => { awayLogo.src = 'images/PremiereTeamLogos/default.webp'; };
                        awayLogoCell.appendChild(awayLogo);
                    });
                }
            }))
            .catch(error => console.error('Error loading or parsing the CSV file:', error));
            });
            
            
            
            
            function getLogoPath(teamName) {
            return `images/PremiereTeamLogos/${teamLogoMapping[teamName] || 'default.webp'}`;
            }
            
            
            
            </script>
            
            <script>
                document.addEventListener('DOMContentLoaded', function() {
                    fetch('sources/premiere_JS.csv')
                    .then(function(response) {
                        return response.text();
                    })
                    .then(function(data) {
                        const table = document.getElementById('leagueTable').getElementsByTagName('tbody')[0];
                        const rows = data.split('\n');
                        rows.forEach((row, index) => {
                            if (index === 0 || !row.trim()) return; // skip the header row and empty rows
                            const cols = row.split(',');
                            if (cols.length >= 10) { // Ensure sufficient columns
                                const newRow = table.insertRow();
                
                                // Separate rank and team name
                                const rankTeam = cols[0]
                                const match = rankTeam.match(/(\d+)([A-Za-z &]+)([A-Z]{3})$/); // Regex to extract rank and team
                                if (match) {
                                    const rankCell = newRow.insertCell();
                                    rankCell.textContent = match[1]; // Rank
                                    
                                    const teamCell = newRow.insertCell();
                                    teamCell.textContent = match[2]; // Team name
                                    
                                }
                
                                // Insert other columns
                                for (let i = 1; i < 9; i++) {
                                    const newCell = newRow.insertCell();
                                    newCell.textContent = cols[i].replace(/"/g, '').trim();
                                }
                
                                // Handle "Last 5" matches
                                const lastFiveCell = newRow.insertCell();
                                const results = cols[9].replace(/"/g, '').trim().split('');
                                results.forEach(result => {
                                    const resultCircle = document.createElement('span');
                                    resultCircle.classList.add('result-circle');
                                    result = result.trim();
                                    if (result === 'W') {
                                        resultCircle.classList.add('win');
                                        resultCircle.textContent = 'W';
                                    } else if (result === 'D') {
                                        resultCircle.classList.add('draw');
                                        resultCircle.textContent = 'D';
                                    } else if (result === 'L') {
                                        resultCircle.classList.add('loss');
                                        resultCircle.textContent = 'L';
                                    }
                                    lastFiveCell.appendChild(resultCircle);
                                });
                            }
                        });
                        addLogosToTable(); // Adds logos after table is populated
                        applyColors();     // Apply colors after all cells are populated
                    });
                });
                
                
                function addLogosToTable() {
                    const tableRows = document.querySelectorAll('#leagueTable tbody tr');
                    tableRows.forEach(row => {
                        const teamCell = row.cells[1]; // Assuming team name is in the second cell
                        const teamName = teamCell.textContent.trim();
                        
                        // Create logo cell
                        const logoCell = row.insertCell(1); // Insert logo cell before the team name cell
                        const logoImg = document.createElement('img');
                        logoImg.src = `images/PremiereTeamLogos/${teamName}.webp`;
                        logoImg.alt = `${teamName} logo`;
                        logoImg.width = 30; // Set desired width
                        logoImg.height = 30; // Set desired height
                        logoImg.onerror = () => { logoImg.src = 'images/PremiereTeamLogos/default.webp'; }; // Fallback if logo is missing
                        logoCell.appendChild(logoImg);
                    });
                }
                
                function getColorForValue(value) {
                    const maxIntensity = 300; // Maximum color intensity
                    const minIntensity = 100; // Minimum color intensity for neutrality
                    const absValue = Math.abs(value);
                    const intensity = Math.min(maxIntensity, absValue * 10 + minIntensity);
                
                    if (value < 0) {
                        // Blend red to lighter shades as it approaches zero
                        return `rgb(${intensity}, ${minIntensity}, ${minIntensity})`;
                    } else if (value > 0) {
                        // Blend blue to lighter shades as it approaches zero
                        return `rgb(${minIntensity}, ${minIntensity}, ${intensity})`;
                    } else {
                        // Neutral color for zero
                        return `rgb(${minIntensity}, ${minIntensity}, ${minIntensity})`;
                    }
                }
                
                // Apply colors to numeric cells after table creation
                function applyColors() {
                    const tableRows = document.querySelectorAll('#leagueTable tbody tr');
                    tableRows.forEach(row => {
                        const cell = row.cells[10]; // Targeting the 11th column (index 10)
                        const value = cell.textContent.trim();
                        if (!isNaN(value) && value !== '') { // Check if the content is a number
                            cell.style.color = getColorForValue(value);
                        }
                    });
                }
                
                </script>

<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- My custom JavaScript v3 -->
<script src="../scripts/programming_notes_v3.js"></script>
<!-- Prism Syntax Highlighter -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html>
