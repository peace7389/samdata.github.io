<!DOCTYPE html>
<!--
<div id="wrap-outer">
  <header id="header">
  <div id="wrap-inner">
     <aside id="wrap-toc">
        <section id="toc">
     <header id="content-header">
     <main id="content-main">
     <footer id="content-footer">
  <footer id="footer">
-->
<html lang="en">
<head>
<meta charset="utf-8">
<!-- for responsive web design -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- for SEO -->
<meta name="description" content="How to install MySQL and Get Started">
<meta name="keywords" content="MySqL, SQL, Tutorial, Basics, beginners, Getting Started">
<title>MySQL Tutorial - How to Install MySQL 8 (on Windows, Mac OS, Ubuntu) and Get Started with SQL Programming</title>
<!-- ========== @@@@@@ v3 header changes starts here after <title> ========== -->

<!-- My custom CSS -->
<link rel="stylesheet" href="../css/programming_notes_v3.css">
<!-- Prism Syntax Highlighter -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/themes/prism.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-highlight/prism-line-highlight.min.css" rel="stylesheet">
<!-- favicon -->
<link rel="icon" href="../favicon.ico" type="image/x-icon">
</head>


<body>

<div id="wrap-outer"> <!-- outer container -->

<!-- header filled by JavaScript -->
<header id="header" class="header"><p>&nbsp;</p></header>

<div id="wrap-inner"> <!-- inner container -->

<aside id="wrap-toc">
<h5>Table of Contents <a id="show-toc" href="MySQL_HowTo.html#show-toc">(Hide)</a></h5>
<section id="toc"></section>  <!-- for showing the "Table of Content" -->
</aside>

<!-- ====== @@@ v3 header changes ends b4 "content-header", h1, h2 ======= -->
<div id="content-header">
<h1>How to Install MySQL 8.3 (on Windows, macOS, Ubuntu) and 
Get Started with SQL Programming</h1>
</div>

<div id="content-main">

<p>This article is applicable to MySQL 8.x.</p>
<p>MySQL version numbers progress from 5.7 &rArr; Versions 6 and 7 were dropped &rArr; 8.0 &rArr; 8.1 &rArr; 8.2 &rArr; 8.3.</p>

<h3 id="intro">Introduction to Relational Database and SQL</h3>

<h4>Relational Databases</h4>

<p>A <em>relational database</em> organizes data in <em>tables</em>. A <em>table</em> has <em>rows</em> (or <em>records</em>) and <em>columns</em> (or <em>fields</em>), similar to spreadsheets. But unlike spreadsheets, tables are <em>related</em> based on common columns to eliminate <em>data redundancy</em> and ensure <em>data integrity</em>.</p>

<p>Popular Relationship Database Management System (RDBMS) includes:</p>
<ul>
<li>the <em>commercial</em> Oracle, IBM DB2, Microsoft SQL Server and Access, SAP Hana.</li>
<li>the <em>open-source</em> MySQL, PostgreSQL, mariaDB, Embedded Apache Derby (Java DB), mSQL (mini-SQL), SQLite, Apache OpenOffice's Base, and mongoDB (non-relational).</li>
</ul>
	

<h4>Structure Query Language (SQL)</h4>

<p>A high-level programming language, called <em>Structure Query Language</em> (SQL), is designed for interacting with the relational databases. SQL defines a set of commands, such as <code>SELECT</code>, <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code>, <code>CREATE TABLE</code>, <code>DROP TABLE</code>, and etc.</p>

<p>Edgar F. Codd of IBM proposed the Relational Database Model in 1970. SQL, one of the earlier  programming language, was subsequently developed by Donald D. Chamberlin and Raymond F. Boyce at IBM in the early 1970s. Oracle, subsequently, took it to a new height.</p>
<p>ANSI (American National Standard Institute) established the first SQL standard in 1986 (SQL-86 or SQL-87) -  adopted by ISO/IEC as &quot;ISO/IEC 9075&quot; - followed in 1989 (SQL-89), 1992 (SQL-92 or <span class="underline">SQL2</span>), 1999 (SQL-99 or <span class="underline">SQL3</span>), 2003 (SQL:2003), 2006 (SQL:2006), 2011 (SQL:2011) and 2016 (SQL:2016). However, most of the database vendors have their own directs, e.g., PL/SQL (Oracle), Transact-SQL (Microsoft, SAP), PL/pgSQL (PostgreSQL).</p>

<h4 id="ByExamples">SQL By Examples</h4>

<p>A relational database system organizes data in the following hierarchy:</p>
<ol>
<li>A relational database system contains many <em>databases</em>.</li>
<li>A database comprises <em>tables</em>.</li>
<li>A table have <em>rows</em> (or <em>records</em>) and <em>columns</em> (or <em>fields</em>).</li>
</ol>

<p>Suppose we have a database called <code>studentdb</code>, a table called <code>class101</code> in the database  with 3 columns (<code>id</code>, <code>name</code>, <code>gpa</code>) and 4 rows as illustrated below. Each column has a data type. We choose: <code>INT</code> (integer) for column <code>id</code>, <code>VARCHAR(50)</code> (variable-length string of up to 50 characters) for <code>name</code>, and <code>FLOAT</code> (floating-point number) for <code>gpa</code>.</p>

<pre class="example">
Database: <strong>studentdb</strong>
Table: <strong>class101</strong>
+-----------+--------------------+-------------+
| <strong>id</strong> (INT)  | <strong>name</strong> (VARCHAR(50)) | <strong>gpa</strong> (FLOAT) |
+-----------+--------------------+-------------+
|   1001    | Tan Ah Teck        |  4.5        |
|   1002    | Mohammed Ali       |  4.8        |
|   1003    | Kumar              |  4.8        |
|   1004    | Kevin Jones        |  4.6        |
+-----------+--------------------+-------------+</pre>

<p>SQL (Structure Query Language) defines  a set of intuitive <em>commands</em> (such as <code>SELECT</code>, <code>INSERT INTO</code>, <code>DELETE FROM</code>, <code>UPDATE</code>) to interact with relational database system.</p>

<h5><code>SELECT</code></h5>
<pre class="example">
<span class="comment">-- SYNTAX</span>
<span class="new">SELECT <em>column1</em>, <em>column2</em>, ... FROM <em>tableName</em> WHERE <em>criteria</em></span>
<span class="new">SELECT * FROM <em>tableName</em> WHERE <em>criteria</em></span>   <span class="comment">// * is wildcard for ALL columns</span>
 
<span class="comment">-- EXAMPLES</span>
<strong>SELECT name, gpa FROM class101</strong>
   <span class="comment">-- Select columns name and gpa from table class101.</span>
   +--------------+------+
   | name         | gpa  |
   +--------------+------+
   | Tan Ah Teck  |  4.5 |
   | Mohammed Ali |  4.8 |
   | Kumar        |  4.8 |
   | Kevin Jones  |  4.6 |
   +--------------+------+
 
<strong>SELECT * FROM class101</strong>
<span class="comment">   -- Select ALL columns from table class101.
   -- The wildcard * denotes all the columns.</span>
   +------+--------------+------+
   | id   | name         | gpa  |
   +------+--------------+------+
   | 1001 | Tan Ah Teck  |  4.5 |
   | 1002 | Mohammed Ali |  4.8 |
   | 1003 | Kumar        |  4.8 |
   | 1004 | Kevin Jones  |  4.6 |
   +------+--------------+------+
 
<strong>SELECT name, gpa FROM class101 WHERE gpa &gt;= 4.7</strong>
   <span class="comment">-- Select columns name and gpa from table class101, where the rows meet the criterion (gpa &gt;= 4.7).
   -- You can compare numbers (INT, FLOAT) using =, &gt;, &lt;, &gt;=, &lt;=, &lt;&gt; (!=)</span>
   +--------------+------+
   | name         | gpa  |
   +--------------+------+
   | Mohammed Ali |  4.8 |
   | Kumar        |  4.8 |
   +--------------+------+
    
<strong>SELECT name, gpa FROM class101 WHERE name = 'Tan Ah Teck'</strong>
   <span class="comment">-- Perform FULL-match on strings (= or !=). Strings are enclosed in quotes.</span>
   +-------------+------+
   | name        | gpa  |
   +-------------+------+
   | Tan Ah Teck |  4.5 |
   +-------------+------+
 
<strong>SELECT name FROM class101 WHERE name LIKE 'k%'</strong>
   <span class="comment">-- Use &quot;LIKE&quot; to perform pattern-matching on strings, with
   --   wildcard % matches zero or more (any) characters;
   --   wildcard _ matches one (any) character.</span>
   +-------------+
   | name        |
   +-------------+
   | Kumar       |
   | Kevin Jones |
   +-------------+
 
<strong>SELECT * FROM class101 WHERE gpa &gt; 4 AND (name LIKE 'K%' OR name LIKE 'M%') ORDER BY gpa DESC, name ASC</strong>
   <span class="comment">-- Use AND, OR, NOT to combine simple conditions.
   -- Order the result by gpa in descending order.
   -- If two rows have the same gpa, order by name in ascending order.</span>
   +------+--------------+------+
   | id   | name         | gpa  |
   +------+--------------+------+
   | 1003 | Kumar        |  4.8 |
   | 1002 | Mohammed Ali |  4.8 |
   | 1004 | Kevin Jones  |  4.6 |
   +------+--------------+------+</pre>

<h5><code>DELETE FROM</code></h5>

<pre class="example">
<span class="comment">-- SYNTAX</span>
<span class="new">DELETE FROM <em>tableName</em> WHERE <em>criteria</em></span>
 
<span class="comment">-- EXAMPLES</span>
DELETE FROM class101
  <span class="comment">-- Delete ALL rows from the table class101! Beware that there is NO UNDO!</span>
DELETE FROM class101 WHERE id = 33
  <span class="comment">-- Delete rows that meet the criteria.</span></pre>
  
<h5><code>INSERT INTO</code></h5>

<pre class="example">
<span class="comment">-- SYNTAX</span>
<span class="new">INSERT INTO <em>tableName</em> VALUES (<em>firstColumnValue</em>, ..., <em>lastColumnValue</em>)</span>       <span class="comment">-- All columns</span>
<span class="new">INSERT INTO <em>tableName</em> (<em>column1</em>, <em>column2</em>, ...) VALUES (<em>value1</em>, <em>value2</em>, ...)</span>  <span class="comment">-- Selected Columns</span>
 
<span class="comment">-- Example</span>
INSERT INTO class101 VALUES (1001, 'Tan Ah Teck', 4.5)
  <span class="comment">-- List value of all columns.</span>
INSERT INTO class101 (name, gpa) VALUES ('Peter Jones', 4.55)
  <span class="comment">-- Missing fields will be set to their default values or NULL</span></pre>

<h5><code>UPDATE SET</code></h5>
<pre class="example">
<span class="comment">-- SYNTAX</span>
<span class="new">UPDATE <em>tableName</em> SET <em>column</em> = <em>value</em> WHERE <em>criteria</em></span>
 
<span class="comment">-- EXAMPLES</span>
UPDATE class101 SET gpa = 5.0                                  <span class="comment">-- ALL rows</span>
UPDATE class101 SET gpa = gpa + 1.0 WHERE name = 'Tan Ah Teck' <span class="comment">-- Selected rows</span></pre>

<h5><code>CREATE TABLE</code></h5>

<pre class="example">
<span class="comment">-- SYNTAX</span>
<span class="new">CREATE TABLE <em>tableName</em> (<em>column1Name</em> <em>column1Type</em>, <em>column2Name</em> <em>column2Type</em>, ...)</span>
 
<span class="comment">-- EXAMPLES</span>
CREATE TABLE class101 (id INT, name VARCHAR(50), gpa FLOAT)</pre>

<h5><code>DROP TABLE</code></h5>
<pre class="example">
<span class="comment">-- SYNTAX</span>
<span class="new">DROP TABLE <em>tableName</em></span>
 
<span class="comment">-- EXAMPLES</span>
DROP TABLE class101  <span class="comment">-- Delete the table. Beware that there is No UNDO!!!</span></pre>

<h5>Notes:</h5>
<ol>
<li><span class="lead">Case Sensitivity</span>: SQL keywords, names (identifiers), strings may or may not be case-sensitive, depending on the implementation.

<ul>
<li> In MySQL, the <em>keywords</em> are NOT case-sensitive. For clarity, I  show the keywords in UPPERCASE in this article.</li>
<li>For programmers, it is BEST to treat the <em>names (identifiers)</em> and <em>strings</em> as case-sensitive. <br />
(In MySQL, column-names are always case insensitive; but table-names are case-sensitive in Unix, but case-insensitive in Windows (confused!!). Case-sensitivity in string comparison depends on the so-called <em>collating sequence</em> used (?!).)</li></ul>

</li>
<li><span class="lead">String</span>: SQL strings are enclosed in single quotes. But most implementations (such as MySQL)  accept both single and double quotes.</li></ol>


<h3>Introduction to MySQL Relational Database Management System (RDBMS)</h3>

<p>SQL is a <em>programming language</em> for interacting with relational databases. On the other hand, MySQL is a <em>piece of software </em> - a Relational Database Management System that understands SQL commands.</p>

<p>MySQL is one of the most used, <em>industrial-strength</em>, <em>open-source</em> and <em>free</em> Relational Database Management System (RDBMS). MySQL was developed by Michael &quot;Monty&quot; Widenius and David Axmark in 1995. It was   owned by a Swedish company called MySQL AB, which was bought over by Sun   Microsystems in 2008. Sun Microsystems was acquired by Oracle in 2010.</p>

<p>MySQL is successful, not only because it is free and open-source (there are many free   and open-source databases, such as PostgreSQL, Apache Derby (Java DB), mSQL (mini SQL), SQLite and Apache OpenOffice's Base), but also for its speed,   ease of use, reliability, performance, connectivity (full networking support), portability (run on most OSes, such as Unix, Windows, macOS), security (SSL support), small size, and rich features. MySQL supports all features expected in a high-performance relational database, such as transactions, foreign key, replication, sub-queries, stored procedures, views and triggers.</p>

<p>MySQL is often deployed in a LAMP (Linux-Apache-MySQL-PHP), WAMP (Windows-Apache-MySQL-PHP), or MAMP (macOS-Apache-MySQL-PHP) environment. All components in LAMP is free and open-source, inclusive of the Operating System.</p>

<p>The mother site for MySQL is <a href="https://www.mysql.com">https://www.mysql.com</a>. The ultimate reference for MySQL is the &quot;MySQL Reference Manual&quot;, available at <a href="https://dev.mysql.com/doc/">https://dev.mysql.com/doc</a>. The reference manual is huge - the PDF  has over 3700 pages!!!</p>

<img src="images/MySQL_DBMS.png" alt="image" width="750" height="457" class="image-center image-border" />

<p>MySQL  operates as a <em>client-server</em> system  over TCP/IP network. The server runs on a machine with an IP address on a chosen TCP port number.  The default TCP port number for MySQL is 3306. Users can access the server via a client program, connecting to the server at the given IP address and the given TCP port number.</p>

<h5>MariaDB</h5>
	
<p>From Wiki: &quot;MariaDB is a community-developed, commercially supported fork of the MySQL relational database management system (RDBMS), intended to remain free and open-source software under the GNU General Public License. Development is led by some of the original developers of MySQL, who forked it due to concerns over its acquisition by Oracle Corporation in 2009.&quot;</p>
	
<h3 id="MySQL-install">How to Install MySQL 8.x and Get Started with SQL Programming</h3>

<p>I want you to install MySQL on your own machine, because I want you to learn how to install, customize and operate <em>complex industrial software system</em>. Installation could be the hardest part in this exercise.</p>

<h4>Step 1: Create a Working Directory to keep all your files</h4>

<p><strong>IMPORTANT</strong>: Before getting started, check that you have a few GBs of Free Spaces.</p>
<p>Create a directory to keep all your works called:</p>
<ul>
<li>(For Windows) &quot;<code>c:\myWebProject</code>&quot;.</li>
<li>(For macOS/Linux) &quot;<code>~/myWebProject</code>&quot; where &quot;<code>~</code>&quot; denotes your home directory. That is, create a directory &quot;<code>myWebProject</code>&quot; under your home directory. To find your home directory: use &quot;Finder&quot; &rArr; "Go" &rArr; "Home".</li>
</ul>
	

<pre class="command">
<span class="comment">// For Windows: Use &quot;C:\myWebProject&quot;
// Launch a &quot;CMD&quot; and issue these commands:</span>
<strong>c:
cd \
mkdir myWebProject</strong>

<span class="comment">// For macOS: Use &quot;~/myWebProject&quot; (where &quot;~&quot; denotes your home directory)
// Launch a &quot;Terminal&quot; and issue these commands:</span>
<strong>cd
mkdir myWebProject</strong></pre>

<p>Use your graphical interface, e.g., File Explorer (Windows), or Finder (macOS) to verify this directory. (Of course you can use your graphical interface to create this directory!)</p>
<p>For novices: It is important to follow this step to create your working directory. Otherwise, you will be out-of-sync with this article and will not be able to find your files later.</p>

<h4>Step 2: Download and Install MySQL</h4>

<div class="side-note">

<p class="lead">For Windows</p>

<ol>
<li>Goto MySQL Download @ <a href="https://dev.mysql.com/downloads/mysql/">https://dev.mysql.com/downloads/mysql/</a> to download the latest &quot;MySQL  Community Server&quot;:
<ol>
<li>Under &quot;General Availability (GA) Releases&quot; tab &rArr; &quot;MySQL Community Server 8.3.<span class="new">{xx}</span>&quot;, where <span class="new">{xx}</span> is the latest update number.</li>
<li>In &quot;Select Version&quot;, choose the latest version (8.3.<span class="new">{xx}</span>). In &quot;Select Operating System&quot;, choose &quot;Microsoft Windows&quot;.</li>
<li>Choose &quot;<span class="new">Windows (x86, 64-bit), <strong>ZIP ARCHIVE</strong></span> (about 257MB) (<code>mysql-8.3.<span class="new">{xx}</span>-winx64.zip</code>)&quot;.</li>

<li>In &quot;MySQL Community Downloads&quot;, there is NO need to &quot;Login&quot; or &quot;Sign up&quot; - Just click &quot;No thanks, just start my downloads!&quot;.</li>
</ol></li>

<li>  UNZIP the downloaded file into your project directory &quot;<code>C:\myWebProject</code>&quot;  (Right click on the file &rArr; Extract All &rArr; Choose the destination folder as &quot;<code>c:\myWebProject</code>&quot;). MySQL will be unzipped as &quot;<code>c:\myWebProject\<strong>mysql-8.3.<span class="new">{xx}</span>-winx64</strong></code>&quot;. Use the file explorer to check.<br />
For <strong>EASE OF USE</strong> (easier to type), we shall <strong>SHORTEN</strong> and <strong>RENAME</strong> the directory to &quot;<code>c:\myWebProject\<strong>mysql</strong></code>&quot;. Take note and remember your MySQL installed directory!!!</li>
<li>(NEW since MySQL 5.7.7) <strong>INITIALIZE</strong> the database: Start a <strong>CMD as Administrator</strong> (Click the &quot;Search&quot; button &rArr; Enter &quot;cmd&quot;  &rArr; choose &quot;Run as Administrator&quot; on the right panel, and answer &quot;YES&quot; to confirm.<br />
Issue these commands:
<pre class="command">
<span class="comment">// Change directory to the MySQL's binary directory
// Suppose that your MySQL is installed in &quot;c:\myWebProject\mysql&quot;</span>
<strong>c:</strong>
<strong>cd \myWebProject\mysql\bin</strong>
 
<span class="comment">// Initialize the database. Create a root user with random password. Show the messages on console</span>
<strong>mysqld --initialize --console</strong>
......
...... [Note] <span class="new"><strong>A temporary password is generated for root@localhost: xxxxxxxx</strong></span></pre>

During the installation, a superuser called <code>root</code> is created with a temporary password, as shown above. <span class="new"><strong>TAKE NOTE of the PASSWORD, COPY and SAVE it somewhere; and TAKE A PICTURE!!!</strong></span><br />
<strong>NOTE</strong>: If error &quot;VCRUNTIME140_1.dll was not found&quot; occurs, check <a href="MySQL_HowTo.html#vcruntime">HERE</a>.</li>
<li>If you make a mistake  or forgot your password, DELETE the entire MySQL installed directory &quot;<code>C:\myWebProject\mysql</code>&quot;, and REPEAT step 2 and 3.</li>
</ol>
</div>


<div class="side-note">
<p class="lead">For macOS</p>
<ol>
<li>Goto MySQL Download @ <a href="https://dev.mysql.com/downloads/mysql/">https://dev.mysql.com/downloads/mysql/</a> to download the latest &quot;MySQL Community Server&quot;:
<ol>
<li>Under &quot;General Availability (GA) Releases&quot; tab  &rArr; &quot;MySQL Community Server 8.3.<span class="new">{xx}</span>&quot;, where <span class="new">{xx}</span> is the latest update number.<br />
Notes: 
The latest version of MySQL (8.3.0) works with macOS Sonoma (14) and Ventura (13). If you are running older version of macOS, you may need to find an archived version of MySQL under the &quot;Archive&quot; tab for your OS version.</li>
  <li>In &quot;Select Version&quot;, choose the latest version (8.0.<span class="new">{xx}</span>). In &quot;Select Operating System&quot;, choose  &quot;macOS&quot;.</li>
  
  <li>If your mac is running on the ARM processor (Apple M1/M2), choose the &quot;<span class="new">macOS14 (<strong>ARM</strong>, 64-bit) <strong>DMG Archive</strong></span>&quot; (<code>mysql-8.3.<span class="new">{xx}</span>-macos14-arm64.dmg</code>). <br />
    If your mac is running on Intel processor, choose the &quot;<span class="new">macOS 14 (<strong>x86</strong>, 64-bit) <strong>DMG Archive</strong></span>&quot; (<code>mysql-8.3.<span class="new">{xx}</span>-macos14-x86_64.dmg</code>).
    <ul>
      <li>To check your OS version &rArr; Click the 'Apple' logo &rArr; &quot;About this Mac&quot;.</li>
      <li>To check your processor &rArr; Click the 'Apple' logo &rArr; look for &quot;Intel&quot; (x86); or &quot;Apple M1 or M2&quot; (ARM processor).</li>
    
  <li>To check whether your macOS is 32-bit or 64-bit &rArr; google. Unless you have a dinosaur-era machine, it should be 64-bit!</li>
</ul>
  </li>
  
  <li>There is NO need to &quot;Login&quot; or &quot;Sign up&quot; - Just click &quot;No thanks, just start my download&quot;.</li>
</ol></li>

<li>To install MySQL (See <a href="https://dev.mysql.com/doc/refman/8.0/en/macos-installation.html">https://dev.mysql.com/doc/refman/8.0/en/macos-installation.html</a> for screen shots):
<ol>
<li>Go to &quot;Downloads&quot;  &rArr; Double-click &quot;<code>.dmg</code>&quot; file downloaded.</li>

<li>Double-click the &quot;<code>.pkg</code>&quot;.</li>
<li>In &quot;Introduction&quot;, click &quot;Continue&quot;.</li>
<li>In &quot;License&quot;, choose &quot;Agree&quot;.</li>
<li>In &quot;Installation Type&quot;, click &quot;Install&quot;.</li>
<li>In &quot;Configuration&quot;, choose &quot;Use Strong Password Encryption&quot;, and enter a password for the &quot;root&quot; user. Make sure you remember your password.</li>

<li>MySQL will be installed in <span class="new">&quot;<code>/usr/local/</code><code>mysql</code>&quot;</span>. Take note of this installed directory!!</li>

<li>Eject the &quot;.<code>dmg</code>&quot; file.</li>
</ol></li>

<li>If you make a mistake  or forgot your password, stop the server (Click &quot;Apple&quot; Icon &rArr; System Preferences &rArr; MySQL &rArr; Stop). <br />
  Goto <code>/usr/local</code> (via Finder &rArr; Go &rArr; GoTo Folder &rArr; type <code>/usr/local</code>) and remove all the folders beginning with &quot;<code>mysql...</code>&quot;, e.g., &quot;<code>mysql-8.0.{xx}...</code>&quot; and &quot;<code>mysql</code>&quot;, and 
  Re-run Step 2.</li>
</ol>
</div>

<div class="side-note">
<p class="lead">For Ubuntu</p>

<p>Refer to &quot;<a href="../howto/Ubuntu_HowTo.html#mysql">How to install MySQL on Ubuntu</a>&quot;.</p>
</div>

<br />

<p>I shall assume that MySQL is installed in directory <code>&quot;c:\myWebProject\mysql</code>&quot; (for Windows) or &quot;<code>/usr/local/mysql</code>&quot; (for macOS). But you need to <span class="new"><strong>TAKE NOTE OF YOUR MySQL INSTALLED DIRECTORY</strong></span>. Hereafter, I shall denote the MySQL installed directory as <code>&lt;MYSQL_HOME&gt;</code> in this article.</p>


<h4>Step 3:  Start the &quot;Server&quot;</h4>

<p>The MySQL is a <em>client-server</em> system. The database is run as a <em>server</em> application. Users access the database server via a <em>client</em> program, locally or remotely thru the network, as illustrated:</p>

<img src="images/MySQLClientServer.png"  alt="image" width="721" height="301" class="image-center image-border" />

<ol>
<li>The <em>server</em> program is called &quot;<code>mysqld</code>&quot; (with a suffix <code>'d'</code>, which stands for <em>daemon</em> - a daemon is a non-interactive process running in the background).</li>
<li>The <em>client</em> program is called &quot;<code>mysql</code>&quot; (without the <code>'d'</code>).</li>
</ol>

<p>The   programs <code>mysqld</code> and <code>mysql</code> are kept in the &quot;<code>bin</code>&quot; sub-directory of the MySQL installed directory. Check it out!</p>

<h5>Startup Server</h5>

<div class="side-note">
<p class="lead">For Windows</p>
<p>To start the database server, launch a new CMD shell (don't need administrator now):</p>

<pre class="command"><span class="comment">-- Change the current directory to MySQL's binary directory
-- Assume that the MySQL installed directory is &quot;c:\myWebProject\mysql&quot;</span>
<strong>c:</strong>
<strong>cd \myWebProject\mysql\bin</strong>
 
<span class="comment">-- Start the MySQL Database Server</span>
<strong>mysqld --console</strong>
<span class="comment">-- If Windows Defender Firewall popup, choose &quot;allow access&quot;.</span>
......
......
XXXXXX XX:XX:XX [Note] <span class="new">mysqld: ready for connections</span>.
Version: '8.0.xx'  socket: ''  <span class="new">port: 3306</span>  MySQL Community Server (GPL)</pre>
<p>Note: The <code>--console</code> option directs the output messages to the console. Without this option, you will see a blank screen.</p>
</div>


<div class="side-note">
<p class="lead">For macOS</p>
<p><strong>The EASY WAY</strong>: Via  graphical control. Click &quot;Apple&quot; Icon &rArr; System Preferences &rArr; MySQL &rArr; Start or Stop.</p>
</div>

<p>The MySQL database server is now started,  and ready to handle clients' requests.</p>



<p><span class="lead">Anything that can possibly go wrong, does!</span> Read &quot;<a href="MySQL_HowTo.html#debug">How to Debug</a>&quot;.</p>


<h5>Shutdown Server</h5>

<div class="side-note">
<p class="lead">For Windows</p>

<p>The quickest way to shut down the database server is to press Ctrl-C to initiate a <em>normal shutdown</em>. DO NOT KILL the server via the window's CLOSE button.</p>
<p>Observe these messages from the MySQL server console:</p>
<pre class="command">XXXXXX XX:XX:XX [Note] mysqld: <span class="new">Normal shutdown</span>
......
XXXXXX XX:XX:XX  InnoDB: Starting shutdown...
XXXXXX XX:XX:XX  InnoDB: Shutdown completed; log sequence number 0 44233
......
XXXXXX XX:XX:XX [Note] mysqld: <span class="new">Shutdown complete</span>
<strong>(You may need to press ENTER to get the command prompt?!)</strong></pre>

</div>

<div class="side-note">

<p class="lead">For macOS</p>

<p><strong>The EASY WAY</strong>: Via  the graphical control. Click &quot;Apple&quot; Icon &rArr; System Preferences &rArr; MySQL &rArr; Stop.</p>
</div>

<p><span class="lead">WARNING</span>: You should properly shutdown the MySQL server. Otherwise, you might corrupt the database and might have problems restarting it. BUT, if you encounter problem shutting down the server normally, you may kill the  &quot;<code>mysqld</code>&quot; process in <strong>Task Manager</strong> (for Windows); or <strong>Activity Monitor</strong> (for macOS); or <strong>System Monitor</strong> (for Ubuntu).</p>


<h4>Step 4:  Start a &quot;Client&quot;</h4>

<p>Recall that the MySQL is a client-server system. Once the server is started, one or more clients can be connected to the database server. A client could be run on the same machine (local client); or from another machine  over the network (remote client).</p>

<p>To login to the MySQL server, you need to provide a <em>username</em> and <em>password</em>. During the installation, MySQL creates a <em>superuser</em> called &quot;<code>root</code>&quot; with a temporary  password. I hope that you have taken note of this password! (Otherwise, re-install!)</p>

<p>The MySQL installation provides a command-line client program called &quot;<code>mysql</code>&quot;. (Recall that the server program is called &quot;<code>mysqld</code>&quot; with a suffix <code>'d'</code>; the client program does not have the suffix '<code>d</code>').</p>

<p>Let's start a command-line client with the superuser &quot;<code>root</code>&quot;.</p>
<p>First, <span class="new">make sure that the server is running</span>. See previous step to re-start the server if it has been shutdown.</p>

<div class="side-note">

<p class="lead">For Windows</p>
<p>Start <span class="new"><strong>Another NEW</strong></span> CMD shell to run the client (You need to keep the CMD that run the server):</p>

<pre class="command">
<span class="comment">-- Change the current directory to MySQL's binary directory.
-- Assume that the MySQL is installed in &quot;c:\myWebProject\mysql&quot;.</span>
<strong>c:</strong>
<strong>cd \myWebProject\mysql\bin</strong>
   
<span class="comment">-- Start a client as superuser &quot;root&quot; (-u), and prompt for password (-p)</span>
<span class="new"><strong>mysql -u root -p</strong></span>
Enter password:   <span class="new">// Enter the root's password set during installation.
</span>Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 1
Server version: 8.0.xx
Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

<strong><span class="new">mysql&gt;</span></strong>
<span class="comment">-- Client started. The prompt changes to &quot;mysql&gt;&quot;.
-- You can now issue SQL commands such as SELECT, INSERT and DELETE.</span></pre>

</div>

<div class="side-note">

<p class="lead">For macOS</p>
<p>Open a <span class="new"><strong>NEW</strong></span> &quot;Terminal&quot; and issue these commands to start a MySQL client with superuser <code>root</code>:</p>

<pre class="command">
<span class="comment">-- Change the current directory to MySQL's binary directory.</span>
<strong>cd /usr/local/mysql/bin</strong>
 
<span class="comment">-- Start a client with superuser &quot;root&quot; (-u), and prompt for password (-p)</span>
<span class="new"><strong>./mysql -u root -p</strong></span>
Enter password:   <span class="new">// Enter the root's password given during installation. You will NOT any * for maximum security
</span>Welcome to the MySQL monitor.  Commands end with ; or \g.
......
<strong><span class="new">mysql&gt;</span></strong>
<span class="comment">-- Client started. The prompt changes to &quot;mysql&gt;&quot;.
-- You can now issue SQL commands such as SELECT, INSERT and DELETE.</span></pre>

</div>

<p><span class="lead">(Skip Unless...) </span> Read &quot;<a href="MySQL_HowTo.html#debug">How to Debug</a>&quot;.</p>

<h4>Step 5: Change the Password for the Superuser &quot;root&quot;</h4>
<p>As mentioned earlier, the MySQL installation creates a <em>superuser</em> called &quot;<code>root</code>&quot; with a temporary random password. &quot;<code>root</code>&quot; is a <em>privileged user</em> that can do anything, including deleting all the databases. You are required to change the root's password immediately after logging in.</p>

<p><span class="lead">Notes:</span> If you get stuck  entering a command, press Ctrl-C to abort the current command.</p>

<h5>Changing the Password for  &quot;root&quot;</h5>

<p>Let's continue with our client session started earlier.</p>
<p></p>
<pre class="command">
<span class="comment"></span><span class="comment">-- Change password for 'root'@'localhost'. Replace xxxx with your chosen password
-- (For macOS, there is no need to change the password, but there is no harm trying it out)
-- <span class="new">(For my students: use xxxx as the password. Otherwise,</span> <span class="new">you will ask me what is your password next week.)</span>
-- Take note that strings are to be enclosed by a pair of single-quotes in MySQL.</span>
mysql&gt; <strong>alter user 'root'@'localhost' identified by '<span class="new">xxxx</span>';</strong>
Query OK, 0 rows affected (0.00 sec)

<span class="comment">-- Query the password</span>
mysql&gt; <strong>select Host, User, authentication_string from mysql.user;</strong>
+-----------+------------------+---------------------------+
| Host      | User             | authentication_string     |
+-----------+------------------+---------------------------+
| localhost | root             | $A$005....                |
| ....      | ....             | ........                  |
+-----------+------------------+---------------------------+
   <span class="comment">-- Take note that the &quot;HASH&quot; of the password is saved, NOT the &quot;PLAIN&quot; password
   -- [Starting from MySQL 5.x, the &quot;Password&quot; field was removed?!]</span>

<span class="comment">-- logout and terminate the client program</span>
mysql&gt; <strong>quit</strong>
Bye</pre>

<h5>Re-Start a Client as &quot;root&quot; with the New Password</h5>

<p>We have just changed the password for <code>root</code> and exited the client. Start a client and login as <code>root</code> again. Enter the password when prompted.</p>

<div class="side-note">
<p class="lead">For Windows</p>
<pre class="command"><span class="comment">-- Change directory to MySQL's binary directory</span>
<strong>c:
cd \myWebProject\mysql\bin</strong>
<span class="comment">-- Start a MySQL client</span>
<strong>mysql -u root -p</strong>
Enter password:   <span class="comment">// Enter the NEW password</span>
Welcome to the MySQL monitor.
......  
<span class="new">mysql&gt;</span>
<span class="comment">-- client started, ready to issue SQL command</span></pre>
</div>

<div class="side-note">
<p class="lead">For macOS</p>
<pre class="command"><span class="comment">-- Change directory to MySQL's binary directory</span>
<strong>cd /usr/local/mysql/bin</strong>
<span class="comment">-- Start a MySQL client</span>
<strong>./mysql -u root -p</strong>
Enter password:  <span class="comment">// Enter the NEW password</span>
Welcome to the MySQL monitor.
......
<span class="new">mysql&gt;</span>
<span class="comment">-- client started, ready to issue SQL command</span></pre>

</div>

<h4>Step 6:  Create a New User</h4>
<p>The superuser &quot;root&quot; is privileged, which is meant for database administration and is not meant for operational. We shall create a new user - let's call it &quot;<code>myuser</code>&quot; -  with a lesser privilege. To create a new user,  start a client with superuser &quot;<code>root</code>&quot;:</p>

<pre class="command">
<span class="comment">-- Start a client, IF IT IS NOT STARTED</span>
<strong>mysql -u root -p</strong>     <span class="comment">// Windows</span>
<strong>./mysql -u root -p</strong>   <span class="comment">// macOS</span>
   
<span class="comment">-- Create a new user called &quot;myuser&quot;, which can login from localhost, with password &quot;xxxx&quot;</span>
mysql&gt; <strong>create user 'myuser'@'localhost' identified by '<span class="new">xxxx</span>';</strong>
Query OK (0.01 sec)
   
<span class="comment">-- Grant permission to myuser to perform tasks</span>
mysql&gt; <strong>grant all on *.* to 'myuser'@'localhost';</strong>
Query OK (0.01 sec)
   
<span class="comment"></span>mysql&gt; <strong>quit</strong></pre>

<h5>Explanation</h5>
<ul>
<li><span class="line-heading-code-new">CREATE USER 'myuser'@'localhost' IDENTIFIED BY 'xxxx'</span><br />
We use the command &quot;<code>create user</code>&quot; to create a new user called <code>'myuser'@'localhost'</code>, who can login to the server locally from the same machine (but not remotely from another machine), with password &quot;<code>xxxx</code>&quot;.</li>

<li><span class="line-heading-code-new">GRANT ALL ON *.* TO 'myuser'@'localhost'</span><br />
The newly created user has NO privilege to perform any database operation including <code>select</code>. We use the &quot;<code>grant</code>&quot; command to grant &quot;<code>all</code>&quot; the privileges (including <code>select</code>, <code>insert</code>, <code>delete</code>, and so on) to this new user on ALL the databases and ALL the tables (&quot;<code>on *.*</code>&quot;). This new user, in practice, has the same privilege as <code>root</code>, except that it cannot issue <code>grant</code> command. For production, you should grant only the necessary privileges on selected databases and selected tables, e.g., &quot;<code>grant select</code>, <code>insert</code>, <code>update on studentdb.*</code>&quot; - it can issue <code>select</code>, <code>insert</code> and <code>update</code> (but no <code>delete</code>, <code>create/drop table</code>) on ALL the tables of the database <code>studentdb</code> only.</li>
</ul>

<h4>Step 7:  Create a new Database, a new Table in the Database, Insert Records, Query and Update</h4>
<p>Recall that the MySQL server organizes data in the following hierarchy:</p>
<ol>
<li>A system contains many <em>databases</em>.</li>
<li>A database contains many <em>tables</em>.</li>
<li>A table contains <em>rows</em> (<em>records</em>) and <em>columns</em> (<em>fields</em>).</li>
</ol>

<p>Let's create a database called &quot;<code>studentdb</code>&quot;, and  a table called &quot;<code>class101</code>&quot; in the database. The table shall have three columns: <code>id</code> (of the type <code>INT</code> - integer), <code>name</code> (of the type <code>VARCHAR(50)</code> - variable-length string of up to 50 characters), <code>gpa</code> (of the type <code>FLOAT</code> - floating-point number).</p>

<p><span class="lead">CAUTION</span>: Programmers don't use <em>blank</em> and <em>special characters</em> in <em>NAMES</em> (database names, table names, column names). It is either not supported, or will pose you many more challenges.</p>

<h5>Tips on  Using Client's Session (Come Back to this Section If You Get Stuck in Running Command)</h5>

<p>Before we proceed, here are some tips on using the client:</p>
<ul>
<li>You need to terminate your command with a semicolon (<code>;</code>), which sends the command to the server for processing. E.g.,
<pre class="command">
mysql&gt; <strong>select * from class101<span class="new">;</span></strong>
<span class="comment">-- Terminate a command with ';' to send the command to the server for processing</span></pre>
</li>

<li>A command can span several lines. The prompt for subsequent lines changes to <code>-&gt;</code> to denote continuation. You need to terminate the command with a semicolon (<code>;</code>). E.g.,
<pre class="command">
mysql&gt; <strong>select * </strong>
    -&gt; <strong>from class101</strong>
    -&gt; 
    -&gt; <strong><span class="new">;</span></strong>
<span class="comment">-- A command can span several lines, ended with a semicolon.</span></pre>

In other words, if you forget to type <code>';'</code>, you can type the <code>';'</code> on the next line.</li>



<li>You can use <code>\c</code> to <em>cancel</em> (<em>abort</em>) the current command. E.g.,
<pre class="command">
mysql&gt; <strong>select * from class101 <span class="new">\c</span></strong>
<span class="comment">-- abort (cancel) the command</span></pre>
</li>

<li>If you open a single/double quote, without closing it, the continuation prompt changes to <code>'&gt;</code> or <code>&quot;&gt;</code> (instead of <code>-&gt;</code>). For example,
<pre class="command">
mysql&gt; <strong>select <span class="new">'</span>xxx</strong>  <span class="comment">// single-quote not closed</span>
    <strong>'&gt;</strong> <span class="new"><strong>'</strong></span>            <span class="comment">// close the single-quote</span>
    -&gt; <span class="new"><strong>\c</strong></span>           <span class="comment">// abort</span>
    
mysql&gt; <strong>select <span class="new">&quot;</span>xxx</strong>  <span class="comment">// double-quote not closed</span>
    <strong>&quot;&gt;</strong> <span class="new"><strong>&quot;</strong></span>            <span class="comment">// close the double-quote</span>
    -&gt; <span class="new"><strong>\c</strong></span>           <span class="comment">// abort</span></pre>
</li>

<li>You can also press Ctrl-C to abort the current command.</li>
<li>You can use up/down arrow keys to retrieve the previous/next commands, from the &quot;command history&quot;.</li>
<li>(For Windows 10) You should enable Copy/Paste functions of CMD shell. To enable Copy/Paste, click the CMD's icon &rArr; Properties &rArr; Options &rArr; Edit Options &rArr; Check &quot;Enable Ctrl key shortcuts&quot;. You can then use Ctrl-C/Ctrl-V for Copy/Paste.</li>
</ul>

<h5>SQL Programming</h5>

<p>Let's start a client with our newly-created user &quot;<code>myuser</code>&quot;.</p>

<pre class="command">
<span class="comment">-- Start a client
</span><strong>mysql -u myuser -p  </strong>   <span class="comment">// Windows</span>
<strong>./mysql -u myuser -p</strong>   <span class="comment">// macOS</span>
   
<span class="comment">-- Create a new database called 'studentdb'</span>
mysql&gt; <strong>create database if not exists studentdb;</strong>
Query OK, 1 row affected (0.08 sec)
   
<span class="comment">-- List all the databases in this server</span>
mysql&gt; <strong>show databases;</strong>
+--------------------+
| Database           |
+--------------------+
| ......             |
| <strong>studentdb</strong>          |
| ......             |
+--------------------+
x rows in set (0.07 sec)
   
<span class="comment">-- Use 'studentdb' database as the default (current) database
-- You can refer to tables in the default database by the '<em>tablename</em>' alone,
--   instead of '<em>databasename</em>.<em>tablename</em>' for non-default database.</span>
mysql&gt; <strong>use studentdb;</strong>
Database changed
   
<span class="comment">-- Remove the table 'class101' in the default database if it exists</span>
mysql&gt; <strong>drop table if exists class101;</strong>
Query OK, 0 rows affected, 1 warning (0.15 sec)
   
<span class="comment">-- Create a new table called 'class101' in the default database 'studentdb',
--   with 3 columns of the specified types</span>
mysql&gt; <strong>create table class101 (id int, name varchar(50), gpa float);</strong>
Query OK, 0 rows affected (0.15 sec)
   
<span class="comment">-- List all the tables in the default database 'studentdb'</span>
mysql&gt; <strong>show tables;</strong>
+---------------------+
| Tables_in_studentdb |
+---------------------+
| <strong>class101</strong>            |
+---------------------+
1 row in set (0.00 sec)
   
<span class="comment">-- Describe the 'class101' table (List its columns' definition)</span>
mysql&gt; <strong>describe class101;</strong>
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| id    | int(11)     | YES  |     | NULL    |       |
| name  | varchar(50) | YES  |     | NULL    |       |
| gpa   | float       | YES  |     | NULL    |       |
+-------+-------------+------+-----+---------+-------+
3 rows in set (0.04 sec)
   
<span class="comment">-- Insert a row into 'class101' table.
-- Strings are single-quoted. No quotes for INT and FLOAT values.</span>
mysql&gt; <strong>insert into class101 values (11, 'Tan Ah Teck', 4.8);</strong>
Query OK, 1 row affected (0.03 sec)
   
<span class="comment">-- Insert another row</span>
mysql&gt; <strong>insert into class101 values (22, 'Mohamed Ali', 4.9);</strong>
Query OK, 1 row affected (0.03 sec)
   
<span class="comment">-- Select all columns (*) from table 'class101', and all rows</span>
mysql&gt; <strong>select * from class101;</strong>
+----+-------------+------+
| id | name        | gpa  |
+----+-------------+------+
| 11 | Tan Ah Teck |  4.8 |
| 22 | Mohamed Ali |  4.9 |
+----+-------------+------+
2 rows in set (0.00 sec)
  
<span class="comment">-- Select some columns from table 'class101', and rows that match the conditions</span>
mysql&gt; <strong>select name, gpa from class101 where gpa &gt; 4.85;</strong>
+-------------+------+
| name        | gpa  |
+-------------+------+
| Mohamed Ali |  4.9 |
+-------------+------+
1 rows in set (0.00 sec)
  
<span class="comment">-- Update the given field of the selected records</span>
mysql&gt; <strong>update class101 set gpa = 4.4 where name = 'Tan Ah Teck';</strong>
Query OK, 1 row affected (0.05 sec)<br />Rows matched: 1  Changed: 1  Warnings: 0   
 
mysql&gt; <strong>select * from class101;</strong>
+----+-------------+------+
| id | name        | gpa  |
+----+-------------+------+
| 11 | Tan Ah Teck |  4.4 |
| 22 | Mohamed Ali |  4.9 |
+----+-------------+------+
2 rows in set (0.00 sec)
 
<span class="comment">-- Delete selected records</span>
mysql&gt; <strong>delete from class101 where id = 22;</strong>
Query OK, 1 row affected (0.03 sec)
   
mysql&gt; <strong>select * from class101;</strong>
+----+-------------+------+
| id | name        | gpa  |
+----+-------------+------+
| 11 | Tan Ah Teck |  4.4 |
+----+-------------+------+
1 rows in set (0.00 sec)
 
<span class="comment">-- Instead of entering one command at one time, you can STORE a few SQL commands <br />--   in a <strong>TEXT FILE</strong> (called SQL script) and run the script (FILE).
-- Use a programming text editor (e.g., Sublime Text) to <span class="new"><strong>CREATE a NEW FILE</strong></span> called &quot;mycommands.sql&quot; 
--   containing the following three SQL statements.
-- <strong>(For Windows)</strong> Save the file under &quot;c:\myWebProject&quot;.
-- <strong>(For macOS)</strong> Save the file under &quot;~/myWebProject&quot;, where &quot;~&quot; denotes your home directory.
<span class="new"><strong>insert into class101 values (33, 'Kumar', 4.8);
insert into class101 values (44, 'Kevin', 4.6);
Select * from class101;</strong></span>

-- After you created the FILE, you can use the following &quot;source&quot; command 
--   to run the SQL script.
-- You need to provide the full path to the script.
-- <strong>(For Windows)</strong> The full-path filename is c:\myWebProject\mycommands.sql
-- <strong>(For macOS)</strong> The full-path filename is ~/myWebProject/mycommands.sql</span>
mysql&gt; <strong>source <span class="new">c:\myWebProject</span>\mycommands.sql   <span class="comment">// For Windows</span></strong>
mysql&gt; <strong>source <span class="new">~/myWebProject</span>/mycommands.sql    <span class="comment">// For macOS</span></strong>
Query OK, 1 row affected (0.00 sec)   <span class="comment">-- INSERT command output</span>
Query OK, 1 row affected (0.00 sec)   <span class="comment">-- INSERT command output</span>
+------+-------------+------+         <span class="comment">-- SELECT command output</span>
| id   | name        | gpa  |
+------+-------------+------+
|   11 | Tan Ah Teck |  4.4 |
|   33 | Kumar       |  4.8 |
|   44 | Kevin       |  4.6 |
+------+-------------+------+
3 rows in set (0.00 sec)</pre>

<h5>Exercises:</h5>
<ol>
<li>Select records with names starting with letter <code>'K'</code>. (Hints: <code>name LIKE 'K%'</code>, see Section &quot;<a href="MySQL_HowTo.html#ByExamples">SQL by Examples</a>&quot;)</li>
<li>Select records with names NOT starting with letter <code>'K'</code>. (Hints: <code>name NOT LIKE ...</code>)</li>
<li>Select records with <code>gpa</code> between 4.35 and 4.65. (Hints: <code>gpa &gt;= ?? AND gpa &lt;= ??</code>)</li>
<li>Select records with names having a letter <code>'e'</code>. (Hints: <code>name LIKE '%e%'</code>)</li>
<li>Select records with names having a letter <code>'e'</code> or <code>'a'</code>. (Hints: <code>name LIKE ??  OR name LIKE ??</code>)</li>
<li>Select records with names having a letter <code>'e'</code> and <code>gpa &ge; 4.5</code>.</li>
</ol>

<p><span class="lead">(Skip Unless... )</span> Read &quot;<a href="MySQL_HowTo.html#debug">How to Debug</a>&quot;.</p>

<h4>More Exercises</h4>

<ol>
<li>Show all the databases.</li>
<li>Create a new database called &quot;<code>ABCTrading</code>&quot;.</li>
<li>Set the &quot;<code>ABCTrading</code>&quot; database as the default database.</li>
<li>Show all the tables in the default database.</li>
<li>Create a new table called &quot;<code>product</code>&quot; with the columns and type indicated below.
<pre class="example">
+-------+----------+-------------+----------+---------+
| id    | category | name        | quantity | price   |
| (INT) | CHAR(3)  | VARCHAR(20) | (INT)    | (FLOAT) |
+-------+----------+-------------+----------+---------+
| 1001  | PEN      | Pen Red     |     5000 |  1.23   |
| 1002  | PEN      | Pen Blue    |     8000 |  1.25   |
| 1003  | PEN      | Pen Black   |     2000 |  1.25   |
| 1004  | PCL      | Pencil 2B   |    10000 |  0.49   |
| 1005  | PCL      | Pencil 2H   |     9000 |  0.48   |
+-------+----------+-------------+----------+---------+</pre></li>

<li> Show the table description.</li>
<li>Insert the above records and list all the records.</li>
<li>List records with name containing &quot;<code>Pencil</code>&quot;.</li>
<li>List records with price &ge; 1.0.</li>
<li>Increase the price of all items by 10%, and list all the records.</li>
<li>Remove &quot;Pen Red&quot; from the table, and list all the records.</li>

</ol>

<h3>Many-to-many Relationship</h3>

<p>In a bookstore, a book is written by one or more authors; an author may write zero or more books. This is known as a <em>many-to-many relationship</em>. It is IMPOSSIBLE to capture many-to-many relationship in a SINGLE table (or one spreadsheet) with a fixed number of columns,  without duplicating any piece of information! For example, if you organize the data in the table below, you will not know how many author columns to be used; and you need to repeat all the data for repeating authors.</p>
<img src="images/ManyToManyInOneTable.png" alt="many-to-many"/>

<p> The many-to-many relationship between books and authors can be modeled with 3 tables, as shown below. A <code>books</code> table contains data about books (such as title and price); an <code>authors</code> table contains data about the authors (such as name and email). A table called <code>books_authors</code> joins the <code>books</code> and <code>authors</code> tables and captures the <em>many-to-many</em> relationship between <code>books</code> and <code>authors</code>.</p>

<img src="images/BookStore_ManyToMany.png"  alt="image" width="699" height="562" class="image-left image-border" />

<h5>Exercises</h5>

<ol>
<li>Create a database called &quot;<code>mybookstore</code>&quot;.</li>
<li>Use &quot;<code>mybookstore</code>&quot; as the default database.</li>
<li>Create 3 tables &quot;<code>book</code>&quot;, &quot;<code>author</code>&quot;, and &quot;<code>book_author</code>&quot; in the database &quot;<code>mybookstore</code>&quot;, with column names and types as shown in the database ER diagram.</li>
<li>Insert the respective records into the tables (make sure that your values are arranged in the the correct order, as defined in <code>CREATE TABLE</code>); and list the contents of each of the tables via &quot;<code>select *</code>&quot;.</li>
<li>Try this query:
<pre class="example">
SELECT * FROM book, book_author, author;</pre>
You shall get 4+2+3=9 columns (of the 3 tables); and 4*7*4=112 rows (of all combinations of rows of the 3 tables). This is NOT a meaningful query!</li>
<li>Try these queries and observe how you can meaningfully join the tables:
<pre class="example">
SELECT * FROM book_author, book, author
   WHERE <span class="new"><strong>book.isbn = book_author.isbn</strong></span>
      AND <span class="new"><strong>author.id = book_author.authorID</strong></span></pre>

You shall get 7 records, same as the number of row in <code>book_author</code> table, where the FKs are expanded to their corresponding PK.
 
<pre class="example">
SELECT book.title, book.price, author.name
   FROM book, book_author, author
   WHERE <span class="new"><strong>book.isbn = book_author.isbn</strong></span>
      AND <span class="new"><strong>author.id = book_author.authorID</strong></span>
      ORDER BY book.title ASC;
 
SELECT author.name, book.title, book.price, book.qty
   FROM book, book_author, author
   WHERE <span class="new"><strong>book.isbn = book_author.isbn</strong></span>
      AND <span class="new"><strong>author.id = book_author.authorID</strong></span>
      ORDER BY author.name ASC;</pre>
</li>

<li>Try this query and explain the output:
<pre class="example">
SELECT book.title, book.price, book.qty
   FROM book, book_author, author
   WHERE <span class="new"><strong>book.isbn = book_author.isbn</strong></span>
      AND <span class="new"><strong>author.id = book_author.authorID</strong></span>
      AND author.name = 'Tan Ah Teck'
      ORDER BY book.price DESC;</pre>
</li>

<li>List all the books (<code>title</code>, <code>price</code>, <code>qty</code>) by &quot;Tan Ah Teck&quot; with <code>price</code> less than <code>20</code>.</li>

<li>List all the authors (<code>name</code> and <code>email</code>) for the book title &quot;Java for Dummies&quot;.</li>
<li>List all the books (<code>title</code>, <code>price</code>, <code>qty</code>) and all the authors (<code>name</code> and <code>email</code>) for books with title beginning with &quot;Java&quot; (Hints: <code>title LIKE 'Java%'</code>).</li>

</ol>

<h5>Database Entity-Relationship (ER) diagram</h5>
<p>The following Database ER (Entity-Relationship) diagram was drawn while trying out Figma in 2023 (Figma is evolving continuously!). MySQLWorkbench also can produces database ER diagram.</p>
<img src="images/MySQLHowTo&#32;-&#32;Mybookstore&#32;ER.png"  alt="image" width="720" height="395" class="image-left image-border" />


<h3 id="Backup">(Optional) Backup and Restore Databases</h3>

<h4>Backup via &quot;<code>mysqldump</code>&quot; Utility Program</h4>

<p>You can use the <code>&quot;mysqldump&quot;</code> utility program to back up (i) the entire server (all databases), (ii) selected databases, or (ii) selected tables of a database. The &quot;<code>mysqldump</code>&quot; program generates a SQL script that can later be executed to re-create the databases, tables and their rows.</p>


<p>For example, the following command backups the entire &quot;<code>studentdb</code>&quot; database to a SQL script called &quot;<code>backup_studentdb.sql</code>&quot;.</p>

<div class="side-note">
<p class="lead">For Windows</p>
<pre class="command">
<span class="comment">-- Start a <span class="new">NEW</span> &quot;cmd&quot;</span>
<strong>c:</strong>
<strong>cd \myWebProject\mysql\bin</strong>
<strong>mysqldump -u myuser -p --databases studentdb &gt; &quot;c:\myWebProject\backup_studentdb.sql&quot;</strong></pre>
</div>

<div class="side-note">
<p class="lead">For macOS</p>
<pre class="command">
<span class="comment">-- Start a <span class="new">NEW</span> &quot;terminal&quot;</span>
<strong>cd /usr/local/mysql/bin</strong>
<strong>./mysqldump -u myuser -p --databases studentdb &gt; ~/myWebProject/backup_studentdb.sql</strong>
     <span class="comment">// ~ denotes the home directory of the current login user</span></pre>

</div>

<p>Study the output file, which contains <code>CREATE DATABASE</code>, <code>CREATE TABLE</code> and <code>INSERT</code> statements to re-create the database and tables dumped earlier.</p>

<h4>Restore via &quot;<code>source</code>&quot; command in a mysql client</h4>

<p>You can restore from the backup by running the &quot;<code>source</code>&quot; command in a MySQL client. For example, to restore the <code>studentdb</code> backup earlier:</p>

<div class="side-note">
<p class="lead">For Windows</p>
<pre class="command">
<span class="comment">-- Start a MySQL client</span>
<strong></strong><strong>c:
cd \myWebProject\mysql\bin</strong>
<strong>mysql -u myuser -p</strong>
<span class="comment">-- Run the backup script to recreate the database</span>
mysql&gt; <strong>drop database if exists studentdb;</strong>
mysql&gt; <strong>source c:\myWebProject\backup_studentdb.sql</strong></pre>
</div>

<div class="side-note">
<p class="lead">For macOS</p>
<pre class="command">
<span class="comment">-- Start a MySQL client</span>
<strong>cd /usr/local/mysql/bin</strong>
<strong>./mysql -u myuser -p</strong>
<span class="comment">-- Run the backup script to recreate the database</span>
mysql&gt; <strong>drop database if exists studentdb;</strong>
mysql&gt; <strong>source ~/myWebProject/backup_studentdb.sql</strong></pre>
</div>

<h3>Summary of Frequently-Used Commands</h3>

<h5>(For Windows) Starting MySQL Server and Client</h5>
<pre class="syntax">
<span class="comment">-- Start the Server</span>
cd <span class="new"><em>path-to-mysql-bin</em></span>
mysqld --console
 
<span class="comment">-- Shutdown the Server</span>
Ctrl-c
 
<span class="comment">-- Start a Client</span>
cd <span class="new"><em>path-to-mysql-bin</em></span>
mysql -u <em>username</em> -p</pre>
 
<h5>(For macOS) Starting MySQL Server and Client</h5>
<pre class="syntax">
<span class="comment">-- Start/shutdown the Server: 
-- Use Graphical Control</span>
 
<span class="comment">-- Start a Client</span>
cd /usr/local/mysql/bin
./mysql -u <em>username</em> -p</pre>
 


<h5>Frequently-used MySQL Commands</h5>
<p>MySQL commands are NOT case sensitive.</p>

<pre class="syntax">
<span class="comment">-- General</span>
;           <span class="comment">-- Sends command to server for processing (or \g)</span>
\c          <span class="comment">-- Cancels (aborts) the current command</span>
 
<span class="comment">-- Database-level</span>
DROP DATABASE <em>databaseName</em>;                 <span class="comment">-- Deletes the database</span>
DROP DATABASE IF EXISTS <em>databaseName</em>;       <span class="comment">-- Deletes only if it exists</span>
CREATE DATABASE <em>databaseName</em>;               <span class="comment">-- Creates a new database</span>
CREATE DATABASE IF NOT EXISTS <em>databaseName</em>; <span class="comment">-- Creates only if it does not exists</span>
SHOW DATABASES;                             <span class="comment">-- Shows all databases in this server</span>
   
<span class="comment">-- Set default database.
-- Otherwise you need to use the fully-qualified name, in the form 
--   of &quot;<em>databaseName.tableName</em>&quot;, to refer to a table.</span>
USE <em>databaseName</em>
   
<span class="comment">-- Table-level</span>
DROP TABLE <em>tableName</em>;
DROP TABLE IF EXISTS <em>tableName</em>;
CREATE TABLE <em>tableName</em> (<em>column1Definition</em>, <em>column2Definition</em>, ...);
CREATE TABLE IF NOT EXISTS <em>tableName</em> (<em>column1Definition</em>, <em>column2Definition</em>, ...);
SHOW TABLES;              <span class="comment">-- Shows all the tables in the default database</span>
DESCRIBE <em>tableName</em>;       <span class="comment">-- Describes the columns for the table</span>
DESC <em>tableName</em>;           <span class="comment">-- Same as above</span>
   
<span class="comment">-- Record-level (CURD - create, update, read, delete)</span>
INSERT INTO <em>tableName</em> VALUES (<em>column1Value</em>, <em>column2Value</em>,...);
INSERT INTO <em>tableName</em> (<em>column1Name</em>, ..., <em>columnNName</em>) 
   VALUES (<em>column1Value</em>, ..., <em>columnNValue</em>);
DELETE FROM <em>tableName</em> WHERE <em>criteria</em>;
UPDATE <em>tableName</em> SET <em>columnName</em> = <em>expression</em> WHERE <em>criteria</em>;
SELECT <em>column1Name</em>, <em>column2Name, ...</em> FROM <em>tableName</em> 
   WHERE <em>criteria</em>
   ORDER BY <em>columnAName</em> <span class="underline">ASC</span>|DESC, <em>columnBName</em> <span class="underline">ASC</span>|DESC, ...;
  
<span class="comment">-- Running a script of MySQL statements</span>
SOURCE <em>full-Path-Filename</em></pre>

<h3 id="debug">(Skip Unless...) How to Debug?</h3>

<p>&quot;Everything that can possibly go wrong will go wrong.&quot; The most important thing to do is to find the <strong><span class="new">ERROR MESSAGES</span></strong>!!!</p>

<h4 id="vcruntime">&quot;VCRUNTIME140_1.dll  was not found&quot; when Running the Initialization for Windows</h4>
<p><span class="lead">CAUSE</span>: You do not have the required &quot;Microsoft Visual C++ redistributable runtime&quot;.</p>
<p><span class="lead">SOLUTION</span>: Goto &quot;The latest supported Visual C++ downloads&quot; @ <a href="https://support.microsoft.com/en-gb/help/2977003/the-latest-supported-visual-c-downloads">https://support.microsoft.com/en-gb/help/2977003/the-latest-supported-visual-c-downloads</a> &rArr; Download &quot;x64: <code>vc_redist.x64.exe</code>&quot; &rArr; run the executable to install &quot;Microsoft Visual C++ 2015-2019 redistributable (x64)&quot; &rArr; Restart your computer &rArr; You can find &quot;<code>vcruntime140_1.dll</code>&quot; under &quot;<code>C:\Windows\System32</code>&quot;.</p>


<h4 id="MySQLErrorsInstall">Cannot Start the MySQL Server after Installation</h4>
<p>First of all, check if you have already started an instance of MySQL Server:</p>
<ul>
  <li>For Windows, start the &quot;Task Manager&quot;, select &quot;Processes&quot; and look for &quot;<code>mysqld</code>&quot; processes. &quot;End&quot; all the &quot;<code>mysqld</code>&quot; processes.</li>
  <li>For macOS, start the &quot;Activity Monitor&quot;, select &quot;All Processes&quot; and look for  &quot;<code>mysqld</code>&quot; processes. &quot;Kill&quot; all the &quot;<code>mysqld</code>&quot; processes.</li>
  <li>For Ubuntu, start the &quot;System Monitor&quot; and look for  &quot;<code>mysqld</code>&quot; processes. &quot;Kill&quot; all the &quot;<code>mysqld</code>&quot; processes.</li>
</ul>

<br />
<pre class="command">
<strong>SYMPTOM:</strong> Cannot start mysql server
<strong>ERROR MESSAGES:</strong>
<span class="error">xxxxxx [InnoDB] The innodb_system data file 'ibdata1' must be writable
xxxxxx [InnoDB] The innodb_system data file 'ibdata1' must be writable
xxxxxx [Server] Failed to initialize DD Storage Engine
xxxxxx [Server] Data Dictionary initialization failed.
xxxxxx [Server] Aborting</span>
<strong>PROBABLE CAUSES:</strong> A MySQL server has already started holding on to the databases
<strong>POSSIBLE SOLUTIONS:</strong> Shutdown or Kill the current server, before starting a new one.
</pre>
	
<h4>&quot;Permission Denied&quot; in creating temp files under macOS</h4>
<p>No more disk space?!</p>

<h4 id="MySQLErrorsClient">Cannot Start the &quot;<code>mysql</code>&quot; Client</h4>
<pre class="command">
<strong>SYMPTOM:</strong> Cannot start mysql client
<strong>ERROR MESSAGE:</strong> <span class="error">error 2003 (HY000): Can't connect to MySQL server on 'localhost' (10061)</span>
<strong>PROBABLE CAUSES:</strong> 
  1. MySQL Server is NOT started, or
  2. The client was connecting to the wrong port number
<strong>POSSIBLE SOLUTIONS:</strong> 
  1. Check to make sure that the MySQL server has been started. 
     Note down the server's port number from the server's console.
  2. Run a client with command &quot;<strong>mysql -u root --port=xxxx</strong>&quot; to specify the server's port number manually.
  3. Check &quot;my.ini&quot;, make sure that you have a [client] section with port=xxxx.

<strong>SYMPTOM:</strong> Cannot start mysql client
<strong>ERROR MESSAGE:</strong> <span class="error">error 2005 (hy000) unknown mysql server host 'localhost'</span>
<strong>PROBABLE CAUSES:</strong> Somehow your localhost is not bound to 127.0.0.1
<strong>POSSIBLE SOLUTIONS:</strong>
  1. Try &quot;ping localhost&quot; to check if &quot;localhost&quot; exists.
  2. (Windows) Check &quot;C:\Windows\System32\drivers\etc\hosts&quot; file. There should be an entry:
     127.0.0.1       localhost
     Remove all the other localhost entries, if any.</pre>

<h4 id="MySQLErrorsUsingClient">Error Using the &quot;<code>mysql</code>&quot; Client</h4>

<pre class="command">
<strong>ERROR MESSAGE: </strong><span class="error">Stuck at entering SQL commands</span>
<strong>PROBABLE CAUSES:</strong> Syntax errors in the current command
<strong></strong><strong>POSSIBLE SOLUTIONS:</strong>
  1) Abort the current command pressing Ctrl-C
  2) Abort the current command using \c
     a) Enter \c if the prompt is -&gt; or mysql&gt;
     b) Enter '\c if the prompt is '&gt;
     c) Enter &quot;\c if the prompt is &quot;&gt;

<strong>ERROR MESSAGE: </strong><span class="error">error 1046 (3D000): No database selected</span>
<strong>PROBABLE CAUSES:</strong> The default database is not set
<strong>POSSIBLE SOLUTIONS:</strong> 
  1) Issue command &quot;use database&quot; to set the default database, or
  2) Use the fully-qualified name in the form of &quot;<em>databaseName.tableName</em>&quot;.
  
<strong>ERROR MESSAGE: </strong><span class="error">error 1005 (HY000): Can't create table '...' (errno: 150)</span>
<strong>PROBABLE CAUSES:</strong>
A foreign key references a parent table's column which is not indexed. Create index for that column in the parent table.

<strong>ERROR MESSAGE: </strong><span class="error">ERROR 1396 (HY000): Operation CREATE USER failed for 'myuser'@'localhost'</span>
<strong>PROBABLE CAUSES:</strong>
This user already created!

<strong>SYMPTOM:</strong> Logical error in comparing floating point numbers for equality. 
   For example, &quot;SELECT * FROM class101 WHERE gpa = 4.4&quot; 
   yields <span class="error">empty set</span> although there is a record with gpa=4.4.
<strong>PROBABLE CAUSES</strong>: 
   &quot;gpa&quot; has the type of FLOAT.
<strong></strong>   Floating point numbers are not stored &quot;accurately&quot;.
<strong>POSSIBLE SOLUTION</strong>: 
   Do not compare two floating point number for equality. 
   Instead, specify a range, e.g., &quot;gpa &gt; 3.9 AND gpa &lt; 4.1&quot;</pre>
<p></p>


<a class="references" href="../howto/References.html#mysql">Link to MySQL References &amp; Resources</a>

</div> <!-- End the content-main division -->

<div id="content-footer">
<p>Latest version tested: MySQL Community Server 8.3.0, Windows 11, macOS 14, Ubuntu 18.04LTS<br />
Last modified: March 2024</p>
</div>

</div>  <!-- End the wrap-inner division -->

<!-- ======= @@@ v3 footer changes starts here, before "footer" ======== -->
<!-- footer filled by JavaScript -->
<footer id="footer" class="footer"><p>&nbsp;</p></footer>

</div>  <!-- end of <div class="wrap-outer"> for outer container -->

<!-- Place all JavaScript before end of body to load last -->
<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- My custom JavaScript v3 -->
<script src="../scripts/programming_notes_v3.js"></script>
<!-- Prism Syntax Highlighter -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html>
