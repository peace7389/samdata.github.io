<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<!-- for responsive web design -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- for SEO -->
<meta name="description" content="Python Tutorial - Python Basics">
<meta name="keywords" content="Python, tutorial, basics">
<title>Python Tutorial - Python Basics</title>

<!-- @@ v3 header changes starts here after <title> -->
<!-- My custom CSS v3 -->
<link rel="stylesheet" href="../css/programming_notes_v3.css">
<!-- Prism Syntax Highlighter -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/themes/prism.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-highlight/prism-line-highlight.min.css" rel="stylesheet">
<!-- favicon -->
<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
</head>

<body>

<div id="wrap-outer">

<!-- header filled by JavaScript -->
<div id="header" class="header"><p>&nbsp;</p></div>

<div id="wrap-inner">

<div id="wrap-toc">
<h5>Table of Contents <a id="show-toc" href="Python1_Basics.html#show-toc">(Hide)</a></h5>
<div id="toc"></div>  <!-- for showing the "Table of Content" -->
</div>

<!-- @@ v3 header changes ends here before "content-header" <h1> and <h2>"" -->

<div id="content-header">
<h1>Python</h1>
<h2>Basics</h2>
</div>

<div id="content-main">

<!-- @@ end change in v1 -->

<p>I  personally recommend that you learn a traditional general-purpose programming language (such as C/C++/Java) before learning scripting language like Python/JavaScript/Perl/PHP because they are less structure than the traditional languages with many fancy features.</p>

<h3 id="intro">Introduction</h3>

<p>Python is created by Dutch Guido van Rossum around 1991. Python is an open-source project. The mother site is <a href="http://www.python.org">www.python.org</a>.</p>

<p>The main features of Python are:</p>

<ul>
<li>Python is an easy and intuitive language. Python scripts are easy to read and understand.</li>

<li>Python (like Perl) is <em>expressive</em>. A single line of Python code can do many lines of code in traditional general-purpose languages (such as C/C++/Java).</li>

<li>Python is free and open source. It is cross-platform and runs on Windows, Linux/Unix, and macOS.</li>

<li>Python is well suited for <em>rapid application development</em> (RAD). You can code an application in Python in much shorter time than other general-purpose  languages (such as C/C++/Java). Python can be used to write small applications and rapid prototypes, but it also scales well for developing large-scale project.</li>

<li>Python is a scripting language and dynamically typed. Like most of the scripting languages (e.g., Perl, JavaScript), Python associates types with objects, instead of variables. That is, a variable can be assigned a value of any type, a list (array) can contain objects of different types.</li>
<li>Python provides automatic memory management. You do not need to allocate and free memory in your programs.</li>

<li>Python provides high-level data types such as dynamic array and dictionary (or associative array).</li>

<li>Python is object-oriented.</li>

<li>Python is not a fully compiled language. It is compiled into internal bytecodes, which is then interpreted. Hence, Python is not as fast as fully-compiled languages such as C/C++.</li>

<li>Python comes with a huge set of libraries including graphical user interface (GUI) toolkit, web programming library, networking, and etc.</li>

</ul>

<p>Python has 3 versions:</p>

<ul>
<li>Python 1: the initial version.</li>
<li>Python 2: released in 2000, with many new features such as garbage collector and support for Unicode.</li>
<li>Python 3 (Python 3000 or py3k): A major upgrade released in 2008. Python 3 is NOT backward compatible with Python 2.</li>
</ul>

<h5>Python 2 or Python 3?</h5>

<p>Currently, two versions of Python are supported in parallel, version 2 and version 3. There are unfortunately incompatible. This situation arises because when Guido Van Rossum (the creator of Python) decided to bring significant changes to Python 2, he found that the new changes would be incompatible with the existing codes. He decided to start a new version called Python 3, but continue to maintain the old Python 2 without introducing new features.  Python 3.0 was released in 2008, while Python 2.7 in 2010.</p>

<p>AGAIN, TAKE NOTE THAT PYTHON 2 AND PYTHON 3 ARE NOT COMPATIBLE!!! You need to decide whether to use Python 2 or Python 3. Start your new projects using Python 3. Use Python 2 only for maintaining legacy projects.</p>
<p>To check the version of your Python, issue this command:</p>

<pre class="command">
$ <strong>Python --version</strong>
</pre>


<h5 id="documentation">Documentation</h5>

<p>Python documentation and language reference are provided online @ <a href="https://docs.python.org">https://docs.python.org</a>.</p>

<h3 id="syntax">Python Basic Syntaxes</h3>

<h4>EOL Comment</h4>

<p>A Python comment begins with a hash sign (<code>#</code>) and last till the end of the current line (EOL). Comments are ignored by the Python Interpreter, but they are critical in providing explanation and documentation for others (and yourself  three days later) to read your program. Use comments liberally.</p>

<p>There is NO multi-line comment in Python?! (C/C++/Java supports multi-line comments via <code>/* ... */</code>.)</p>

<h4>Statements</h4>

<p>A Python statement is delimited by a newline. A statement cannot cross line boundaries, except:</p>

<ol>
<li>An expression in parentheses <code>()</code>, square bracket <code>[]</code>, and curly braces <code>{}</code> can span multiple lines.</li>

<li>A backslash (<code>\</code>) at the end of the line denotes continuation to the next line. This is an old rule and is NOT recommended as it is error prone.</li>
</ol>

<p>Unlike C/C++/C#/Java, you don't place a semicolon (<code>;</code>) at the end of a Python statement. But you can place multiple statements on a single line, separated by semicolon (<code>;</code>). For examples,</p>

<pre class="example">
<span class="comment"># One Python statement in one line, terminated by a newline.
# There is no semicolon at the end of a statement.</span>
&gt;&gt;&gt; <strong>x = 1</strong>     <span class="comment"># Assign 1 to variable x</span>
&gt;&gt;&gt; <strong>print(x)</strong>  <span class="comment"># Print the value of the variable x</span>
1
&gt;&gt;&gt; <strong>x + 1</strong>
2
&gt;&gt;&gt; <strong>y = x / 2</strong>
&gt;&gt;&gt; <strong>y</strong>
0.5

<span class="comment"># You can place multiple statements in one line, separated by semicolon.</span>
&gt;&gt;&gt; <strong>print(x); print(x+1); print(x+2)</strong>  <span class="comment"># No ending semicolon</span>
1
2
3

<span class="comment"># An expression in brackets [] (i.e., list) can span multiple lines</span>
&gt;&gt;&gt; <strong>x = [1,</strong>
         <strong>22,
         333]</strong>  <span class="comment"># Re-assign a list denoted as [v1, v2, ...] to variable x</span>
&gt;&gt;&gt; <strong>x</strong>
[1, 22, 333]

<span class="comment"># An expression in braces {} (i.e., associative array) can also span multiple lines</span>
&gt;&gt;&gt; <strong>x = {'name':'Peter',
         'gender':'male',
         'age':21
        }</strong>   <span class="comment"># Re-assign a dictionary denoted as {k1:v1, k2:v2,...} to variable x</span>
&gt;&gt;&gt; <strong>x</strong>
{'name': 'Peter', 'gender': 'male', 'age': 21}

<span class="comment"># An expression in parentheses () can also span multiple lines
# You can break a long expression into several lines by enclosing it with parentheses ()</span>
&gt;&gt;&gt; <strong>x =(1 +
        2
        + 3
        -
        4)</strong>
&gt;&gt;&gt; <strong>x</strong>
2

<span class="comment"># You can break a long string into several lines with parentheses () too</span>
&gt;&gt;&gt; <strong>s = ('testing '</strong>   <span class="comment"># No commas</span>
         <strong>'hello, '
         'world!')</strong>
&gt;&gt;&gt; <strong>s</strong>
'testing hello, world!'</pre>

<h4>Block, Indentation and Compound Statements</h4>

<p>A block is a group of statements executing as a unit. Unlike C/C++/C#/Java, which use braces <code>{}</code> to group statements in a body block, Python uses indentation for body block. In other words, indentation is syntactically significant in Python - the body block must be properly indented. This is a good syntax to force you to indent the blocks correctly for ease of understanding!!!</p>

<p>A compound statement, such as conditional (<code>if-else</code>), loop (<code>while</code>, <code>for</code>) and function definition (<code>def</code>), begins with a header line terminated with a colon (<code>:</code>); followed by the indented body block, as follows:</p>

<pre class="syntax">
<em>header_1</em>:          <span class="comment"># Headers are terminated by a colon</span>
    <em>statement_1_1</em>  <span class="comment"># Body blocks are indented (recommended to use 4 spaces)</span>
    <em>statement_1_2</em>
    ......
<em>header_2</em>:
    <em>statement_2_1</em>
    <em>statement_2_2</em>
    ......

<span class="comment"># You can place the body-block in the same line, separating the statement by semi-colon (;)
# This is NOT recommended.</span>
<em>header_1</em>: <em>statement_1_1</em>
<em>header_2</em>: <em>statement_2_1</em>; <em>statement_2_2</em>; ......</pre>

<p>For examples,</p>
<pre class="example">
<span class="comment"># if-else</span>
x = 0
if x == 0:
    print('x is zero')
else:
    print('x is not zero')

<span class="comment"># or, in the same line</span>
if x == 0: print('x is zero')
else: print('x is not zero')

<span class="comment"># while-loop sum from 1 to 100</span>
sum = 0
number = 1
while number &lt;= 100:
    sum += number
    number += 1
print(sum)

<span class="comment"># or, in the same line</span>
while number &lt;= 100: sum += number; number += 1

<span class="comment"># Define the function sum_1_to_n()</span>
def sum_1_to_n(n):
    <span class="comment">&quot;&quot;&quot;Sum from 1 to the given n&quot;&quot;&quot;</span>
    sum = 0;
    i = 0;
    while (i &lt;= n):
        sum += i
        i += 1
    return sum

print(sum_1_to_n(100))  <span class="comment"># Invoke function</span></pre>

<p>Python does not specify how much indentation to use, but all statements of the SAME body block must start at the SAME distance from the right margin. You can use either space or tab for indentation but you cannot mix them in the SAME body block. It is recommended to use 4 spaces for each indentation level.</p>

<p>The trailing colon (<code>:</code>) and body indentation is probably the strangest feature in Python, if you come from C/C++/C#/Java. Python imposes strict indentation rules to force programmers to write readable codes!</p>

<h4>Variables, Identifiers and Constants</h4>
<p>Like all programming languages, a variable is a <em>named</em> storage location. A variable has a name (or <em>identifier</em>) and holds a value.</p>
<p>Like most of the scripting interpreted languages (such as JavaScript/Perl), Python is dynamically typed. You do NOT need to declare a variable before using it. A variable is created via the initial assignment. (Unlike traditional general-purpose static typed languages like C/C++/Java/C#, where you need to declare the name and type of the variable before using the variable.)</p>
<p>For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>sum = 1</strong>           <span class="comment"># Create a variable called sum by assigning an integer into it</span>
&gt;&gt;&gt; <strong>sum</strong>
1
&gt;&gt;&gt; <strong>type(sum)</strong>         <span class="comment"># Check the data type</span>
&lt;class 'int'&gt;
&gt;&gt;&gt; <strong>average = 1.23</strong>    <span class="comment"># Create a variable called average by assigning a floating-point number into it</span>
&gt;&gt;&gt; <strong>average</strong>
1.23
&gt;&gt;&gt; <strong>average = 4.5e-6</strong>  <span class="comment"># Re-assign a floating-point value in scientific notation </span>
&gt;&gt;&gt; <strong>average</strong>
4.5e-06
&gt;&gt;&gt; <strong>type(average)</strong>     <span class="comment"># Check the data type</span>
&lt;class 'float'&gt;
&gt;&gt;&gt; <strong>average = 78</strong>      <span class="comment"># Re-assign an integer value</span>
&gt;&gt;&gt; <strong>average</strong>
78
&gt;&gt;&gt; <strong>type(average)</strong>     <span class="comment"># Check the data type</span>
&lt;class 'int'&gt;         <span class="comment"># Change to 'int'</span>
&gt;&gt;&gt; <strong>msg = 'Hello'</strong>     <span class="comment"># Create a variable called msg by assigning a string into it</span>
&gt;&gt;&gt; <strong>msg</strong>
'Hello'
&gt;&gt;&gt; <strong>type(msg)</strong>         <span class="comment"># Check the data type</span>
&lt;class 'str'&gt;</pre>

<img class="image-center" src="images/Python_variable.png" alt="Python Variables">
<p>As mentioned, Python is dynamic typed. Python associates types with the objects, not the variables, i.e., a variable can hold object of any types, as shown in the above examples.</p>

<h5>Rules of Identifier (Names)</h5>
<p>An identifier starts with a letter (<code>A-Z</code>, <code>a-z</code>) or an underscore (<code>_</code>), followed by zero or more letters, underscores and digits (<code>0-9</code>). Python does not allow special characters such as <code>$</code> and <code>@</code>.</p>
<p> By convention, Variables start with an underscore (<code>_</code>) are private variables.</p>

<h5>Keywords</h5>
<p>Python 3 has 35 reserved words (or keywords), which cannot be used as identifiers.</p>

<ul>
<li><code>True</code>, <code>False</code>, <code>None</code> (boolean and special literals)</li>
<li><code>import</code>, <code>as</code>, <code>from</code></li>
<li><code>if</code>, <code>elif</code>, <code>else</code>, <code>for</code>, <code>in</code>, <code>while</code>, <code>break</code>, <code>continue</code>, <code>pass</code>, <code>with</code> (flow control)</li>
<li><code>def</code>, <code>return</code>, <code>lambda</code>, <code>global</code>, <code>nonlocal</code> (function)</li>
<li><code>class</code></li>
<li><code>and</code>, <code>or</code>, <code>not</code>, <code>is</code>, <code>del</code> (operators)</li>
<li><code>try</code>, <code>except</code>, <code>finally</code>, <code>raise</code>, <code>assert</code> (error handling)</li>
<li><code> await</code>,                  
                             
                            
                          
                             
                            
  <code>async</code>,                        <code>yield</code></li>
</ul>

<h5>Variable Naming Convention</h5>

<p>A variable name is a noun, or a noun phrase made up of several  words. There are two conventions:</p>
<ol>
<li>In lowercase words and optionally joined with underscore if it improves readability, e.g., <code>num_students</code>, <code>x_max</code>, <code>myvar</code>, <code>isvalid</code>, etc.</li>
<li>In the so-called camel-case where the first word is in lowercase, and the   remaining words are initial-capitalized, e.g., <code>numStudents</code>, <code>xMax</code>, <code>yMin</code>, <code>xTopLeft</code>, <code>isValidInput</code>, and <code>thisIsAVeryVeryLongVariableName</code>.</li>
</ol>

<div class="side-note">Camel-case is the Java's naming convention; while lowercases joined with underscores is C/C++ convention.</div>

<h5>Recommendations</h5>
<ol>
  <li>It is important to choose a name which is <em>self-descriptive</em> and closely reflects the meaning of the variable. For example, use <code>numStudents</code> (not <code>n</code> or <code>x</code>), to store the number of students. It is alright to use abbreviations, e.g., <code>idx</code> for index.</li>
  <li>Do not use <em>meaningless</em> names like <code>a</code>, <code>b</code>, <code>c</code>, <code>i</code>, <code>j</code>, <code>k</code>, <code>n</code>, <code>i1</code>, <code>i2</code>, <code>i3</code>, <code>j99</code>, <code>exercise85</code> (what is the purpose of this exercise?), and <code>example12</code> (What is this example about?).</li>
  <li>Avoid <em>single-letter</em> names like <code>i</code>, <code>j</code>, <code>k</code>, <code>a</code>, <code>b</code>, <code>c</code>, which are easier to type but often meaningless. Exceptions are common names like <code>x</code>, <code>y</code>, <code>z</code> for coordinates, <code>i</code> for index. Long names are harder to type, but self-document your   program. (I suggest you spend sometimes practicing your typing.)</li>
  <li>Use <em>singular</em> and <em>plural</em> nouns  prudently to differentiate between singular and plural variables.Â  For example, you may use the variable <code>row</code> to refer to a single row number and the variable <code>rows</code> to refer to many rows (such as a list of rows - to be discussed later).</li>
</ol>

<h5>Constants</h5>
<p>Python does not support constants, where its contents cannot be modified.</p>

<div class="side-note">C/C++ supports constants via keyword <code>const</code>, Java via keyword <code>final</code>.</div>

<p>It is a convention to name a variable in uppercase joined with underscores, e.g., <code>MAX_ROWS</code>, <code>SCREEN_X_MAX</code>, to indicate that it should not be modified in the program. Nevertheless, nothing prevents it from being modified in Python.</p>

<h4>Data Types: Number, String and List</h4>

<p>Python supports various number type such as <code>int</code> (for integers such as <code>123</code>, <code>-456</code>), <code>float</code> (for floating-point number such as <code>3.1416</code>, <code>1.2e3</code>, <code>-4.5E-6</code>), and <code>bool</code> (for boolean of either <code>True</code> or <code>False</code>).</p>
<p>Python supports text string (a sequence of characters). In Python, strings can be delimited with single-quotes or double-quotes, e.g., <code>'hello'</code>, <code>&quot;world&quot;</code>, <code>''</code> or <code>&quot;&quot;</code> (empty string).</p>
<p>Python supports a dynamic-array structure called <code>list</code>, denoted as <code><em>lst</em> = [<em>v</em>1, <em>v</em>2, ..., <em>vn</em>]</code>. You can reference the i-th element as <code><em>lst</em>[<em>i</em>]</code>. Python's  <code>list</code> is similar to C/C++/Java's array, but it is NOT fixed size, and can be expanded dynamically during runtime.</p>
<p>I will describe these data types in detail in the later section.</p>



<h4>Console Input/Output: <code>input()</code> and <code>print()</code> Built-in Functions</h4>

<p>You can use built-in function <code>input()</code> to read input from the keyboard (as a string) and <code>print()</code> to print output to the console. For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>x = input('Enter a number: ')</strong>
Enter a number: 5
&gt;&gt;&gt; <strong>x</strong>
'5'          <span class="comment"># A quoted string</span>
&gt;&gt;&gt; <strong>type(x)</strong>  <span class="comment"># Check data type</span>
&lt;class 'str'&gt;
&gt;&gt;&gt; <strong>print(x)</strong>
5

<span class="comment"># Cast input from the 'str' input to 'int'</span>
&gt;&gt;&gt; <strong>x = <span class="new">int</span>(input('Enter an integer: ')</strong>)
Enter an integer: 5
&gt;&gt;&gt; <strong>x</strong>
5            <span class="comment"># int</span>
&gt;&gt;&gt; <strong>type(x)</strong>  <span class="comment"># Check data type</span>
&lt;class 'int'&gt;
&gt;&gt;&gt; <strong>print(x)</strong>
5</pre>

<h5><code>print()</code></h5>

<p>The built-in function <code>print()</code> has the following signature:</p>
<pre class="syntax">
print(*<em>objects</em>, sep=' ', end='\n', file=sys.stdout, flush=False)
    <span class="comment"># Print <em><span class="new">objects</span></em> to the text stream <span class="new">file</span> (default standard output <span class="new">sys.stdout</span>),
    #   separated by <span class="new">sep</span> (default space) and followed by <span class="new">end</span> (default newline \n).</span></pre>

<p>For examples,</p>
<pre class="example">
&gt;&gt;&gt; <strong>print('apple')</strong>  <span class="comment"># Single item</span>
apple
&gt;&gt;&gt; <strong>print('apple', 'orange')</strong>  <span class="comment"># More than one items separated by commas</span>
apple orange
&gt;&gt;&gt; <strong>print('apple', 'orange', 'banana')</strong>
apple orange banana</pre>

<h5><code>print()</code>'s separator (<code>sep</code>) and ending (<code>end</code>)</h5>
    
<p>You can use the optional <em>keyword-argument</em> <code>sep='x'</code> to set the separator string (default is space), and <code>end='x'</code> for ending string (default is newline). For examples,</p>

<pre class="example">
<span class="comment"># print() with default newline</span>
&gt;&gt;&gt; <strong>for item in [1, 2, 3, 4]:
        print(item)</strong>  <span class="comment"># default is newline</span>
1
2
3
4
<span class="comment"># print() without newline</span>
&gt;&gt;&gt; <strong>for item in [1, 2, 3, 4]:
        print(item, end='')</strong>   <span class="comment"># suppress end string</span>
1234
<span class="comment"># print() with some arbitrary ending string </span>
&gt;&gt;&gt; <strong>for item in [1, 2, 3, 4]:
       print(item, end='--')</strong>
1--2--3--4--</pre>

<pre class="example">
<span class="comment"># Test separator between items</span>
&gt;&gt;&gt; <strong>print('apple', 'orange', 'banana')</strong>  <span class="comment"># default is space</span><br>apple orange banana
&gt;&gt;&gt; <strong>print('apple', 'orange', 'banana', sep=',')</strong><br>apple,orange,banana<br>&gt;&gt;&gt; <strong>print('apple', 'orange', 'banana', sep=':')</strong><br>apple:orange:banana<br>&gt;&gt;&gt; <strong>print('apple', 'orange', 'banana', sep='|')</strong><br>apple|orange|banana<br>&gt;&gt;&gt; <strong>print('apple', 'orange', 'banana', sep='\n')</strong>  <span class="comment"># newline</span><br>apple<br>orange<br>banana</pre>

<h5><code>print</code> in Python 2 vs Python 3</h5>

<p>Recall that Python 2 and Python 3 are NOT compatible. In Python 2, you can use &quot;<code>print item</code>&quot;, without the parentheses (because <code>print</code> is a keyword in Python 2). In Python 3, parentheses are required as Python 3's <code>print()</code> is a function. For example,</p>

<pre class="example">
<span class="comment"># Python 3</span>
&gt;&gt;&gt; <strong>print('hello')</strong>
hello
&gt;&gt;&gt; <strong>print 'hello'</strong>
  File &quot;&lt;stdin&gt;&quot;, line 1
    print 'hello'
                ^
SyntaxError: Missing parentheses in call to 'print'
&gt;&gt;&gt; <strong>print('aaa', 'bbb')</strong>
aaa bbb
   <span class="comment"># Treated as multiple arguments, printed without parentheses</span>

<span class="comment"># Python 2</span>
&gt;&gt;&gt; <strong>print('Hello')</strong>
Hello
&gt;&gt;&gt; <strong>print 'hello'</strong>
hello
&gt;&gt;&gt; <strong>print('aaa', 'bbb')</strong>
('aaa', 'bbb')
   <span class="comment"># Treated as a tuple (of items). Print the tuple with parentheses</span>
&gt;&gt;&gt; <strong>print 'aaa', 'bbb'</strong>
aaa bbb
   <span class="comment"># Treated as multiple arguments</span></pre>
   
<p><span class="lead">Important</span>: Always use <code>print()</code> function with parentheses, for portability!</p>


<h3 id="datatype">Data Types and Dynamic Typing</h3>

<p>Python has a large number of built-in data  types, such as Numbers (Integer, Float, Boolean, Complex Number), String, List, Tuple, Set, Dictionary and File. More high-level data types, such as Decimal and Fraction, are supported by external modules.</p>
<p>You can use the built-in function <code>type(<em>varName</em>)</code> to check the type of a variable or literal.</p>

<h4>Number Types</h4>

<p>Python supports these built-in number types:</p>

<ol>
<li><span class="lead">Integers (type <code>int</code>)</span>: e.g., <code>123</code>, <code>-456</code>. Unlike C/C++/Java, integers are of unlimited size in Python. For example,
<pre class="example">
&gt;&gt;&gt; <strong>123 + 456 - 789</strong>
-210
&gt;&gt;&gt; <strong>123456789012345678901234567890 + 1</strong>
123456789012345678901234567891
&gt;&gt;&gt; <strong>1234567890123456789012345678901234567890 + 1</strong>
1234567890123456789012345678901234567891
&gt;&gt;&gt; <strong>2 ** 888</strong>     <span class="comment"># Raise 2 to the power of 888</span>
......
&gt;&gt;&gt; <strong>len(str(2 ** 888))</strong>  <span class="comment"># Convert integer to string and get its length</span>
268                     <span class="comment"># 2 to the power of 888 has 268 digits</span>
&gt;&gt;&gt; <strong>type(123)</strong>    <span class="comment"># Get the type</span>
&lt;class 'int'&gt;
&gt;&gt;&gt; <strong>help(int)</strong>    <span class="comment"># Show the help menu for type int</span></pre>

You can also express integers in hexadecimal with prefix <code>0x</code> (or <code>0X</code>); in octal with prefix <code>0o</code> (or <code>0O</code>); and in binary with prefix <code>0b</code> (or <code>0B</code>). For examples, <code>0x1abc</code>, <code>0X1ABC</code>, <code>0o1776</code>, <code>0b11000011</code>.</li>

<li><span class="lead">Floating-point numbers (type <code>float</code>)</span>: e.g., <code>1.0</code>, <code>-2.3</code>, <code>3.4e5</code>, <code>-3.4E-5</code>, with a decimal point and an optional exponent (denoted by <code>e</code> or <code>E</code>). <code>float</code>s are 64-bit double precision floating-point numbers. For example,
<pre class="example">
&gt;&gt;&gt; <strong>1.23 * -4e5</strong>
-492000.0
&gt;&gt;&gt; <strong>type(1.2)</strong>        <span class="comment"># Get the type</span>
&lt;class 'float'&gt;
&gt;&gt;&gt; <strong>import math</strong>      <span class="comment"># Using the math module</span>
&gt;&gt;&gt; <strong>math.pi</strong>
3.141592653589793
&gt;&gt;&gt; <strong>import random</strong>    <span class="comment"># Using the random module</span>
&gt;&gt;&gt; <strong>random.random()</strong>  <span class="comment"># Generate a random number in [0, 1)</span>
0.890839384187198</pre>
</li>

<li><span class="lead">Booleans (type <code>bool</code>)</span>: takes a value of either <code>True</code> or <code>False</code>. Take note of the spelling in initial-capitalized.
  <pre class="example">
&gt;&gt;&gt; <strong>8 == 8</strong>      <span class="comment"># Compare</span>
True
&gt;&gt;&gt; <strong>8 == 9</strong>
False
&gt;&gt;&gt; <strong>type(True)</strong>  <span class="comment"># Get type</span>
&lt;class 'bool'&gt;
&gt;&gt;&gt; type (8 == 8)<br>&lt;class 'bool'&gt;</pre>
In Python, integer <code>0</code>, an empty value (such as empty string <code>''</code>, <code>&quot;&quot;</code>, empty list <code>[]</code>, empty tuple <code>()</code>, empty dictionary <code>{}</code>), and <code>None</code> are treated as <code>False</code>; anything else are treated as <code>True</code>.
<pre class="example">
&gt;&gt;&gt; <strong>bool(0)</strong>   <span class="comment"># Cast int 0 to bool</span>
False
&gt;&gt;&gt; <strong>bool(1)</strong>   <span class="comment"># Cast int 1 to bool</span>
True
&gt;&gt;&gt; <strong>bool('')</strong>  <span class="comment"># Cast empty string to bool</span>
False
&gt;&gt;&gt; <strong>bool('hello')</strong>  <span class="comment"># Cast non-empty string to bool</span>
True
&gt;&gt;&gt; <strong>bool([])</strong>  <span class="comment"># Cast empty list to bool</span>
False
&gt;&gt;&gt; <strong>bool([1, 2, 3])</strong>  <span class="comment"># Cast non-empty list to bool</span>
True</pre>

Booleans can also act as integers in arithmetic operations with <code>1</code> for <code>True</code> and <code>0</code> for <code>False</code>. For example,
<pre class="example">
&gt;&gt;&gt; <strong>True + 3</strong>
4
&gt;&gt;&gt; <strong>False + 1</strong>
1</pre>
</li>

<li><span class="lead">Complex Numbers (type <code>complex</code>)</span>: e.g., <code>1+2j</code>, <code>-3-4j</code>. Complex numbers have a real part and an imaginary part denoted with suffix of <code>j</code> (or <code>J</code>). For example,
<pre class="example">
&gt;&gt;&gt; <strong>x = 1 + 2j</strong>  <span class="comment"># Assign variable x to a complex number</span>
&gt;&gt;&gt; <strong>x</strong>           <span class="comment"># Display x</span>
(1+2j)
&gt;&gt;&gt; <strong>x.real</strong>      <span class="comment"># Get the real part</span>
1.0
&gt;&gt;&gt; <strong>x.imag</strong>      <span class="comment"># Get the imaginary part</span>
2.0
&gt;&gt;&gt; <strong>type(x)</strong>     <span class="comment"># Get type</span>
&lt;class 'complex'&gt;
&gt;&gt;&gt; <strong>x * (3 + 4j)</strong>  <span class="comment"># Multiply two complex numbers</span>
(-5+10j)</pre>
</li>

<li><span class="lead">Others</span>: Other number types are provided by  external modules, such as <code>decimal</code> module for decimal fixed-point numbers, <code>fraction</code> module for rational numbers.
<pre class="example">
<span class="comment"># floats are imprecise</span>
&gt;&gt;&gt; <strong>0.1 * 3</strong>
0.30000000000000004

<span class="comment"># Decimal are precise</span>
&gt;&gt;&gt; <strong>import decimal</strong>  <span class="comment"># Using the decimal module</span>
&gt;&gt;&gt; <strong>x = decimal.Decimal('0.1')</strong>  <span class="comment"># Construct a Decimal object</span>
&gt;&gt;&gt; <strong>x * 3</strong>    <span class="comment"># Multiply  with overloaded * operator</span>
Decimal('0.3')
&gt;&gt;&gt; <strong>type(x)</strong>  <span class="comment"># Get type</span>
&lt;class 'decimal.Decimal'&gt;</pre>
</li>
</ol>

<h4>Dynamic Typing and Assignment Operator</h4>

<p>Recall that Python is <em>dynamic typed</em> (instead of <em>static typed</em> like C/C++/Java).</p>

<ul>
<li><span class="lead">Python associates type with object, instead of variable</span>. That is, a variable does not have a fixed type and can be assigned an object of any type. A variable simply provides a <em>reference</em> to an object.</li>
<li><span class="lead">You do not need to declare a variable before using a variable.</span> A variable is created automatically when a value is first assigned, which links the assigned object to the variable.</li>
</ul>

<p>You can use built-in function <code><span class="new">type(<em>var_name</em>)</span></code> to get the object type referenced by a variable.</p>

<pre class="example">
&gt;&gt;&gt; <strong>x = 1</strong>         <span class="comment"># Assign an int value to create variable x</span>
&gt;&gt;&gt; <strong>x</strong>             <span class="comment"># Display x</span>
1
&gt;&gt;&gt; <strong>type(x)</strong>       <span class="comment"># Get the type of x</span>
<span class="output">&lt;class 'int'&gt;</span>
&gt;&gt;&gt; <strong>x = 1.0</strong>       <span class="comment"># Re-assign a float to x</span>
&gt;&gt;&gt; <strong>x</strong>
1.0
&gt;&gt;&gt; <strong>type(x)</strong>       <span class="comment"># Show the type</span>
<span class="output">&lt;class 'float'&gt;</span>
&gt;&gt;&gt; <strong>x = 'hello'</strong>   <span class="comment"># Re-assign a string to x</span>
&gt;&gt;&gt; <strong>x</strong>             
'hello'
&gt;&gt;&gt; <strong>type(x)</strong>       <span class="comment"># Show the type</span>
<span class="output">&lt;class 'str'&gt;</span>
&gt;&gt;&gt; <strong>x = '123'</strong>     <span class="comment"># Re-assign a string (of digits) to x</span>
&gt;&gt;&gt; <strong>x</strong>
'123'
&gt;&gt;&gt; <strong>type(x)</strong>       <span class="comment"># Show the type</span>
&lt;class 'str'&gt;</pre>

<h5>Type Casting: <code>int(<em>x</em>)</code>, <code>float(<em>x</em>)</code>, <code>str(<em>x</em>)</code></h5>

<p>You can perform type conversion (or type casting) via built-in functions <code>int(<em>x</em>)</code>, <code>float(<em>x</em>)</code>, <code>str(<em>x</em>)</code>, <code>bool(<em>x</em>)</code>, etc. For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>x = '123'</strong>     <span class="comment"># string</span>
&gt;&gt;&gt; <strong>type(x)</strong>
&lt;class 'str'&gt;
&gt;&gt;&gt; <strong>x = int(x)</strong>    <span class="comment"># Parse str to int, and assign back to x</span>
&gt;&gt;&gt; <strong>x</strong>
123
&gt;&gt;&gt; <strong>type(x)</strong>
&lt;class 'int'&gt;
&gt;&gt;&gt; <strong>x = float(x)</strong>  <span class="comment"># Convert x from int to float, and assign back to x</span>
&gt;&gt;&gt; <strong>x</strong>
123.0
&gt;&gt;&gt; <strong>type(x)</strong>
&lt;class 'float'&gt;
&gt;&gt;&gt; <strong>x = str(x)</strong>    <span class="comment"># Convert x from float to str, and assign back to x</span>
&gt;&gt;&gt; <strong>x</strong>
'123.0'
&gt;&gt;&gt; <strong>type(x)</strong>
&lt;class 'str'&gt;
&gt;&gt;&gt; <strong>len(x)</strong>        <span class="comment"># Get the length of the string</span>
5
&gt;&gt;&gt; <strong>x = bool(x)</strong>   <span class="comment"># Convert x from str to boolean, and assign back to x</span>
&gt;&gt;&gt; <strong>x</strong>             <span class="comment"># Non-empty string is converted to True</span>
True
&gt;&gt;&gt; <strong>type(x)</strong>
&lt;class 'bool'&gt;
&gt;&gt;&gt; <strong>x = str(x)</strong>    <span class="comment"># Convert x from bool to str</span>
&gt;&gt;&gt; <strong>x</strong>
'True'
</pre>

<p>In summary, a variable does not associate with a type. Instead, a type is associated with an object. A variable provides a reference to an object (of a certain type).</p>

<h5>Check Instance's Type: <code>isinstance(<em>instance</em>, <em>type</em>)</code></h5>

<p>You can also use the built-in function <code>isinstance(<em>instance</em>, <em>type</em>)</code> to check if the <code>instance</code> belong to the <code>type</code>. For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>isinstance(123, int)</strong>
True
&gt;&gt;&gt; <strong>isinstance('a', int)</strong>
False
&gt;&gt;&gt; <strong>isinstance('a', str)</strong>
True</pre>


<h5>The Assignment Operator (<code>=</code>)</h5>

<p>In Python, you do not need to <em>declare</em> variables before using the variables. The initial assignment creates a variable and links the assigned value to the variable. For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>x = 8</strong>        <span class="comment"># Create a variable x by assigning a value</span>
&gt;&gt;&gt; <strong>x = 'Hello'</strong>  <span class="comment"># Re-assign a value (of a different type) to x</span>

&gt;&gt;&gt; <strong>y</strong>            <span class="comment"># Cannot access undefined (unassigned) variable</span>
<span class="error">NameError: name 'y' is not defined</span></pre>

<h5>Pair-wise Assignment and Chain Assignment</h5>
<p>For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>a = 1</strong>  <span class="comment"># Ordinary assignment</span>
&gt;&gt;&gt; <strong>a</strong>
1
&gt;&gt;&gt; <strong>b, c, d = 123, 4.5, 'Hello'</strong>  <span class="comment"># Pair-wise assignment of 3 variables and values</span>
&gt;&gt;&gt; <strong>b</strong>
123
&gt;&gt;&gt; <strong>c</strong>
4.5
&gt;&gt;&gt; <strong>d</strong>
'Hello'
&gt;&gt;&gt; <strong>e = f = g = 123</strong>  <span class="comment"># Chain assignment</span>
&gt;&gt;&gt; <strong>e</strong>
123
&gt;&gt;&gt; <strong>f</strong>
123
&gt;&gt;&gt; <strong>g</strong>
123</pre>

<p>Assignment operator is <em>right-associative</em>, i.e., <code>a = b = 123</code> is interpreted as <code>(a = (b = 123))</code>.</p>

<h5><code>del</code> Operator</h5>
<p>You can use <code>del</code> operator to delete a variable. For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>x = 8</strong>     <span class="comment"># Create variable x via assignment</span>
&gt;&gt;&gt; <strong>x</strong>
8
&gt;&gt;&gt; <strong>del x</strong>     <span class="comment"># Delete variable x</span>
&gt;&gt;&gt; <strong>x</strong>
<span class="error">NameError: name 'x' is not defined</span></pre>

<h4>Number Operations</h4>

<h5>Arithmetic Operators (<code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>//</code>, <code>**</code>, <code>%</code>)</h5>

<p>Python supports these arithmetic operators:</p>

<table class="table-zebra" style="width:80%">
  <thead>
  <tr>
    <th>Operator</th>
    <th>Mode</th>
    <th>Usage</th>
    <th>Description</th>
    <th>Example</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td class="text-center"><code>+</code></td>
    <td>Binary<br>
      Unary</td>
    <td><code>x + y<br>
+x</code></td>
    <td>Addition<br>
      Positive</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td class="text-center"><code>-</code></td>
    <td>Binary<br>
Unary</td>
    <td><code>x - y<br>
-x</code></td>
    <td>Subtraction<br>
      Negate</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td class="text-center"><code>*</code></td>
    <td>Binary</td>
    <td><code>x * y</code></td>
    <td>Multiplication</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td class="text-center"><code>/</code></td>
    <td>Binary </td>
    <td><code>x / y</code></td>
    <td>Float Division<br>
      (Returns a float)</td>
    <td><code>1 / 2 &rArr; 0.5<br>
-1 / 2 &rArr; -0.5</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>//</code></td>
    <td>Binary</td>
    <td><code>x // y</code></td>
    <td>Integer Division<br>
    (Returns the floor integer)</td>
    <td><code>1 // 2 &rArr; 0<br>
-1 // 2 &rArr; -1<br>
8.9 // 2.5 &rArr; 3.0<br>
-8.9 // 2.5 &rArr; -4.0 (floor!)<br>
-8.9 // -2.5 &rArr; 3.0</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>**</code></td>
    <td>Binary</td>
    <td><code>x ** y</code></td>
    <td>Exponentiation</td>
    <td><code>2 ** 5 &rArr; 32<br>
1.2 ** 3.4 &rArr; 1.858729691979481</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>%</code></td>
    <td>Binary</td>
    <td><code>x % y</code></td>
    <td>Modulus (Remainder)</td>
    <td><code>9 % 2 &rArr; 1<br>
-9 % 2 &rArr; 1<br>
9 % -2 &rArr; -1<br>
-9 % -2 &rArr; -1<br>
9.9 % 2.1 &rArr; 1.5<br>
-9.9 % 2.1 &rArr; 0.6000000000000001</code></td>
  </tr>
  </tbody>
</table>

<div class="side-note">
<p>In Java, <code>-1/2</code> returns <code>0</code>. That is, int division returns a truncated int towards zero.</p>
<p>Python's integer division returns a floor integer, e.g., <code>-1//2</code> gives <code>-1</code>.</p>
</div>

<h5>Compound Assignment Operators (<code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>, <code>//=</code>, <code>**=</code>, <code>%=</code>)</h5>
<p>Each of the arithmetic operators has a corresponding <em>shorthand assignment</em> counterpart, i.e., <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>, <code>//=</code>, <code>**=</code> and  <code>%=</code>. For example <code>i += 1</code> is the same as <code>i = i + 1</code>.</p>

<h5>Increment/Decrement (<code>++</code>, <code>--</code>)?</h5>
<p>Python does not support increment (<code>++</code>) and decrement (<code>--</code>) operators (as in C/C++/Java). You need to use <code>i = i + 1</code> or <code>i += 1</code> for increment.</p>
<p>Python accepts <code>++i &rArr; +(+i) &rArr; i</code>, and <code>--i</code>.  Don't get trap into this. But Python flags a syntax error for <code>i++</code> and <code> i--</code>.</p>

<h5>Mixed-Type Operations</h5>
<p>For mixed-type operations, e.g., <code>1 + 2.3</code> (<code>int + float</code>), the value of the &quot;smaller&quot; type is first promoted to the &quot;bigger&quot; type. It then performs the operation in the &quot;bigger&quot; type and returns the result in the &quot;bigger&quot; type. In Python, <code>int</code> is &quot;smaller&quot; than <code>float</code>, which is &quot;smaller&quot; than <code>complex</code>.</p>

<h5>Relational (Comparison) Operators (<code>==</code>, <code>!=</code>, &lt;, <code>&lt;=</code>, &gt;, <code>&gt;=</code>, <code>in</code>, <code>not in</code>, <code>is</code>, <code>is not</code>)</h5>

<p>Python supports these relational (comparison) operators that return a <code>bool</code> value of either <code>True</code> or <code>False</code>.</p>

<table class="table-zebra" style="width:80%">
  <thead>
  <tr>
    <th>Operator</th>
    <th>Mode</th>
    <th>Usage</th>
    <th>Description</th>
    <th>Example</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td class="text-center"><code>==<br>
!=<br>
&lt;<br>
&lt;=<br>
&gt;<br>
&gt;=</code></td>
    <td>Binary</td>
    <td><code><em>x</em> == <em>y</em><br>
<em>x</em> != <em>y</em><br>
<em>x</em> &lt; <em>y</em><br>
<em>x</em> &lt;= <em>y</em><br>
<em>x</em> &gt; <em>y</em><br>
<em>x</em> &gt;= <em>y</em></code></td>
    <td>Comparison<br>
      Return <code>bool</code> of either <code>True</code> or <code>False</code></td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td class="text-center"><code>in<br>
not in</code></td>
    <td>Binary</td>
    <td><em><code>x in <em>seq</em><br>
<em>x</em> not in <em>seq</em></code></em></td>
    <td>      Check if <em><code>x</code></em> is contained in the sequence <code><em>y</em></code><br>Return bool of either True or False</td>
    <td><code>lst = [1, 2, 3]<br>
x = 1<br>
x in lst &rArr; True<br>
2 in lst &rArr; True</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>is<br>
is not</code></td>
    <td>Binary</td>
    <td><em><code>x is <em>y</em><br>
<em>x</em> is not <em>y</em></code></em></td>
    <td>    Check if <em><code>x</code></em> and <code><em>y</em></code> are referencing the same object<br>
      Return <code>bool</code> of either <code>True</code> or <code>False</code></td>
    <td>&nbsp;</td>
  </tr>
  </tbody>
</table>

<p>Example: [TODO]</p>

<h5>Logical Operators (<code>and</code>, <code>or</code>, <code>not</code>)</h5>

<p>Python supports these logical (boolean) operators, that operate on boolean values.</p>

<table class="table-zebra" style="width:80%">
  <thead>
  <tr>
    <th>Operator</th>
    <th>Mode</th>
    <th>Usage</th>
    <th>Description</th>
    <th>Example</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td class="text-center"><code>and</code></td>
    <td>Binary</td>
    <td><em><code>x and <em>y</em></code></em></td>
    <td>Logical AND</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td class="text-center"><code>or</code></td>
    <td>Binary</td>
    <td><em><code>x or <em>y</em></code></em></td>
    <td>Logical OR</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td class="text-center"><code>not</code></td>
    <td>Unary</td>
    <td><em><code>not <em>x</em></code></em></td>
    <td>Logical NOT</td>
    <td>&nbsp;</td>
  </tr>
  </tbody>
</table>

<p>Notes:</p>

<ul>
<li>Python's logical operators are typed out in word, unlike C/C++/Java which uses symbols <code>&amp;&amp;</code>, <code>||</code> and <code>!</code>.</li>
<li>Python does not have an exclusive-or (<code>xor</code>) boolean operator.</li>
</ul>

<p>Example: [TODO]</p>


<h5>Built-in Functions</h5>

<p>Python provides many built-in functions for numbers, including:</p>

<ul>
<li>Mathematical functions: <code>round()</code>, <code>pow()</code>, <code>abs()</code>, etc.</li>
<li><code>type()</code> to get the type.</li>

<li>Type conversion functions: <code>int()</code>, <code>float()</code>, <code>str()</code>, <code>bool()</code>, etc.</li>

<li>Base radix conversion functions: <code>hex()</code>, <code>bin()</code>, <code>oct()</code>.</li>
</ul>

<p>For examples,</p>
<pre class="example">
<span class="comment"># Test built-in function round()</span>
&gt;&gt;&gt; <strong>x = 1.23456</strong>
&gt;&gt;&gt; <strong>type(x)</strong>
&lt;type 'float'&gt;

<span class="comment"># Python 3</span>
&gt;&gt;&gt; <strong>round(x)</strong>     <span class="comment"># Round to the nearest integer</span>
1
&gt;&gt;&gt; <strong>type(round(x))</strong>
&lt;class 'int'&gt;

<span class="comment"># Python 2</span>
&gt;&gt;&gt; <strong>round(x)</strong>
1.0
&gt;&gt;&gt; <strong>type(round(x))</strong>
&lt;type 'float'&gt;

&gt;&gt;&gt; <strong>round(x, 1)</strong>  <span class="comment"># Round to 1 decimal place</span>
1.2
&gt;&gt;&gt; <strong>round(x, 2)</strong>  <span class="comment"># Round to 2 decimal places</span>
1.23
&gt;&gt;&gt; <strong>round(x, 8)</strong>  <span class="comment"># No change - not for formatting</span>
1.23456

<span class="comment"># Test other built-in functions</span>
&gt;&gt;&gt; <strong>pow(2, 5)</strong>
32
&gt;&gt;&gt; <strong>abs(-4.1)</strong>
4.1
  
<span class="comment"># Test base radix conversion</span>
&gt;&gt;&gt; <strong>hex(1234)</strong>
'0x4d2'
&gt;&gt;&gt; <strong>bin(254)</strong>
'0b11111110'
&gt;&gt;&gt; <strong>oct(1234)</strong>
'0o2322'
&gt;&gt;&gt; <strong>0xABCD</strong>  <span class="comment"># Shown in decimal by default</span>
43981

<span class="comment"># List built-in functions</span>
&gt;&gt;&gt; <strong>dir(__built-ins__)</strong>
['type', 'round', 'abs', 'int', 'float', 'str', 'bool', 'hex', 'bin', 'oct',......]

<span class="comment"># Show number of built-in functions</span>
&gt;&gt;&gt; <strong>len(dir(__built-ins__))</strong>  <span class="comment"># Python 3</span>
151
&gt;&gt;&gt; <strong>len(dir(__built-ins__))</strong>  <span class="comment"># Python 2</span>
144

<span class="comment"># Show documentation of __built-ins__ module</span>
&gt;&gt;&gt; <strong>help(__built-ins__)</strong>
......</pre>

<h5>Bitwise Operators (Advanced)</h5>

<p>Python supports these bitwise operators:</p>

<table class="table-zebra" style="width:80%">
  <thead>
  <tr>
    <th>Operator</th>
    <th>Mode</th>
    <th>Usage</th>
    <th>Description</th>
    <th>Example<br><code>x=0b10000001</code><br><code>y=0b10001111</code></th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td class="text-center"><code>&amp;</code></td>
    <td class="font-normal" style="text-align:center">binary</td>
    <td><em><code>x &amp; <em>y</em></code></em></td>
    <td>bitwise AND</td>
    <td><code>x &amp; y &rArr; 0b10000001</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>|</code></td>
    <td class="font-normal" style="text-align:center">binary</td>
    <td><em><code>x ! <em>y</em></code></em></td>
    <td>bitwise OR</td>
    <td><code>x | y &rArr; 0b10001111</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>~</code></td>
    <td class="text-center"><span class="font-normal" style="text-align:center">Unary</span></td>
    <td><em><code>~<em>x</em></code></em></td>
    <td>bitwise NOT (or negate)</td>
    <td><code>~x &rArr; -0b10000010</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>^</code></td>
    <td class="text-center"><span class="font-normal" style="text-align:center">binary</span></td>
    <td><em><code>x ^ <em>y</em></code></em></td>
    <td>bitwise XOR</td>
    <td><code>x ^ y &rArr; 0b00001110</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>&lt;&lt;</code></td>
    <td class="text-center"><span class="font-normal" style="text-align:center">binary</span></td>
    <td><em><code>x &lt;&lt; <em>count</em></code></em></td>
    <td>bitwise Left-Shift (padded with zeros)</td>
    <td><code>x &lt;&lt; 2 &rArr; 0b1000000100</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>&gt;&gt;</code></td>
    <td class="text-center"><span class="font-normal" style="text-align:center">binary</span></td>
    <td><em><code>x &gt;&gt; <em>count</em></code></em></td>
    <td>bitwise Right-Shift (padded with zeros)</td>
    <td><code>x &gt;&gt; 2 &rArr; 0b100000</code></td>
  </tr>
  </tbody>
</table>


<h4>String</h4>

<p>In Python, strings can be delimited by a pair of single-quotes (<code>'...'</code>) or double-quotes (<code>&quot;...&quot;</code>). Python also supports multi-line strings via triple-single-quotes (<code>'''...'''</code>) or triple-double-quotes (<code>&quot;&quot;&quot;...&quot;&quot;&quot;</code>).</p>

<p>To place a single-quote (<code>'</code>) inside a single-quoted string, you need to use escape sequence <code>\'</code>. Similarly, to place a double-quote (<code>&quot;</code>) inside a double-quoted string, use <code>\&quot;</code>. There is no need for escape sequence to place a single-quote inside a double-quoted string; or a double-quote inside a single-quoted string.</p>

<p>A triple-single-quoted or triple-double-quoted string can <em>span multiple lines</em>. There is no need for escape sequence to place a single/double quote inside a triple-quoted string. Triple-quoted strings are useful for multi-line documentation, HTML and other codes.</p>

<p>Python 3 uses Unicode character set to support internationalization (i18n).</p>

<pre class="example">
&gt;&gt;&gt; <strong>s1 = 'apple'</strong>
&gt;&gt;&gt; <strong>s1</strong>
'apple'
&gt;&gt;&gt; <strong>s2 = "orange"</strong>
&gt;&gt;&gt; <strong>s2</strong>
'orange'
&gt;&gt;&gt; <strong>s3 = "'orange'"</strong>   <span class="comment"># Escape sequence not required</span>
&gt;&gt;&gt; <strong>s3</strong>
"'orange'"
&gt;&gt;&gt; <strong>s3 ="\"orange\""</strong>  <span class="comment"># Escape sequence needed</span>
&gt;&gt;&gt; <strong>s3</strong>
'"orange"'

<span class="comment"># A triple-single/double-quoted string can span multiple lines</span>
&gt;&gt;&gt; <strong>s4 = &quot;&quot;&quot;testing
12345&quot;&quot;&quot;</strong>
&gt;&gt;&gt; <strong>s4</strong>
'testing\n12345'</pre>

<h5>Escape Sequences for Characters (<code>\code</code>)</h5>

<p>Like C/C++/Java, you need to use escape sequences (a back-slash + a code) for:</p>
<ul>
<li>Special non-printable characters, such as tab (<code>\t</code>), newline (<code>\n</code>), carriage return (<code>\r</code>)</li>
<li>Resolve ambiguity, such as <code>\&quot;</code> (for <code>&quot;</code> inside double-quoted string), <code>\'</code> (for <code>'</code> inside single-quoted string), <code>\\</code> (for <code><code>\</code></code>).</li>
<li><code>\xhh</code> for character in hex value and <code>\ooo</code> for octal value</li>
<li><code>\uxxxx</code> for 4-hex-digit (16-bit) Unicode character and <code>\Uxxxxxxxx</code> for 8-hex-digit (32-bit) Unicode character.</li>
</ul>


<h5>Raw Strings (<code>r'...'</code> or <code>r&quot;...&quot;</code>)</h5>

<p>You can prefix a string by <code>r</code> to disable the interpretation of escape sequences (i.e., <code>\code</code>), i.e., <code>r'\n'</code> is <code>'\'+'n'</code> (two characters) instead of newline (one character). Raw strings are used  extensively in regex (to be discussed in module <code>re</code> section).</p>

<h5>Strings are Immutable</h5>

<p>Strings are <em>immutable</em>, i.e., their contents cannot be modified. String functions such as <code>upper()</code>, <code>replace()</code> returns a new string object instead of modifying the string under operation.</p>

<h5>Built-in Functions and Operators for Strings</h5>

<p>You can operate on strings using:</p>
<ul>
<li>built-in functions such as <code>len()</code>;</li>
<li>operators such as <code>in</code> (contains), <code>+</code> (concatenation), <code>*</code> (repetition), indexing <code>[<em>i</em>]</code> and <code>[-<em>i</em>]</code>, and slicing <code>[<em>m</em>:<em>n</em>:<em>step</em>]</code>.</li>
</ul>

<p>Note: These functions and operators are applicable to all <code>sequence</code> data types including <code>string</code>, <code>list</code>, and <code>tuple</code> (to be discussed later).</p>

<table class="table-zebra" style="width:80%">
  <thead>
  <tr>
    <th>Function / <br>
      Operator</th>
    <th>Usage</th>
    <th>Description</th>
    <th>Examples<br><code>s = 'Hello'</code></th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td class="text-center"><code>len()</code></td>
    <td><code>len(<em>str</em>)</code></td>
    <td>Length</td>
    <td><code>len(s) &rArr; 5</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>in</code></td>
    <td><em><code>substr in <em>str</em></code></em></td>
    <td>Contain?<br>
      Return <code>bool</code> of either <code>True</code> or <code>False</code></td>
    <td><code>'ell' in s &rArr; True<br>
'he' in s &rArr; False</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>+<br>
+=</code></td>
    <td><em><code>str + <em>str1</em><br>
<em>str</em> += <em>str1</em></code></em></td>
    <td>Concatenation</td>
    <td><code>s + '!' &rArr; 'Hello!'</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>*<br>
*=</code></td>
    <td><em><code>str * <em>count</em><br>
<em>str</em> *= <em>count</em></code></em></td>
    <td>Repetition</td>
    <td><code>s * 2 &rArr; 'HelloHello'</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>[<em>i</em>]<br>
[-<em>i</em>]</code></td>
    <td><code>str[<em>i</em>]<br>
<em>str</em>[-<em>i</em>]</code></td>
    <td>Indexing to get a character.<br>
    The front index begins at <code>0</code>;<br>
    back index begins at <code>-1</code> (<code>=len(<em>str</em>)-1</code>).</td>
    <td><code>s[1] &rArr; 'e'<br>
s[-4] &rArr; 'e'</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>[<em>m</em>:<em>n</em>:<em>step</em>]<br>
[<em>m</em>:<em>n</em>]<br>
[<em>m</em>:]<br>
[:<em>n</em>]<br>
[:] </code></td>
    <td><code>str[<em>m</em>:<em>n</em>:<em>step</em>]<br>
<em>str</em>[<em>m</em>:<em>n</em>]<br>
<em>str</em>[<em>m</em>:]<br>
<em>str</em>[:<em>n</em>]<br>
<em>str</em>[:]</code></td>
    <td>Slicing to get a substring.<br>From index <code><em>m</em></code> (included) to <code><em>n</em></code> (excluded) with <code><em>step</em></code> size.<br>
    The defaults are: <em><code>m</code></em><code>=0</code>, <code><em>n</em>=-1</code>, <code><em>step</em>=1</code>.</td>
    <td><code>s[1:3] &rArr; 'el'<br>
s[1:-2] &rArr; 'el'<br>
s[3:] &rArr; 'lo'<br>
s[:-2] &rArr; 'Hel'<br>
s[:] &rArr; 'Hello'<br>
s[0:5:2] &rArr; 'Hlo'</code></td>
  </tr>
  </tbody>
</table>

<p>For examples,</p>

<pre class="example">
&gt;&gt;&gt; <strong>s = &quot;Hello, world&quot;</strong>   <span class="comment"># Assign a string literal to the variable s</span>
&gt;&gt;&gt; <strong>type(s)</strong>              <span class="comment"># Get data type of s</span>
&lt;class 'str'&gt;
&gt;&gt;&gt; <strong>len(s)</strong>       <span class="comment"># Length</span>
12
&gt;&gt;&gt; <strong>'ello' in s</strong>  <span class="comment"># The in operator</span>
True

<span class="comment"># Indexing</span>
&gt;&gt;&gt; <strong>s[0]</strong>       <span class="comment"># Get character at index 0; index begins at 0</span>
'H'
&gt;&gt;&gt; <strong>s[1]</strong>
'e'
&gt;&gt;&gt; <strong>s[-1]</strong>      <span class="comment"># Get Last character, same as s[len(s) - 1]</span>
'd'
&gt;&gt;&gt; <strong>s[-2]</strong>      <span class="comment"># 2nd last character</span>
'l'

<span class="comment"># Slicing</span>
&gt;&gt;&gt; <strong>s[1:3]</strong>     <span class="comment"># Substring from index 1 (included) to 3 (excluded)</span>
'el'
&gt;&gt;&gt; <strong>s[1:-1]</strong>
'ello, worl'
&gt;&gt;&gt; <strong>s[:4]</strong>      <span class="comment"># Same as s[0:4], from the beginning</span>
'Hell'
&gt;&gt;&gt; <strong>s[4:]</strong>      <span class="comment"># Same as s[4:-1], till the end</span>
'o, world'
&gt;&gt;&gt; <strong>s[:]</strong>       <span class="comment"># Entire string; same as s[0:len(s)]</span>
'Hello, world'

<span class="comment"># Concatenation (+) and Repetition (*)</span>
&gt;&gt;&gt; <strong>s = s + " again"</strong>  <span class="comment"># Concatenate two strings</span>
&gt;&gt;&gt; <strong>s</strong>
'Hello, world again'
&gt;&gt;&gt; <strong>s * 3</strong>        <span class="comment"># Repeat 3 times</span>
'Hello, world againHello, world againHello, world again'

<span class="comment"># str can only concatenate with str, not with int and other types</span>
&gt;&gt;&gt; <strong>s = 'hello'</strong>
&gt;&gt;&gt; <strong>print('The length of \&quot;' + s + '\&quot; is ' + len(s))</strong>  <span class="comment"># len() is int</span>
<span class="error">TypeError: can only concatenate str (not &quot;int&quot;) to str</span>
&gt;&gt;&gt; <strong>print('The length of \&quot;' + s + '\&quot; is ' + str(len(s)))</strong>
The length of &quot;hello&quot; is 5

<span class="comment"># String is immutable</span>
&gt;&gt;&gt; <span class="error"><strong>s[0] = 'a'</strong></span>
<span class="error">TypeError: 'str' object does not support item assignment</span></pre>

<h5>Character Type?</h5>

<p>Python does not have a dedicated character data type. A character is simply a string of length 1. You can use the indexing operator to extract individual character from a string, as shown in the above example; or process individual character using <code>for-in</code> loop (to be discussed later).</p>

<p>The built-in functions <code>ord()</code> and <code>chr()</code> operate on character, e.g.,</p>

<pre class="example">
<span class="comment"># ord(c) returns the integer ordinal (Unicode) of a one-character string</span>
&gt;&gt;&gt; <strong>ord('A')</strong>
65
&gt;&gt;&gt; <strong>ord('æ°´')</strong>
27700

<span class="comment"># chr(i) returns a one-character string with Unicode ordinal i; 0 &lt;= i &lt;= 0x10ffff.</span>
&gt;&gt;&gt; <strong>chr(65)</strong>
'A'
&gt;&gt;&gt; <strong>chr(27700)</strong>
'æ°´'</pre>

<h5>Unicode vs ASCII</h5>

<p>In Python 3, strings are defaulted to be Unicode. ASCII strings are represented as byte strings, prefixed with <code>b</code>, e.g., <code>b'ABC'</code>.</p>

<p>In Python 2, strings are defaulted to be ASCII strings (byte strings). Unicode strings are prefixed with <code>u</code>.</p>
<p>You should always use Unicode for internationalization (i18n)!</p>


<h5>String-Specific Member Functions</h5>

<p>Python supports strings via a built-in class called <code>str</code> (We will describe class in the Object-Oriented Programming chapter). The <code>str</code> class provides many member functions.  Since string is immutable, most of these functions return a new string. The commonly-used member functions are as follows, supposing that <code><em>s</em></code> is a <code>str</code> object:</p>

<ul>
<li><em><code>str</code></em><code>.strip()</code>, <code><em>str</em>.rstrip()</code>, <code><em>str</em>.lstrip()</code>: strip the leading and trailing whitespaces, the right (trailing) whitespaces; and the left (leading) whitespaces, respectively.</li>
<li><em><code>str</code></em><code>.upper()</code>, <code><em>str</em>.lower()</code>: Return a uppercase/lowercase counterpart, respectively.</li>
<li><em><code>str</code></em><code>.isupper()</code>, <code><em>str</em>.islower()</code>: Check if the string is uppercase/lowercase, respectively.</li>
<li><em><code>str</code></em><code>.find(<em>key_str</em>)</code>:</li>
<li><code><em>str</em>.index(<em>key_str</em>)</code>:</li>
<li><code><em>str</em>.startswith(<em>key_str</em>)</code>:</li>
<li><code><em>str</em>.endswith(<em>key_str</em>)</code>:</li>
<li><code><em>str</em>.split(<em>delimiter_str</em>)</code>, <em><code>delimiter_str</code></em><code>.join(<em>strings_list</em>)</code>:</li>
</ul>

<pre class="example">
&gt;&gt;&gt; <strong>dir(str)</strong>      <span class="comment"># List all attributes of the class str</span>
[..., 'capitalize', 'casefold', 'center', 'count', 'encode', 'endswith', 'expandtabs',
'find', 'format', 'format_map', 'index', 'isalnum', 'isalpha', 'isascii', 'isdecimal',
'isdigit', 'isidentifier', 'islower', 'isnumeric', 'isprintable', 'isspace', 'istitle',
'isupper', 'join', 'ljust', 'lower', 'lstrip', 'maketrans', 'partition', 'replace',
'rfind', 'rindex', 'rjust', 'rpartition', 'rsplit', 'rstrip', 'split', 'splitlines',
'startswith', 'strip', 'swapcase', 'title', 'translate', 'upper', 'zfill']

&gt;&gt;&gt; <strong>s = 'Hello, world'</strong>
&gt;&gt;&gt; <strong>type(s)</strong>
&lt;class 'str'&gt;

&gt;&gt;&gt; <strong>dir(s)</strong>         <span class="comment"># List all attributes of the object s</span>
.......
&gt;&gt;&gt; <strong>help(s.find)</strong>   <span class="comment"># Show the documentation of member function find</span>
.......
&gt;&gt;&gt; <strong>s.find('ll')</strong>   <span class="comment"># Find the beginning index of the substring</span>
2
&gt;&gt;&gt; <strong>s.find('app')</strong>  <span class="comment"># find() returns -1 if not found</span>
-1

&gt;&gt;&gt; <strong>s.index('ll')</strong>  <span class="comment"># index() is the same as find(), but raise ValueError if not found</span>
2
&gt;&gt;&gt; <strong>s.index('app')</strong>
ValueError: substring not found

&gt;&gt;&gt; <strong>s.startswith('Hell')</strong>
True
&gt;&gt;&gt; <strong>s.endswith('world')</strong>
True
&gt;&gt;&gt; <strong>s.replace('ll', 'xxx')</strong>
'Hexxxo, world'
&gt;&gt;&gt; <strong>s.isupper()</strong>
False
&gt;&gt;&gt; <strong>s.upper()</strong>
'HELLO, WORLD'

&gt;&gt;&gt; <strong>s.split(', ')</strong>    <span class="comment"># Split into a list with the given delimiter</span>
['Hello', 'world']
&gt;&gt;&gt; <strong>', '.join(['hello', 'world', '123'])</strong>  <span class="comment"># Join all strings in the list using the delimiter</span>
'hello, world, 123'
 
&gt;&gt;&gt; <strong>s = '  testing 12345   '</strong>
&gt;&gt;&gt; <strong>s.strip()</strong>        <span class="comment"># Strip leading and trailing whitespaces</span>
'testing 12345'
&gt;&gt;&gt; <strong>s.rstrip()</strong>       <span class="comment"># Strip trailing (right) whitespaces</span>
'  testing 12345'
&gt;&gt;&gt; <strong>s.lstrip()</strong>       <span class="comment"># Strip leading (left) whitespaces</span>
'testing 12345   '

<span class="comment"># List all the whitespace characters - in module string, attribute whitespace</span>
&gt;&gt;&gt; <strong>import string</strong>
&gt;&gt;&gt; <strong>string.whitespace</strong>   <span class="comment"># All whitespace characters</span>
' \t\n\r\x0b\x0c'
&gt;&gt;&gt; <strong>string.digits</strong>       <span class="comment"># All digit characters</span>
'0123456789'
&gt;&gt;&gt; <strong>string.hexdigits</strong>    <span class="comment"># All hexadecimal digit characters</span>
'0123456789abcdefABCDEF'</pre>


<h5>String Formatting 1 (New Style): Using <code><em>str</em>.format()</code> function</h5>

<p>There are a few ways to produce a formatted string for output. Python 3 introduces a new style in the <code>str</code>'s <code>format()</code> member function with <code>{}</code> as place-holders (called format fields). For examples,</p>

<pre class="example">
<span class="comment"># Replace format fields {} by arguments in format() in the SAME order</span>
&gt;&gt;&gt; <strong>'|{}|{}|more|'.format('Hello', 'world')</strong>
'|Hello|world|more|'

<span class="comment"># You can use 'positional' index in the form of {0}, {1}, ...</span>
&gt;&gt;&gt; <strong>'|{0}|{1}|more|'.format('Hello', 'world')</strong>
'|Hello|world|more|'
&gt;&gt;&gt; <strong>'|{1}|{0}|more|'.format('Hello', 'world')</strong>
'|world|Hello|more|'

<span class="comment"># You can use 'keyword' inside {}</span>
&gt;&gt;&gt; <strong>'|{greeting}|{name}|'.format(greeting='Hello', name='Peter')</strong>
'|Hello|Peter|'

<span class="comment"># Mixing 'positional' and 'keyword'</span>
&gt;&gt;&gt; <strong>'|{0}|{name}|more|'.format('Hello', name='Peter')</strong>
'|Hello|Peter|more|'
&gt;&gt;&gt; <strong>'|{}|{name}|more|'.format('Hello', name='Peter')</strong>
'|Hello|Peter|more|'

<span class="comment"># You can specify field-width with :n,
#  alignment (&lt; for left-align, &gt; for right-align, ^ for center-align) and
#  padding (or fill) character.</span>
&gt;&gt;&gt; <strong>'|{1:8}|{0:7}|'.format('Hello', 'Peter')</strong>   <span class="comment"># Set field-width</span>
'|Peter   |Hello  |'      <span class="comment"># Default left-aligned</span>
&gt;&gt;&gt; <strong>'|{1:8}|{0:&gt;7}|{2:-&lt;10}|'.format('Hello', 'Peter', 'again')</strong>  <span class="comment"># Set alignment and padding</span>
'|Peter   |  Hello|again-----|'    <span class="comment"># &gt; (right align), &lt; (left align), - (fill char)</span>
&gt;&gt;&gt; <strong>'|{greeting:8}|{name:7}|'.format(name='Peter', greeting='Hi')</strong>
'|Hi      |Peter  |'

<span class="comment"># Format int using ':d' or ':nd'
# Format float using ':f' or ':n.mf'</span>
&gt;&gt;&gt; <strong>'|{0:.3f}|{1:6.2f}|{2:4d}|'.format(1.2, 3.456, 78)</strong>
'|1.200|  3.46|  78|'
<span class="comment"># With keywords</span>
&gt;&gt;&gt; <strong>'|{a:.3f}|{b:6.2f}|{c:4d}|'.format(a=1.2, b=3.456, c=78)</strong>
'|1.200|  3.46|  78|'</pre>

<p>When you pass lists, tuples, or dictionaries (to be discussed later) as arguments into the <code>format()</code> function, you can reference the sequence's elements in the format fields with <code>[index]</code>. For examples,</p>

<pre class="example">
<span class="comment"># list and tuple</span>
&gt;&gt;&gt; <strong>tup = ('a', 11, 22.22)</strong>
&gt;&gt;&gt; <strong>tup = ('a', 11, 11.11)</strong>
&gt;&gt;&gt; <strong>lst = ['b', 22, 22.22]</strong>
&gt;&gt;&gt; <strong>'|{0[2]}|{0[1]}|{0[0]}|'.format(tup)</strong>  <span class="comment"># {0} matches tup, indexed via []</span>
'|11.11|11|a|'
&gt;&gt;&gt; <strong>'|{0[2]}|{0[1]}|{0[0]}|{1[2]}|{1[1]}|{1[0]}|'.format(tup, lst)</strong>  <span class="comment"># {0} matches tup, {1} matches lst</span>
'|11.11|11|a|22.22|22|b|'

<span class="comment"># dictionary</span>
&gt;&gt;&gt; <strong>dict = {'c': 33, 'cc': 33.33}</strong>
&gt;&gt;&gt; <strong>'|{0[cc]}|{0[c]}|'.format(dict)</strong>
'|33.33|33|'
&gt;&gt;&gt; <strong>'|{cc}|{c}|'.format(**dict)</strong>  <span class="comment"># As keywords via **</span>  
'|33.33|33|'</pre>

<h5>String Formatting 2: Using <code><em>str</em>.rjust(<em>n</em>)</code>, <code><em>str</em>.ljust(<em>n</em>)</code>, <code><em>str</em>.center(<em>n</em>)</code>, <code><em>str</em>.zfill(<em>n</em>)</code></h5>

<p>You can also use <code>str</code>'s member functions like <code><em>str</em>.rjust(<em>n</em>)</code> (where <em><code>n</code></em> is the field-width), <code><em>str</em>.ljust(<em>n</em>)</code>, <code><em>str</em>.center(<em>n</em>)</code>, <em><code>str</code></em><code>.zfill(<em>n</em>)</code> to format a string. For example,</p>

<pre class="example">
<span class="comment"># Setting field width and alignment</span>
&gt;&gt;&gt; <strong>'123'.rjust(5)</strong>
'  123'
&gt;&gt;&gt; <strong>'123'.ljust(5)</strong>
'123  '
&gt;&gt;&gt; <strong>'123'.center(5)</strong>
' 123 '
&gt;&gt;&gt; <strong>'123'.zfill(5)</strong>  <span class="comment"># Pad (Fill) with leading zeros</span>
'00123'

<span class="comment"># Floats</span>
&gt;&gt;&gt; <strong>'1.2'.rjust(5)</strong>
'  1.2'
&gt;&gt;&gt; <strong>'-1.2'.zfill(6)</strong>
'-001.2'</pre>

<h5>String Formatting 3 (Old Style): Using <code>%</code> operator</h5>

<p>The old style (in Python 2) is to use the <code>%</code> operator, with C-like <code>printf()</code> format specifiers.  For examples,</p>

<pre class="example">
<span class="comment"># %s for str
# %ns for str with field-width of n (default right-align)
# %-ns for left-align</span>
&gt;&gt;&gt; <strong>'|%s|%8s|%-8s|more|' % ('Hello', 'world', 'again')</strong>
'|Hello|   world|again   |more|'

<span class="comment"># %d for int
# %nd for int with field-width of n
# %f for float
# %n.mf for float with field-with of n and m decimal digits</span>
&gt;&gt;&gt; <strong>'|%d|%4d|%6.2f|' % (11, 222, 33.333)</strong>   
'|11| 222| 33.33|'</pre>

<p>Avoid using old style for formatting.</p>

<h5>Conversion between String and Number: <code>int()</code>, <code>float()</code> and <code>str()</code></h5>
<p>You can use built-in functions <code>int()</code> and <code>float()</code> to parse a &quot;numeric&quot; string to an integer or a float; and <code>str()</code> to convert a number to a string. For example,</p>

<pre class="example">
<span class="comment"># Convert string to int</span>
&gt;&gt;&gt; <strong>s = '12345'</strong>
&gt;&gt;&gt; <strong>s</strong>
'12345'
&gt;&gt;&gt; <strong>type(s)</strong><br>&lt;class 'str'&gt;
&gt;&gt;&gt; <strong>i = int(s)
</strong>&gt;&gt;&gt; <strong>i</strong><br>12345<br>&gt;&gt;&gt; <strong>type(i)</strong><br>&lt;class 'int'&gt;

<span class="comment"># Convert string to float</span>
&gt;&gt;&gt; <strong>s = '55.66'</strong>
&gt;&gt;&gt; <strong>s</strong>
'55.66'
&gt;&gt;&gt; <strong>f = float(s)</strong>
&gt;&gt;&gt; <strong>f</strong><br>55.66<br>&gt;&gt;&gt; <strong>type(f)</strong><br>&lt;class 'float'&gt;
&gt;&gt;&gt; <strong>int(s)</strong>
<span class="error">ValueError: invalid literal for int() with base 10: '55.66'</span>

<span class="comment"># Convert number to string</span>
&gt;&gt;&gt; <strong>i = 123</strong>
&gt;&gt;&gt; <strong>s = str(i)</strong>
&gt;&gt;&gt; <strong>s</strong><br>'123'<br>&gt;&gt;&gt; <strong>type(s)</strong><br>&lt;class 'str'&gt;
'123'</pre>

<h5>Concatenate a String and a Number?</h5>
<p>You CANNOT concatenate a string and a number (which results in <code>TypeError</code>). Instead, you need to use the <code>str()</code> function to convert the number to a string. For example,</p>

<pre class="command">
&gt;&gt;&gt; <strong>'Hello' + 123</strong>
<span class="error">TypeError: cannot concatenate 'str' and 'int' objects</span>
&gt;&gt;&gt; <strong>'Hello' + str(123)</strong>
'Hello123'</pre>

<h4>The <code>None</code> Value</h4>

<p>Python provides a special value called <code>None</code> (take note of the spelling in initial-capitalized), which can be used to initialize an object (to be discussed in OOP later). For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>x = None</strong>
&gt;&gt;&gt; <strong>type(x)</strong>   <span class="comment"># Get type</span>
&lt;class 'NoneType'&gt;
&gt;&gt;&gt; <strong>print(x)</strong>
None

<span class="comment"># Use 'is' and 'is not' to check for 'None' value.</span>
&gt;&gt;&gt; <strong>print(x is None)</strong>
True
&gt;&gt;&gt; <strong>print(x is not None)</strong>
False</pre>

<h3 id="DataStructures">Data Structure: List, Tuple, Dictionary and Set</h3>

<h4>List <code>[v1, v2,...]</code></h4>

<p>Python has a powerful built-in <em>dynamic array</em> called <code>list</code>.</p>
<ul>
<li>A <code>list</code> is enclosed by square brackets <code>[]</code>.</li>
<li>A <code>list</code> can contain items of different types. It is because Python associates types to objects, not variables.</li>
<li>A <code>list</code> grows and shrinks in size automatically (dynamically). You do not have to specify its size during initialization.</li>
<li>A <code>list</code> is <em>mutable</em>. You can update its contents.</li>
</ul>

<h5>Built-in Functions and Operators for <code>list</code></h5>

<p>A <code>list</code>, like string, is a <code>sequence</code>. Hence, you can operate lists using:</p>
<ul>
<li>built-in <code>sequence</code> functions such as <code>len()</code>.</li>
<li>built-in <code>sequence</code> functions for <code>list</code> of numbers such as <code>max()</code>, <code>min()</code>, and <code>sum()</code>.</li>
<li>built-in operators such as <code>in</code> (contains), <code>+</code> (concatenation) and <code>*</code> (repetition), <code>del</code>, <code>[i]</code> (indexing), and <code>[m,n,step]</code> (slicing).</li>
</ul>

<p>Notes:</p>
<ul>
<li>You can index the items from the front with positive index, or from the back with negative index. E.g., if <code>lst</code> is a list, <code>lst[0]</code> and <code>lst[1]</code> refer to its first and second items; <code>lst[-1]</code> and <code>lst[-2]</code> refer to the last and second-to-last items.</li>

<li>You can also refer to a sub-list (or slice) using slice notation <code>lst[<em>m</em>:<em>n</em>:<em>step</em>]</code> (from index <code><em>m</em></code> (included) to index <code><em>n</em></code> (excluded) with <code><em>step</em></code> size).</li>
</ul>

<table class="table-zebra" style="width:90%">
  <thead>
  <tr>
    <th>Operator</th>
    <th>Usage</th>
    <th>Description</th>
    <th>Examples<br>
      <code>lst = [8, 9, 6, 2]</code></th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td class="text-center"><code>in<br>
not in</code></td>
    <td><em><code>x in <em>lst</em><br>
<em>x</em> not in <em>lst</em></code></em></td>
    <td>Contain? 
      Return <code>bool</code> of either <code>True</code> or <code>False</code></td>
    <td><code>9 in lst &rArr; True<br>
5 in lst &rArr; False</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>+<br>
+=</code></td>
    <td><em><code>lst + <em>lst1</em><br>
<em>lst</em> += <em>lst1</em></code></em></td>
    <td>Concatenation</td>
    <td><code>lst + [5, 2]<br>
&rArr; [8, 9, 6, 2, 5, 2]</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>*<br>
*=</code></td>
    <td><em><code>lst * <em>count</em><br>
<em>lst</em> *= <em>count</em></code></em></td>
    <td>Repetition</td>
    <td><code>lst * 2<br>
&rArr; [8, 9, 6, 2, 8, 9, 6, 2]</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>[<em>i</em>]<br>
[-<em>i</em>]</code></td>
    <td><code>lst[<em>i</em>]<br>
<em>lst</em>[-<em>i</em>]</code></td>
    <td>Indexing to get an item.<br>
    Front index begins at <code>0</code>; <br>
    back index begins at <code>-1</code> (or <code>len(<em>lst</em>)-1</code>).</td>
    <td><code>lst[1] &rArr; 9<br>
lst[-2] &rArr; 6</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>[<em>m</em>:<em>n</em>:<em>step</em>]<br>
[<em>m</em>:<em>n</em>]<br>
[<em>m</em>:]<br>
[:<em>n</em>]<br>
[:]</code></td>
    <td><code>lst[<em>m</em>:<em>n</em>:<em>step</em>]<br>
<em>lst</em>[<em>m</em>:<em>n</em>]<br>
<em>lst</em>[<em>m</em>:]<br>
<em>lst</em>[:<em>n</em>]<br>
<em>lst</em>[:]</code></td>
    <td>Slicing to get a sublist.<br>From index <code><em>m</em></code> (included) to <em><code>n</code></em> (excluded) with <code><em>step</em></code> size.<br>
    The defaults are: <code><em>m</em></code> is <code>0</code>, <em>n</em> is <code>len(<em>lst</em>)-1</code>.</td>
    <td><code>lst[1:3] &rArr; [9, 6]<br>
lst[1:-2] &rArr; [9]<br>
lst[3:] &rArr; [2]<br>
lst[:-2] &rArr; [8, 9]<br>
lst[:] &rArr; [8, 9, 6, 2]<br>
lst[0:4:2] &rArr; [8, 6]<br>
newlst = lst[:] &rArr; Copy<br>
lst[4:] = [1, 2] &rArr; Extend</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>del</code></td>
    <td><code>del lst[i]<br>
del lst[m:n] <br>
del lst[m:n:step]</code></td>
    <td>Delete one or more items</td>
    <td><code>del lst[1] &rArr; [8, 6, 2]<br>
del lst[1:] &rArr; [8]<br>
del lst[:] &rArr; []</code> (Clear)</td>
  </tr>
  </tbody>
</table>

<table class="table-zebra" style="width:90%">
  <thead>
  <tr>
    <th>Function</th>
    <th>Usage</th>
    <th>Description</th>
    <th>Examples<br>
      <code>lst = [8, 9, 6, 2]</code></th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td class="text-center"><code>len()</code></td>
    <td><code>len(<em>lst</em>)</code></td>
    <td>Length</td>
    <td><code>len(lst) &rArr; 4</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>max()<br>
min()</code></td>
    <td><code>max(<em>lst</em>)<br>
min(<em>lst</em>)</code></td>
    <td>Maximum value<br>
      minimum value</td>
    <td><code>max(lst) &rArr; 9<br>
min(lst) &rArr; 2</code></td>
  </tr>
  <tr>
    <td class="text-center"><code>sum()</code></td>
    <td><code>sum(<em>lst</em>)</code></td>
    <td>Sum (for number lists only)</td>
    <td><code>sum(lst) &rArr; 16</code></td>
  </tr>
  </tbody>
</table>


<p><code>list</code>, unlike string, is <em>mutable</em>. You can insert, remove and modify its items.</p>

<p>For examples,</p>
<pre class="example">
&gt;&gt;&gt; <strong>lst = [123, 4.5, 'hello', True, 6+7j]</strong>  <span class="comment"># A list can contains items of different types</span>
&gt;&gt;&gt; <strong>lst</strong>
[123, 4.5, 'hello', True, (6+7j)]
&gt;&gt;&gt; <strong>len(lst)</strong>   <span class="comment"># Length</span>
5
&gt;&gt;&gt; <strong>type(lst)</strong>
&lt;class 'list'&gt;

<span class="comment"># &quot;Indexing&quot; to get a specific element</span>
&gt;&gt;&gt; <strong>lst[0]</strong>
123
&gt;&gt;&gt; <strong>lst[-1]</strong>   <span class="comment"># Negative index from the end</span>
(6+7j)
<span class="comment"># Assignment with indexing</span>
&gt;&gt;&gt; <strong>lst[2] = 'world' </strong>  <span class="comment"># Assign a value to this element</span>
&gt;&gt;&gt; <strong>lst</strong>
[123, 4.5, 'world', True, (6+7j)]

<span class="comment"># &quot;Slicing&quot; to get a sub-list</span>
&gt;&gt;&gt; <strong>lst[0:2]</strong>
[123, 4.5]
&gt;&gt;&gt; <strong>lst[:3] </strong>  <span class="comment"># Same as lst[0:3]</span>
[123, 4.5, 'world']
&gt;&gt;&gt; <strong>lst[2:]</strong>   <span class="comment"># Same as lst[2: len(lst)]</span>
['world', True, (6+7j)]
&gt;&gt;&gt; <strong>lst[::2]</strong>   <span class="comment"># Step size of 2 for alternate elements</span>
[123, 'world']
&gt;&gt;&gt; <strong>lst[::-1]</strong>  <span class="comment"># Use negative index to reverse the list</span>
['world', 4.5, 123]
<span class="comment"># Assignment with Slicing</span>
&gt;&gt;&gt; <strong>lst[2:4]</strong>
['world', True]     <span class="comment"># 2-element sub-list</span>
&gt;&gt;&gt; <strong>lst[2:4] = 0</strong>    <span class="comment"># Cannot assign a scalar to slice</span>
TypeError: can only assign an iterable
&gt;&gt;&gt; <strong>lst[2:4] = [1, 2, 'a', 'b']</strong>   <span class="comment"># But can assign a list of any length</span>
&gt;&gt;&gt; <strong>lst</strong>
[123, 4.5, 1, 2, 'a', 'b', (6+7j)]
&gt;&gt;&gt; <strong>lst[1:3] = []</strong>   <span class="comment"># Remove a sub-list</span>
&gt;&gt;&gt; <strong>lst</strong>
[123, 2, 'a', 'b', (6+7j)]
&gt;&gt;&gt; <strong>lst[::2] = ['x', 'y', 'z']</strong>   <span class="comment"># Can use step size</span>
&gt;&gt;&gt; <strong>lst</strong>
['x', 2, 'y', 'b', 'z']
&gt;&gt;&gt; <strong>lst[::2] = [1, 2, 3, 4]</strong>      <span class="comment"># But need to replace by a list of the same length</span>
ValueError: attempt to assign sequence of size 4 to extended slice of size 3

<span class="comment"># Operators: in, +, *, del</span>
&gt;&gt;&gt; <strong>'x' in lst</strong>
True
&gt;&gt;&gt; <strong>'a' in lst</strong>
False
&gt;&gt;&gt; <strong>lst + [6, 7, 8]</strong>   <span class="comment"># Concatenation</span>
['x', 2, 'y', 'b', 'z', 6, 7, 8]
&gt;&gt;&gt; <strong>lst * 3</strong>           <span class="comment"># Repetition</span>
['x', 2, 'y', 'b', 'z', 'x', 2, 'y', 'b', 'z', 'x', 2, 'y', 'b', 'z']
&gt;&gt;&gt; <strong>del lst[1]</strong>        <span class="comment"># Remove an element via indexing</span>
&gt;&gt;&gt; <strong>lst</strong>
['x', 'y', 'b', 'z']
&gt;&gt;&gt; <strong>del lst[::2]</strong>      <span class="comment"># Remove a slice</span>
&gt;&gt;&gt; <strong>lst</strong>
['y', 'z']

<span class="comment"># List can be nested</span>
&gt;&gt;&gt; <strong>lst = [123, 4.5, ['a', 'b', 'c']]</strong>
&gt;&gt;&gt; <strong>lst</strong>
[123, 4.5, ['a', 'b', 'c']]
&gt;&gt;&gt; <strong>lst[2]</strong>
['a', 'b', 'c']</pre>

<h5>Appending Items to a <code>list</code></h5>

<pre class="example">
&gt;&gt;&gt; <strong>lst = [123, 'world']</strong>
&gt;&gt;&gt; <strong>lst[2]</strong>     <span class="comment"># Python performs index bound check</span>
<span class="error">IndexError: list index out of range</span>
&gt;&gt;&gt; <strong>lst[len(lst)] = 4.5</strong>  <span class="comment"># Cannot append using indexing</span>
<span class="error">IndexError: list assignment index out of range</span>
&gt;&gt;&gt; <strong>lst[len(lst):] = [4.5]</strong>  <span class="comment"># Can append using slicing</span>
&gt;&gt;&gt; <strong>lst</strong>
[123, 'world', 4.5]
&gt;&gt;&gt; <strong>lst[len(lst):] = [6, 7, 8]</strong>  <span class="comment"># Append a list using slicing</span>
&gt;&gt;&gt; <strong>lst</strong>
[123, 'world', 4.5, 6, 7, 8]
&gt;&gt;&gt; <strong>lst.append('nine')</strong>  <span class="comment"># append() one item</span>
&gt;&gt;&gt; <strong>lst</strong>
[123, 'world', 4.5, 6, 7, 8, 'nine']
&gt;&gt;&gt; <strong>lst.extend(['a', 'b'])</strong>  <span class="comment"># extend() takes a list</span>
&gt;&gt;&gt; <strong>lst</strong>
[123, 'world', 4.5, 6, 7, 8, 'nine', 'a', 'b']

&gt;&gt;&gt; <strong>lst + ['c']</strong>  <span class="comment"># '+' returns a new list; while slicing-assignment modifies the list and returns None</span>
[123, 'world', 4.5, 6, 7, 8, 'nine', 'a', 'b', 'c']
&gt;&gt;&gt; <strong>lst</strong>  <span class="comment"># No change</span>
[123, 'world', 4.5, 6, 7, 8, 'nine', 'a', 'b']</pre>

<h5>Copying a <code>list</code></h5>

<pre class="example">
&gt;&gt;&gt; <strong>l1 = [123, 4.5, 'hello']</strong>
&gt;&gt;&gt; <strong>l2 = l1[:]</strong>   <span class="comment"># Make a copy via slicing</span>
&gt;&gt;&gt; <strong>l2</strong>
[123, 4.5, 'hello']
&gt;&gt;&gt; <strong>l2[0] = 8</strong>    <span class="comment"># Modify new copy</span>
&gt;&gt;&gt; <strong>l2</strong>
[8, 4.5, 'hello']
&gt;&gt;&gt; <strong>l1</strong>           <span class="comment"># No change in original</span>
[123, 4.5, 'hello']

&gt;&gt;&gt; <strong>l3 = l1.copy()</strong>   <span class="comment"># Make a copy via copy() function, same as above</span>

<span class="comment"># Contrast with direct assignment</span>
&gt;&gt;&gt; <strong>l4 = l1</strong>    <span class="comment"># Direct assignment (of reference)</span>
&gt;&gt;&gt; <strong>l4</strong>
[123, 4.5, 'hello']
&gt;&gt;&gt; <strong>l4[0] = 8</strong>  <span class="comment"># Modify new copy</span>
&gt;&gt;&gt; <strong>l4</strong>
[8, 4.5, 'hello']
&gt;&gt;&gt; <strong>l1</strong>         <span class="comment"># Original also changes</span>
[8, 4.5, 'hello']</pre>

<h5><code>list</code>-Specific Member Functions</h5>

<p>The <code>list</code> class provides many member functions. Suppose <code><em>lst</em></code> is a <code>list</code> object:</p>

<ul>
<li><em><code>lst</code></em><code>.index(<em>item</em>)</code>: return the index of the first occurrence of  <code><em>item</em></code>; or error.</li>

<li><code><em>lst</em>.append(<em>item</em>)</code>: append the given <code>item</code> behind the <code>lst</code> and return <code>None</code>; same as slicing operation <code><em>lst</em>[len(<em>lst</em>):] = [<em>item</em>]</code>.</li>

<li><code><em>lst</em>.extend(<em>lst1</em>)</code>: append the given list <code><em>lst1</em></code> behind the <code>lst</code> and return <code>None</code>; same as slicing operation <code><em>lst</em>[len(<em>lst</em>):] = <em>lst1</em></code>.</li>

<li><code><em>lst</em>.insert(<em>index</em>, <em>item</em>)</code>: insert the given <em><code>item</code></em> before the <code>index</code> and return <code>None</code>. Hence, <code><em>lst</em>.insert(0, <em>item</em>)</code> inserts before the first item of the <code><em>lst</em></code>; <code><em>lst</em>.insert(len(<em>lst</em>), <em>item</em>)</code> inserts at the end of the <em><code>lst</code></em> which is the same as <code><em>lst</em>.append(<em>item</em>)</code>.</li>

<li><code><em>lst</em>.remove(<em>item</em>)</code>: remove the first occurrence of <code><em>item</em></code> from the <code><em>lst</em></code> and return <code>None</code>; or error.</li>

<li><code><em>lst</em>.pop()</code>: remove and return the last item of the <code><em>lst</em></code>.</li>

<li><code><em>lst</em>.pop(<em>index</em>)</code>: remove and return the indexed item of the <code><em>lst</em></code>.</li>

<li><code><em>lst</em>.clear()</code>: remove all the items from the <em><code>lst</code></em> and return <code>None</code>; same as operator <code>del <em>lst</em>[:]</code>.</li>

<li><code><em>lst</em>.count(item)</code>: return the occurrences of <code>item</code>.</li>

<li><code><em>lst</em>.reverse()</code>: reverse the <code>lst</code> in place and return <code>None</code>.</li>

<li><code><em>lst</em>.sort()</code>: sort the <code>lst</code> in place and return <code>None</code>.</li>

<li><code><em>lst</em>.copy()</code>: return a copy of <code>lst</code>; same as <code>lst[:]</code>.</li>
</ul>

<p>Recall that <code>list</code> is mutable (unlike string which is immutable). These functions modify the <code>list</code> directly. For examples,</p>

<pre class="example">
&gt;&gt;&gt; <strong>lst = [123, 4.5, 'hello', [6, 7, 8]]</strong>  <span class="comment"># list can also contain list</span>
&gt;&gt;&gt; <strong>lst</strong>
[123, 4.5, 'hello', [6, 7, 8]]
&gt;&gt;&gt; <strong>type(lst)</strong>  <span class="comment"># Show type</span>
&lt;class 'list'&gt;
&gt;&gt;&gt; <strong>dir(lst)</strong>   <span class="comment"># Show all the attributes of the lst object</span>

&gt;&gt;&gt; <strong>len(lst)</strong>
4
&gt;&gt;&gt; <strong>lst.append('apple')</strong>  <span class="comment"># Append item at the back</span>
&gt;&gt;&gt; <strong>lst</strong>
[123, 4.5, 'hello', [6, 7, 8], 'apple']
&gt;&gt;&gt; <strong>len(lst)</strong>
5
&gt;&gt;&gt; <strong>lst.pop(1)</strong>     <span class="comment"># Retrieve and remove item at index</span>
4.5
&gt;&gt;&gt; <strong>lst</strong>
[123, 'hello', [6, 7, 8], 'apple']
&gt;&gt;&gt; <strong>len(lst)</strong>
4
&gt;&gt;&gt; <strong>lst.insert(2, 55.66)</strong>  <span class="comment"># Insert item before the index</span>
&gt;&gt;&gt; <strong>lst</strong>
[123, 'hello', 55.66, [6, 7, 8], 'apple']
&gt;&gt;&gt; <strong>del lst[3:]</strong>         <span class="comment"># Delete the slice (del is an operator , not function)</span>
&gt;&gt;&gt; <strong>lst</strong>
[123, 'hello', 55.66]
&gt;&gt;&gt; <strong>lst.append(55.66)</strong>   <span class="comment"># A list can contain duplicate values</span>
&gt;&gt;&gt; <strong>lst</strong>
[123, 'hello', 55.66, 55.66]
&gt;&gt;&gt; <strong>lst.remove(55.66)</strong>   <span class="comment"># Remove the first item of given value</span>
&gt;&gt;&gt; <strong>lst</strong>
[123, 'hello', 55.66]
&gt;&gt;&gt; <strong>lst.reverse()</strong>       <span class="comment"># Reverse the list in place</span>
&gt;&gt;&gt; <strong>lst</strong>
[55.66, 'hello', 123]
 
<span class="comment"># Searching and Sorting</span>
&gt;&gt;&gt; <strong>lst2 = [5, 8, 2, 4, 1]</strong>
&gt;&gt;&gt; <strong>lst2.sort()</strong>     <span class="comment"># In-place sorting</span>
&gt;&gt;&gt; <strong>lst2</strong>
[1, 2, 4, 5, 8]
&gt;&gt;&gt; <strong>lst2.index(5)</strong>   <span class="comment"># Get the index of the given item</span>
3
&gt;&gt;&gt; <strong>lst2.index(9)</strong>
......
ValueError: 9 is not in list
&gt;&gt;&gt; <strong>lst2.append(1)</strong>
&gt;&gt;&gt; <strong>lst2</strong>
[1, 2, 4, 5, 8, 1]
&gt;&gt;&gt; <strong>lst2.count(1)</strong>   <span class="comment"># Count the occurrences of the given item</span>
2
&gt;&gt;&gt; <strong>lst2.count(9)</strong>
0
&gt;&gt;&gt; <strong>sorted(lst2)</strong>    <span class="comment"># Built-in function that returns a sorted list</span>
[1, 1, 2, 4, 5, 8]
&gt;&gt;&gt; <strong>lst2</strong>
[1, 2, 4, 5, 8, 1]  <span class="comment"># Not modified</span></pre>

<h5>Using <code>list</code> as a last-in-first-out Stack</h5>
<p>To use a <code>list</code> as a last-in-first-out (LIFO) stack, use <code>append(item)</code> to add an item to the top-of-stack (TOS) and <code>pop()</code> to remove the item from the TOS.</p>


<h5>Using <code>list</code> as a first-in-first-out Queue</h5>
<p>To use a <code>list</code> as a first-in-first-out (FIFO) queue, use <code>append(item)</code> to add an item to the end of the queue and <code>pop(0)</code> to remove the first item of the queue.</p>

<p>However, <code>pop(0)</code> is slow! The standard library provide a class <code>collections.deque</code> to efficiently implement deque with fast appends and pops from both ends.</p>

<h4>Tuple <code>(v1, v2,...)</code></h4>

<p>Tuple is similar to list except that it is <em>immutable</em> (just like string). Hence, tuple is more efficient than list. A tuple consists of items separated by commas, enclosed in parentheses <code>()</code>.</p>

<pre class="example">
&gt;&gt;&gt; <strong>tup = (123, 4.5, 'hello')</strong>  <span class="comment"># A tuple can contain different types</span>
&gt;&gt;&gt; <strong>tup</strong>
(123, 4.5, 'hello')
&gt;&gt;&gt; <strong>tup[1]</strong>           <span class="comment"># Indexing to get an item</span>
4.5
&gt;&gt;&gt; <strong>tup[1:3]</strong>         <span class="comment"># Slicing to get a sub-tuple</span>
(4.5, 'hello')
&gt;&gt;&gt; <strong>tup[1] = 9</strong>       <span class="comment"># Tuple, unlike list, is immutable</span>
<span class="error">TypeError: 'tuple' object does not support item assignment</span>
&gt;&gt;&gt; <strong>type(tup)</strong>
&lt;class 'tuple'&gt;
&gt;&gt;&gt; <strong>lst = list(tup)</strong>  <span class="comment"># Convert to list
</span>&gt;&gt;&gt; <strong>lst</strong>
[123, 4.5, 'hello']
&gt;&gt;&gt; <strong>type(lst)</strong>
&lt;class 'list'&gt;</pre>

<p>An one-item tuple needs a comma to differentiate from parentheses:</p>

<pre class="example">
&gt;&gt;&gt; <strong>tup = (5,)</strong>  <span class="comment"># An one-item tuple needs a comma</span>
&gt;&gt;&gt; <strong>tup</strong>
(5,)
&gt;&gt;&gt; <strong>x = (5)</strong>     <span class="comment"># Treated as parentheses without comma</span>
&gt;&gt;&gt; <strong>x</strong>
5</pre>

<p>The parentheses are actually optional, but recommended for readability. Nevertheless, the commas are mandatory. For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>tup = 123, 4.5, 'hello'</strong>
&gt;&gt;&gt; <strong>tup</strong>
(123, 4.5, 'hello')
&gt;&gt;&gt; <strong>tup2 = 88,</strong>  <span class="comment"># one-item tuple needs a trailing commas</span> 
&gt;&gt;&gt; <strong>tup2</strong>
(88,)

<span class="comment"># However, we can use empty parentheses to create an empty tuple
# Empty tuples are quite useless, as tuples are immutable.</span>
&gt;&gt;&gt; <strong>tup3 = ()</strong>
&gt;&gt;&gt; <strong>tup3</strong>
()
&gt;&gt;&gt; <strong>len(tup3)</strong>
0</pre>

<p>You can operate on tuples using (supposing that <code>tup</code> is a tuple):</p>

<ul>
<li>built-in functions such as <code>len(tup)</code>;</li>
<li>built-in functions for tuple of numbers such as <code>max(tup)</code>, <code>min(tup)</code> and <code>sum(tup)</code>;</li>
<li>operators such as <code>in</code>, <code>+</code> and <code>*</code>; and</li>
<li><code>tuple</code>'s member functions such as <code>tup.count(item)</code>,  <code>tup.index(item)</code>, etc.</li>
</ul>


<h5>Conversion between List and Tuple</h5>

<p>You can covert a list to a tuple using built-in function <code>tuple()</code>; and a tuple to a list using <code>list()</code>. For examples,</p>

<pre class="example">
&gt;&gt;&gt; <strong>tuple([1, 2, 3, 1])</strong>  <span class="comment"># Convert a list to a tuple</span>
(1, 2, 3, 1)
&gt;&gt;&gt; <strong>list((1, 2, 3, 1))</strong>   <span class="comment"># Convert a tuple to a list</span>
[1, 2, 3, 1]</pre>

<h4>Dictionary (Associative Array) <code>{k1:v1, k2:v2,...}</code></h4>

<p>Python's built-in <em>dictionary</em> type supports <em>key-value pairs</em> (also known as <em>name-value pairs</em>, <em>associative array</em>, or <em>mappings</em>).</p>

<ul>
<li>A dictionary is enclosed by a pair of curly braces <code>{}</code>. The key and value are separated by a colon (<code>:</code>), in the form of <code>{k1:v1, k2:v2, ...}</code></li>

<li>Unlike list and tuple, which index items using an integer index 0, 1, 2, 3,..., dictionary can be indexed using any key type, including number, string or other types.</li>
<li>Dictionary is <em>mutable</em>.</li>
</ul>

<pre class="example">
&gt;&gt;&gt; <strong>dct = {'name':'Peter', 'gender':'male', 'age':21}</strong>
&gt;&gt;&gt; <strong>dct</strong>
{'age': 21, 'name': 'Peter', 'gender': 'male'}
&gt;&gt;&gt; <strong>dct['name']</strong>       <span class="comment"># Get value via key</span>
'Peter'
&gt;&gt;&gt; <strong>dct['age'] = 22</strong>   <span class="comment"># Re-assign a value</span>
&gt;&gt;&gt; <strong>dct</strong>
{'age': 22, 'name': 'Peter', 'gender': 'male'}
&gt;&gt;&gt; <strong>len(dct)</strong>
3
&gt;&gt;&gt; <strong>dct['email'] = 'peter@nowhere.com'</strong>   <span class="comment"># Add new item</span>
&gt;&gt;&gt; <strong>dct</strong>
{'name': 'Peter', 'age': 22, 'email': 'peter@nowhere.com', 'gender': 'male'}
&gt;&gt;&gt; <strong>type(dct)</strong>
&lt;class 'dict'&gt;

<span class="comment"># Use dict() built-in function to create a dictionary</span>
&gt;&gt;&gt; <strong>dct2 = dict([('a', 1), ('c', 3), ('b', 2)])</strong>  <span class="comment"># Convert a list of 2-item tuples into a dictionary</span>
&gt;&gt;&gt; <strong>dct2</strong>
{'b': 2, 'c': 3, 'a': 1}</pre>

<h5>Dictionary-Specific Member Functions</h5>

<p>The <code>dict</code> class has many member methods. The commonly-used are follows (suppose that <code>dct</code> is a <code>dict</code> object):</p>

<ul>
<li><code><em>dct</em>.has_key()</code>:</li>
<li><code><em>dct</em>.items()</code>, <code>dct.keys()</code>, <code>dct.values()</code>:</li>
<li><code><em>dct</em>.clear()</code>:</li>
<li><code><em>dct</em>.copy()</code>:</li>
<li><code><em>dct</em>.get()</code>:</li>
<li><code><em>dct</em>.update(<em>dct2</em>)</code>: merge the given dictionary <code>dct2</code> into <code>dct</code>. Override the value if key exists, else, add new key-value.</li>
<li><code><em>dct</em>.pop()</code>:</li>
</ul>

<p>For Examples,</p>

<pre class="example">
&gt;&gt;&gt; <strong>dct = {'name':'Peter', 'age':22, 'gender':'male'}</strong>
&gt;&gt;&gt; <strong>dct</strong>
{'gender': 'male', 'name': 'Peter', 'age': 22}

&gt;&gt;&gt; <strong>type(dct)</strong>  <span class="comment"># Show type</span>
&lt;class 'dict'&gt;
&gt;&gt;&gt; <strong>dir(dct)</strong>   <span class="comment"># Show all attributes of dct object</span>
......

&gt;&gt;&gt; <strong>list(dct.keys())</strong>       <span class="comment"># Get all the keys as a list</span>
['gender', 'name', 'age']
&gt;&gt;&gt; <strong>list(dct.values())</strong>     <span class="comment"># Get all the values as a list</span>
['male', 'Peter', 22]
&gt;&gt;&gt; <strong>list(dct.items())</strong>      <span class="comment"># Get key-value as tuples</span>
[('gender', 'male'), ('name', 'Peter'), ('age', 22)]

<span class="comment"># You can also use get() to retrieve the value of a given key</span>
&gt;&gt;&gt; <strong>dct.get('age', 'not such key')</strong>  <span class="comment"># Retrieve item</span>
22
&gt;&gt;&gt; <strong>dct.get('height', 'not such key')</strong>
'not such key'
&gt;&gt;&gt; <strong>dct['height']</strong>
KeyError: 'height'
    <span class="comment"># Indexing an invalid key raises KeyError, while get() could gracefully handle invalid key</span>

&gt;&gt;&gt; <strong>del dct['age']</strong>   <span class="comment"># Delete (Remove) an item of the given key</span>
&gt;&gt;&gt; <strong>dct</strong>
{'gender': 'male', 'name': 'Peter'}

&gt;&gt;&gt; <strong>'name' in dct</strong>
True

&gt;&gt;&gt; <strong>dct.update({'height':180, 'weight':75})</strong>  <span class="comment"># Merge the given dictionary</span>
&gt;&gt;&gt; <strong>dct</strong>
{'height': 180, 'gender': 'male', 'name': 'Peter', 'weight': 75}

&gt;&gt;&gt; <strong>dct.pop('gender')</strong>  <span class="comment"># Remove and return the item with the given key</span> 
'male'
&gt;&gt;&gt; <strong>dct</strong>
{'name': 'Peter', 'weight': 75, 'height': 180}
&gt;&gt;&gt; <strong>dct.pop('no_such_key')</strong>   <span class="comment"># Raise KeyError if key not found</span>
KeyError: 'no_such_key'
&gt;&gt;&gt; <strong>dct.pop('no_such_key', 'not found')</strong>   <span class="comment"># Provide a default if key does not exist</span>
'not found'</pre>


<h4>Set <code>{k1, k2,...}</code></h4>

<p>A set is an <em>unordered</em>, <em>non-duplicate</em> collection of objects. A set is delimited by curly braces <code>{}</code>, just like dictionary. You can think of a set as a collection of dictionary keys without associated values. Sets are <em>mutable</em>.</p>

<p>For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>st = {123, 4.5, 'hello', 123, 'Hello'}</strong>
&gt;&gt;&gt; <strong>st</strong>         <span class="comment"># Duplicate removed and ordering may change</span>
{'Hello', 'hello', 123, 4.5}
&gt;&gt;&gt; <strong>123 in st</strong>  <span class="comment"># Test membership</span>
True
&gt;&gt;&gt; <strong>88 in st</strong>
False

<span class="comment"># Use the built-in function set() to create a set.</span>
&gt;&gt;&gt; <strong>st2 = set([2, 1, 3, 1, 3, 2])</strong>  <span class="comment"># Convert a list to a set. Duplicate removed and unordered.</span>
&gt;&gt;&gt; <strong>st2</strong>
{1, 2, 3}
&gt;&gt;&gt; <strong>st3 = set('hellllo')</strong>  <span class="comment"># Convert a string to a character set.</span>
&gt;&gt;&gt; <strong>st3</strong>
{'o', 'h', 'e', 'l'}
</pre>

<h5>Set-Specific Operators (<code>&amp;</code>, <code>!</code>, <code>-</code>, <code>^</code>)</h5>
<p>Python supports set operators <code>&amp;</code> (intersection), <code>|</code> (union), <code>-</code> (difference) and <code>^</code> (exclusive-or). For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>st1 = {'a', 'e', 'i', 'o', 'u'}</strong>
&gt;&gt;&gt; <strong>st1</strong>
{'e', 'o', 'u', 'a', 'i'}
&gt;&gt;&gt; <strong>st2 = set('hello')</strong>  <span class="comment"># Convert a string to a character set</span>
&gt;&gt;&gt; <strong>st2</strong>
{'o', 'l', 'e', 'h'}
&gt;&gt;&gt; <strong>st1 &amp; st2</strong>   <span class="comment"># Set intersection</span>
{'o', 'e'}
&gt;&gt;&gt; <strong>st1 | st2</strong>   <span class="comment"># Set union</span>
{'o', 'l', 'h', 'i', 'e', 'a', 'u'}
&gt;&gt;&gt; <strong>st1 - st2</strong>   <span class="comment"># Set difference</span>
{'i', 'u', 'a'}
&gt;&gt;&gt; <strong>st1 ^ st2</strong>   <span class="comment"># Set exclusive-or</span>
{'h', 'i', 'u', 'a', 'l'}</pre>

<h4>Sequence Types: <code>list</code>, <code>tuple</code>, <code>str</code></h4>

<p><code>list</code>, <code>tuple</code>, and <code>str</code> are parts of the sequence types. <code>list</code> is mutable, while <code>tuple</code> and <code>str</code> are immutable. They share the common sequence's built-in operators and built-in functions, as follows:</p>
<table class="table-zebra" style="width:90%">
  <thead>
    <tr>
      <th>Opr / Func</th>
      <th>Usage</th>
      <th>Description</th>
      </tr>
  </thead>
  <tbody>
    <tr>
      <td class="text-center"><code>in<br>
not in</code></td>
      <td><em><code>x in <em>seq</em><br>
<em>x</em> not in <em>seq</em></code></em></td>
      <td>Contain? 
        Return <code>bool</code> of either <code>True</code> or <code>False</code></td>
      </tr>
    <tr>
      <td class="text-center"><code>+</code></td>
      <td><em><code>seq + <em>seq1</em></code></em></td>
      <td>Concatenation</td>
      </tr>
    <tr>
      <td class="text-center"><code>*</code></td>
      <td><em><code>seq * <em>count</em></code></em></td>
      <td>Repetition (Same as: <code><em>seq</em> + <em>seq</em> + ...</code>)</td>
      </tr>
    <tr>
      <td class="text-center"><code>[<em>i</em>]<br>
[-<em>i</em>]</code></td>
      <td><code>seq[<em>i</em>]<br>
<em>seq</em>[-<em>i</em>]</code></td>
      <td>Indexing to get an item.<br>
        Front index begins at <code>0</code>; back index begins at <code>-1</code> (or <code>len(<em>seq</em>)-1</code>).</td>
      </tr>
    <tr>
      <td class="text-center"><code>[<em>m</em>:<em>n</em>:<em>step</em>]<br>
[<em>m</em>:<em>n</em>]<br>
[<em>m</em>:]<br>
[:<em>n</em>]<br>
[:]</code></td>
      <td><code>seq[<em>m</em>:<em>n</em>:<em>step</em>]<br>
<em>seq</em>[<em>m</em>:<em>n</em>]<br>
<em>seq</em>[<em>m</em>:]<br>
<em>seq</em>[:<em>n</em>}<br>
<em>seq</em>[:]</code></td>
      <td>Slicing to get a sub-sequence.<br>
        From index <code><em>m</em></code> (included) to <code><em>n</em></code> (excluded) with <code><em>step</em></code> size.<br>
        The defaults are: <em><code>m</code></em> is <code>0</code>, <em>n</em> is <code>len(<em>seq</em>)-1</code>.</td>
      </tr>
    <tr>
      <td class="text-center"><code>len()<br>
min()<br>
max()</code></td>
      <td><code>len(<em>seq</em>)<br>
min(<em>seq</em>)<br>
max(<em>seq</em>)</code></td>
      <td>Return the Length, minimum and maximum of the sequence</td>
    </tr>
    <tr>
      <td class="text-center"><code>seq.index()</code></td>
      <td><code><em>seq</em>.index(<em>x</em>)<br>
<em>seq</em>.index(<em>x</em>, <em>i</em>)<br>
<em>seq</em>.index(<em>x</em>, <em>i</em>, <em>j</em>)</code></td>
      <td>Return the index of <code><em>x</em></code> in the sequence, or raise <code>ValueError</code>. <br>
        Search from <code><em>i</em></code> (included) to <code><em>j</em></code> (excluded)</td>
    </tr>
    <tr>
      <td class="text-center"><code>seq.count()</code></td>
      <td><code><em>seq</em>.count(<em>x</em>)</code></td>
      <td>Returns the count of <em>x</em> in the sequence</td>
    </tr>
  </tbody>
</table>

<p>For mutable sequences (<code>list</code>), the following built-in operators and built-in functions (<em><code>func</code></em><code>(<em>seq</em>)</code>) and member functions (<em><code>seq</code></em><code>.<em>func</em>(*<em>args</em>)</code>) are supported:</p>
<table class="table-zebra" style="width:80%">
  <thead>
    <tr>
      <th>Opr / Func</th>
      <th>Usage</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="text-center"><code>[]</code></td>
      <td><em><code>seq[<em>i</em>] = <em>x</em><br>
<em>seq</em>[<em>m</em>:<em>n</em>] = []<br>
<em>seq</em>[:] = []<br>
<em>seq</em>[<em>m</em>:<em>n</em>] = <em>seq1</em><br>
<em>seq</em>[<em>m</em>:<em>n</em>:<em>step</em>] = <em>seq1</em></code></em></td>
      <td>Replace one item<br>
        Remove one or more items<br>
        Remove all items<br>
        Replace more items with a sequence of the same size</td>
    </tr>
    <tr>
      <td class="text-center"><code>+=</code></td>
      <td><em><code>seq += <em>seq1</em></code></em></td>
      <td>Extend by <code>seq1</code></td>
    </tr>
    <tr>
      <td class="text-center"><code>*=</code></td>
      <td><em><code>seq *= <em>count</em></code></em></td>
      <td>Repeat <code>count</code> times</td>
    </tr>
    <tr>
      <td class="text-center"><code>del</code></td>
      <td><code>del <em>seq</em>[<em>i</em>]<br>
del <em>seq</em>[<em>m</em>:<em>n</em>]<br>
del <em>seq</em>[<em>m</em>:<em>n</em>:<em>step</em>]</code></td>
      <td>Delete one item<br>
        Delete more items, same as: <code><em>seq</em>[<em>m</em>:<em>n</em>] = []</code></td>
    </tr>
    <tr>
      <td class="text-center"><code><em>seq</em>.clear()</code></td>
      <td><code><em>seq</em>.clear()</code></td>
      <td>Remove all items, same as: <code><em>seq</em>[:] = []</code> or <code>del <em>seq</em>[:]</code></td>
    </tr>
    <tr>
      <td class="text-center"><code><em>seq</em>.append()</code></td>
      <td><code><em>seq</em>.append(<em>x</em>)</code></td>
      <td>Append <em>x</em> to the end of the sequence, <br>
        same as: <code><em>seq</em>[len(<em>seq</em>):len(<em>seq</em>)] = [<em>x</em>]</code></td>
    </tr>
    <tr>
      <td class="text-center"><code><em>seq</em>.extend()</code></td>
      <td><code><em>seq</em>.extend(seq1)</code></td>
      <td>Extend the sequence,<br>
        same as: <code><em>seq</em>[len(<em>seq</em>):len(<em>seq</em>)] = <em>seq1</em></code> or <code><em>seq</em> += <em>seq1</em></code></td>
    </tr>
    <tr>
      <td class="text-center"><code><em>seq</em>.insert()</code></td>
      <td><code><em>seq</em>.insert(<em>i</em>, <em>x</em>)</code></td>
      <td>Insert <em><code>x</code></em> at index <em><code>i</code></em>, same as: <code><em>seq</em>[<em>i</em>] = <em>x</em></code></td>
    </tr>
    <tr>
      <td class="text-center"><code><em>seq</em>.remove()</code></td>
      <td><code><em>seq</em>.remove(<em>x</em>)</code></td>
      <td>Remove the first occurrence of <code><em>x</em></code></td>
    </tr>
    <tr>
      <td class="text-center"><code><em>seq</em>.pop()</code></td>
      <td><code><em>seq</em>.pop()<br>
seq.pop(<em>i</em>)</code></td>
      <td>Retrieve and remove the last item<br>
        Retrieve and remove the item at index <code><em>i</em></code></td>
    </tr>
    <tr>
      <td class="text-center"><code><em>seq</em>.copy()</code></td>
      <td><code><em>seq</em>.copy()</code></td>
      <td>Create a shallow copy of <code><em>seq</em></code>, same as: <code><em>seq</em>[:]</code></td>
    </tr>
    <tr>
      <td class="text-center"><code><em>seq</em>.reverse()</code></td>
      <td><code><em>seq</em>.reverse()</code></td>
      <td>Reverse the sequence in place</td>
    </tr>
  </tbody>
</table>

<h4>Others</h4>

<h5>Deque</h5>
<p>[TODO]</p>

<h5>Heap</h5>
<p>[TODO]</p>

<h3 id="FlowControl">Flow Control Constructs</h3>

<h4>Conditional <code>if-elif-else</code></h4>

<p>The  syntax is as follows. The <code>elif</code> (else-if) and <code>else</code> blocks are optional.</p>

<pre class="syntax">
<span class="comment"># if-else</span>
<strong>if</strong> <em>test</em><strong>:</strong>   <span class="comment"># no parentheses needed for test</span>
    <em>true_block</em>
<strong>else:</strong>
    <em>false_block</em>

<span class="comment"># Nested-if</span>
<strong>if</strong> <em>test_1</em><strong>:</strong>
    <em>block_1</em>
<strong>elif</strong> <em>test_2</em><strong>:</strong>
    <em>block_2</em>
<strong>elif</strong> <em>test_3</em><strong>:</strong>
    <em>block_3</em>
......
......
<strong>elif</strong> <em>test_n</em><strong>:</strong>
    <em>block_n</em>
<strong>else:</strong>
    <em>else_block</em></pre>

<p>For example:</p>
<pre class="example">
if x == 0:    <span class="comment"># No need for parentheses around the test condition</span>
    print('x is zero')
elif x &gt; 0:
    print('x is more than zero')
    print('xxxx')
else:
    print('x is less than zero')
    print('yyyy')</pre>



<p>There is no <code>switch-case</code> statement in Python (as in C/C++/Java).</p>

<h5>Comparison and Logical Operators</h5>

<p>Python supports these comparison (relational) operators, which return a <code>bool</code> of either <code>True</code> or <code>False</code>.</p>
<ul>
<li><code>&lt;</code> (less than), <code>&lt;=</code> (less than or equal to), <code>==</code> (equal to), <code>!=</code> (not equal to), <code>&gt;</code> (greater than), <code>&gt;=</code> (greater than or equal to). (This is the same as C/C++/Java.)</li>
<li><code>in</code>, <code>not in</code>: Check if an item is|is not in a sequence (list, tuple, string, set, etc).</li>
<li><code>is</code>, <code>is not</code>: Check if two variables have the same reference.</li>
</ul>

<p>Python supports these logical (boolean) operators: <code>and</code>, <code>or</code>, <code>not</code>. (C/C++/Java uses <code>&amp;&amp;</code>, <code>||</code>, <code>!</code>.)</p>

<h5>Chain Comparison <code>v1 &lt; x &lt; v2</code></h5>

<p>Python supports chain comparison in the form of <code>v1 &lt; x &lt; v2</code>, e.g.,</p>

<pre class="example">
&gt;&gt;&gt; <strong>x = 8</strong>
&gt;&gt;&gt; <strong>1 &lt; x &lt; 10</strong>
True
&gt;&gt;&gt; <strong>1 &lt; x and x &lt; 10</strong>  <span class="comment"># Same as above</span>
True
&gt;&gt;&gt; <strong>10 &lt; x &lt; 20</strong>
False
&gt;&gt;&gt; <strong>10 &gt; x &gt; 1</strong>
True
&gt;&gt;&gt; <strong>not (10 &lt; x &lt; 20)</strong>
True</pre>

<h5>Comparing Sequences</h5>

<p>The comparison operators (such as <code>==</code>, <code>&lt;=</code>) are overloaded to support sequences (such as string, list and tuple).</p>
<p>In comparing sequences, the first items from both sequences are compared. If they differ the outcome is decided. Otherwise, the next items are compared, and so on.</p>

<pre class="example">
<span class="comment"># String</span>
&gt;&gt;&gt; <strong>'a' &lt; 'b'</strong>     <span class="comment"># First items differ</span>
True
&gt;&gt;&gt; <strong>'ab' &lt; 'aa'</strong>   <span class="comment"># First items the same. Second items differ</span>
False
&gt;&gt;&gt; <strong>'a' &lt; 'b' &lt; 'c'</strong>   <span class="comment"># with chain comparison</span>
True

<span class="comment"># Tuple</span>
&gt;&gt;&gt; <strong>(1, 2, 3) &lt; (1, 2, 4)</strong>  <span class="comment"># First and second items the same. Third items differ</span>
True
<span class="comment"># List</span>
&gt;&gt;&gt; <strong>[1, 2, 3] &lt;= [1, 2, 3]</strong>  <span class="comment"># All items are the same</span>
True
&gt;&gt;&gt; <strong>[1, 2, 3] &lt; [1, 2, 3]</strong><br>False</pre>




<h5>Shorthand <code>if-else</code> (or Conditional Expression)</h5>
<p>The syntax is:</p>
<pre class="syntax">
<em>true_expr</em> <strong>if</strong> <em>test</em> <strong>else</strong> <em>false_expr</em>
    <span class="comment"># Evaluate and return <em>true_expr</em> if <em>test</em> is True; otherwise, evaluate and return <em>false_expr</em></span></pre>

<p>For example,</p>

<pre class="example">&gt;&gt;&gt; <strong>x = 0</strong>
&gt;&gt;&gt; <strong>print('zero' if x == 0 else 'not zero')</strong>
zero
 
&gt;&gt;&gt; <strong>x = -8</strong>
&gt;&gt;&gt; <strong>abs_x = x if x &gt; 0 else -x</strong>
&gt;&gt;&gt; <strong>abs_x</strong>
8</pre>

<p>Note: Python does not use &quot;<code>? :</code>&quot; for shorthand <code>if-else</code>, as in C/C++/Java.</p>

<h4>The <code>while</code> loop</h4>

<p>The  syntax is as follows:</p>

<pre class="syntax">
<strong>while</strong> <em>test</em><strong>:</strong>
    <em>true_block</em>
 
<span class="comment"># while loop has an optional else block</span>
<strong>while</strong> <em>test</em><strong>:</strong>
    <em>true_block</em>
<strong>else:</strong>           <span class="comment"># Run only if no break encountered</span>
    <em>else_block</em></pre>

<p>The <code>else</code> block is optional, which will be executed if the loop exits normally without encountering a <code>break</code> statement.</p>

<p>For example,</p>

<pre class="example">
<span class="comment"># Sum from 1 to the given upperbound</span>
upperbound = int(input('Enter the upperbound: '))
sum = 0
number = 1
while number &lt;= upperbound:  <span class="comment"># No need for () around test condition</span>
    sum += number
    number += 1
print(sum)</pre>

<h4><code>break</code>, <code>continue</code>, <code>pass</code> and loop-<code>else</code></h4>

<p>The <code>break</code> statement breaks out from the innermost loop; the <code>continue</code> statement skips the remaining statements of the loop and continues the next iteration. This is the same as C/C++/Java.</p>

<p>The <code>pass</code> statement does nothing. It serves as a placeholder for an empty statement or empty block.</p>

<p>The loop-<code>else</code> block is executed if the loop is exited normally, without encountering the <code>break</code> statement.</p>

<p>Examples: [TODO]</p>

<h4>Using Assignment in <code>while</code>-loop's Test?</h4>

<p>In many programming languages, assignment can be part of an expression, which return a value. It can be used in <code>while</code>-loop's test, e.g.,</p>
<pre class="example">
while data = func():  <span class="comment"># Call func() to get data. func() returns None to exit</span>
    do_something_on_data</pre>

<p>Python issues a syntax error at the assignment operator. In Python, you cannot use assignment operator in an expression.</p>
<p>You could do either of the followings:</p>

<pre class="example">
while True:
    data = func()
    if not data:
        break     <span class="comment"># break the endless loop here</span>
    do_something_on_data

data = func()
while data:
    do_something_on_data
    data = func()   <span class="comment"># Need to repeat the function call</span></pre>

<h4>The <code>for-in</code> loop</h4>

<p>The <code>for-in</code> loop has the following syntax:</p>

<pre class="syntax">
<strong>for</strong> <em>item</em> <strong>in</strong> <em>sequence</em><strong>:</strong>  <span class="comment"># sequence: string, list, tuple, dictionary, set</span>
    <em>true_block</em>
 
<span class="comment"># for-in loop with a else block</span>
<strong>for</strong> <em>item</em> <strong>in</strong> <em>sequence</em><strong>:</strong>
    <em>true_block</em>
<strong>else:</strong>        <span class="comment"># Run only if no break encountered</span>
    <em>else_block</em></pre>

<p>You shall read it as &quot;for each item in the sequence...&quot;. Again, the <code>else</code> block is executed only if the loop exits normally, without encountering the <code>break</code> statement.</p>

<h4>Iterating through Sequences</h4>

<h5>Iterating through a Sequence (String, List, Tuple, Dictionary, Set) using <code>for-in</code> Loop</h5>

<p>The <code>for-in</code> loop is primarily used to iterate through all the items of a sequence. For example,</p>

<pre class="example">
<span class="comment"># String: iterating through each character</span>
&gt;&gt;&gt; <strong>for char in 'hello': print(char)</strong>
h
e
l
l
o

<span class="comment"># List: iterating through each item</span>
&gt;&gt;&gt; <strong>for item in [123, 4.5, 'hello']: print(item)</strong>
123
4.5
hello

<span class="comment"># Tuple: iterating through each item</span>
&gt;&gt;&gt; <strong>for item in (123, 4.5, 'hello'): print(item)</strong>
123
4.5
hello

<span class="comment"># Dictionary: iterating through each key</span>
&gt;&gt;&gt; <strong>dct = {'a': 1, 2: 'b', 'c': 'cc'}</strong>
&gt;&gt;&gt; <strong>for key in dct: print(key, ':', dct[key])</strong>
a : 1
c : cc
2 : b

<span class="comment"># Set: iterating through each item</span>
&gt;&gt;&gt; <strong>for item in {'apple', 1, 2, 'apple'}: print(item)</strong>
1
2
apple

<span class="comment"># File: iterating through each line</span>
&gt;&gt;&gt; <strong>infile = open('test.txt', 'r')</strong>
&gt;&gt;&gt; <strong>for line in infile: print(line)</strong>
...Each line of the file...
&gt;&gt;&gt; <strong>infile.close()</strong>
</pre>

<h5><code>for(;;)</code> Loop</h5>

<p>Python does NOT support the C/C++/Java-like<code> for(int i; i &lt; n; ++i)</code> loop, which uses a varying index for the iterations.</p>

<p>Take note that you cannot use the &quot;<code>for item in lst</code>&quot; loop to modify a list. To modify the list, you need to get the list indexes by creating an <em>index list</em>. For example,</p>
<pre class="example">
<span class="comment"># List to be modified</span>
&gt;&gt;&gt; <strong>lst = [11, 22, 33]</strong>
<span class="comment">
# Cannot use for-in loop to modify the list</span>
&gt;&gt;&gt; <strong>for item in lst:</strong>
        <strong>item += 1</strong>    <span class="comment"># modifying item does not modify the list</span>
&gt;&gt;&gt; <strong>print(lst)</strong>
[11, 22, 33]  <span class="comment"># No change</span>

<span class="comment"># You need to modify the list through the indexes</span>
&gt;&gt;&gt; <strong>idx_lst = [0, 1, 2]   </strong><span class="comment"># Create your own index list for the list to be processed (not practical)</span>
&gt;&gt;&gt; <strong>for idx in idx_lst:</strong>   <span class="comment"># idx = 0, 1, 2</span>
        <strong>lst[idx] += 1</strong>     <span class="comment"># modify the list through index</span> 
&gt;&gt;&gt; <strong>print(lst)</strong>
[12, 23, 34]</pre>

<p>Manually creating the index list is not practical. You can use the <code>range()</code> function to create the index list (described below).</p>

<h5>The <code>range()</code> Built-in Function</h5>

<p>The <code>range()</code> function produces a series of running integers, which can be used as index list for the <code>for-in</code> loop.</p>

<ul>
<li><code>range(n)</code> produces integers from <code>0</code> to <code>n-1</code>;</li>
<li><code>range(m, n)</code> produces integers from <code>m</code> to <code>n-1</code>;</li>
<li><code>range(m, n, s)</code> produces integers from <code>m</code> to <code>n-1</code> in step of <code>s</code>.</li>
</ul>

<p>For example,</p>

<pre class="example">
<span class="comment"># Sum from 1 to the given upperbound</span>
upperbound = int(input('Enter the upperbound: '))
sum = 0
for number in range(1, upperbound+1):  <span class="comment"># number = 1, 2, 3, ..., upperbound</span>
    sum += number
print('The sum is:', sum)
 
<span class="comment"># Sum a given list</span>
lst = [9, 8, 4, 5]
sum = 0
for idx in range(len(lst)):  <span class="comment"># idx = 0, 1, ..., len()-1</span>
    sum += lst[idx]
print('The sum is:', sum)
 
<span class="comment"># There is no need to use indexes to 'read' the list!</span>
lst = [9, 8, 4, 5]
sum = 0
for item in lst:  <span class="comment"># Each item of lst</span>
    sum += item
print('The sum is:', sum)

<span class="comment"># You can also use built-in function to get the sum</span>
del sum   <span class="comment"># Need to remove the variable 'sum' before using built-in function sum()</span>
print('The sum is:', sum(lst))

<span class="comment"># But you need indexes to modify the list</span>
for idx in range(len(lst)):  <span class="comment"># idx = 0, 1, ..., len()-1</span>
    lst[idx] += 1
print(lst)

<span class="comment"># Or you can use a while loop, which is longer</span>
idx = 0
while idx &lt; len(lst):
    lst[idx] += 1
    idx += 1
print(lst)

<span class="comment"># You can create a new list through a one liner list comprehension</span>
lst = [11, 22, 33]
lst1 = [item + 1 for item in lst]
print(lst1)</pre>

<h5>Using <code>else</code>-clause in Loop</h5>

<p>Recall that the <code>else</code>-clause will be executed only if the loop exits without encountering a <code>break</code>.</p>
<pre class="example">
<span class="comment"># List all primes between 2 and 100</span>
for number in range(2, 101):
    for factor in range(2, number//2+1):  <span class="comment"># Look for factor</span>
        if number % factor == 0:  <span class="comment"># break if a factor found</span>
            print('{} is NOT a prime'.format(number))  
            break
    else:
        print('{} is a prime'.format(number))  <span class="comment"># Only if no break encountered</span></pre>

<h5>Iterating through a Sequence of Sequences</h5>

<p>A sequence (such as list, tuple) can contain sequences. For example,</p>

<pre class="command">
<span class="comment"># A list of 2-item tuples</span>
&gt;&gt;&gt; <strong>lst = [(1,'a'), (2,'b'), (3,'c')]</strong>
<span class="comment"># Iterating through the each of the 2-item tuples</span>
&gt;&gt;&gt; <strong>for v1, v2 in lst: print(v1, v2)</strong>  <span class="comment"># each item of the list is: v1, v2</span>
1 a
2 b
3 c

<span class="comment"># A list of 3-item lists</span>
&gt;&gt;&gt; <strong>lst = [[1, 2, 3], ['a', 'b', 'c']]</strong>
&gt;&gt;&gt; <strong>for v1, v2, v3 in lst: print(v1, v2, v3)</strong>  <span class="comment"># each item of the list is: v1, v2, v3</span>
1 2 3
a b c</pre>


<h5>Iterating through a Dictionary</h5>

<p>There are a few ways to iterate through an dictionary:</p>

<pre class="example">
&gt;&gt;&gt; <strong>dct = {'name':'Peter', 'gender':'male', 'age':21}</strong>

<span class="comment"># Iterate through the keys (as in the above example)</span>
&gt;&gt;&gt; <strong>for key in dct: print(key, ':', dct[key])</strong>
age : 21
name : Peter
gender : male

<span class="comment"># Iterate through the key-value pairs</span>
&gt;&gt;&gt; <strong>for key, value in dct.items(): print(key, ':', value)</strong>
age : 21
name : Peter
gender : male

&gt;&gt;&gt; <strong>dct.items()</strong>  <span class="comment"># Return a list of key-value (2-item) tuples</span>
[('gender', 'male'), ('age', 21), ('name', 'Peter')]</pre>

<h5>The <code>iter()</code> and <code>next()</code> Built-in Functions</h5>

<p>The built-in function <code>iter(<em>iterable</em>)</code> takes an <code><em>iterable</em></code> (such as sequence) and returns an <code>iterator</code> object. You can then use <code>next(<em>iterator</em>)</code> to iterate through the items. For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>lst = [11, 22, 33]</strong>
&gt;&gt;&gt; <strong>iterator = iter(lst)</strong>
&gt;&gt;&gt; <strong>next(iterator)</strong>
11
&gt;&gt;&gt; <strong>next(iterator)</strong>
22
&gt;&gt;&gt; <strong>next(iterator)</strong>
33
&gt;&gt;&gt; <strong>next(iterator)</strong>
StopIteration   <span class="comment"># Raise StopIteration exception if no more item</span>
&gt;&gt;&gt; <strong>type(iterator)</strong>
&lt;class 'list_iterator'&gt;</pre>

<h5>The <code>reversed()</code> Built-in Function</h5>

<p>To iterate a sequence in the reverse order, apply the <code>reversed()</code> function which reverses the iterator over values of the sequence. For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>lst = [11, 22, 33]</strong>
&gt;&gt;&gt; <strong>for item in reversed(lst): print(item, end=' ')</strong>
33 22 11
&gt;&gt;&gt; <strong>reversed(lst)</strong>
&lt;list_reverseiterator object at 0x7fc4707f3828&gt;

&gt;&gt;&gt; <strong>str = "hello"</strong>
&gt;&gt;&gt; <strong>for ch in reversed(str): print(ch, end='')</strong>
olleh</pre>

<h5>The <code>enumerate()</code> Built-in Function</h5>

<p>You can use the built-in function <code>enumerate()</code> to obtain the positional indexes, when looping through a sequence. For example,</p>

<pre class="example">
<span class="comment"># List</span>
&gt;&gt;&gt; <strong>lst = ['a', 'b', 'c']</strong>
&gt;&gt;&gt; <strong>for idx, value in enumerate(lst): print(idx, value)</strong>
0 a
1 b
2 c
&gt;&gt;&gt; <strong>enumerate(lst)</strong>
&lt;enumerate object at 0x7ff0c6b75a50&gt;

<span class="comment"># You can also use enumerate() to get the indexes to modify the list</span>
&gt;&gt;&gt; <strong>lst = [11, 22, 33]</strong>
&gt;&gt;&gt; <strong>for idx, value in enumerate(lst): lst[idx] += 1</strong>
&gt;&gt;&gt; lst
[12, 23, 34]

<span class="comment"># Tuple</span>
&gt;&gt;&gt; <strong>tup = ('d', 'e', 'f')</strong>
&gt;&gt;&gt; <strong>for idx, value in enumerate(tup): print(idx, value)</strong>
0 d
1 e
2 f</pre>

<h5>Multiple Sequences and the <code>zip()</code> Built-in Function</h5>

<p>To loop over two or more sequences concurrently, you can pair the entries with the <code>zip()</code> built-in function. For examples,</p>

<pre class="example">
&gt;&gt;&gt; <strong>lst1 = ['a', 'b', 'c']</strong>
&gt;&gt;&gt; <strong>lst2 = [11, 22, 33]</strong>
&gt;&gt;&gt; <strong>for i1, i2 in zip(lst1, lst2): print(i1, i2)</strong>
a 11
b 22
c 33
&gt;&gt;&gt; <strong>zip(lst1, lst2)</strong>   <span class="comment"># Return a list of tuples</span>
[('a', 11), ('b', 22), ('c', 33)]

<span class="comment"># zip() for more than 2 sequences</span>
&gt;&gt;&gt; <strong>tuple3 = (44, 55)</strong>
&gt;&gt;&gt; <strong>zip(lst1, lst2, tuple3)</strong>
[('a', 11, 44), ('b', 22, 55)]</pre>

<h4>Comprehension for Generating Mutable List, Dictionary and Set</h4>

<p><em>List comprehension</em> provides a one-liner concise way to generate a new list. The syntax is:</p>

<pre class="syntax">
<em>result_list</em> = <strong>[</strong><em>expression_with_item</em> <strong>for</strong> <em>item</em> <strong>in</strong> <em>list</em><strong>]</strong>
<em>result_list</em> = <strong>[</strong><em>expression_with_item</em> <strong>for</strong> <em>item</em> <strong>in</strong> <em>list</em> <strong>if</strong> <em>test</em><strong>]</strong>   <span class="comment"># with an optional test</span>
 
<span class="comment"># Same as</span>
<em>result_list</em> = []
for <em>item</em> in <em>list</em>:
    if <em>test</em>:
        <em>result_list</em>.append(<em>item</em>)</pre>

<p>For examples,</p>

<pre class="example">
&gt;&gt;&gt; <strong>sq_lst = [item * item for item in range(1, 11)]</strong>
&gt;&gt;&gt; <strong>sq_lst</strong>
[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
<span class="comment"># Same as</span>
&gt;&gt;&gt; <strong>sq_lst = []</strong>
&gt;&gt;&gt; <strong>for item in range(1, 11):
        sq_lst.append(item * item)</strong>

&gt;&gt;&gt; <strong>lst = [3, 4, 1, 5]</strong>
&gt;&gt;&gt; <strong>sq_lst = [item * item for item in lst]</strong>  <span class="comment"># no test, all items</span>
&gt;&gt;&gt; <strong>sq_lst</strong>
[9, 16, 1, 25]

&gt;&gt;&gt; <strong>sq_lst_odd = [item * item for item in lst if item % 2 != 0]</strong>
&gt;&gt;&gt; <strong>sq_lst_odd</strong>
[9, 1, 25]
<span class="comment"># Same as</span>
&gt;&gt;&gt; <strong>sq_lst_odd = []</strong>
&gt;&gt;&gt; <strong>for item in lst:
        if item % 2 != 0:
            sq_lst_odd.append(item * item)
</strong>
<span class="comment"># Nested for</span>
&gt;&gt;&gt; <strong>lst = [(x, y) for x in range(1, 3) for y in range(1, 4) if x != y]</strong>
&gt;&gt;&gt; <strong>lst</strong>
[(1, 2), (1, 3), (2, 1), (2, 3)]
<span class="comment"># Same as</span>
&gt;&gt;&gt; <strong>lst = []</strong>
&gt;&gt;&gt; <strong>for x in range(1,3):
        for y in range(1,4):
            if x != y: lst.append((x, y))</strong>
&gt;&gt;&gt; <strong>lst</strong>
[(1, 2), (1, 3), (2, 1), (2, 3)]</pre>

<p>Similarly, you can create dictionary and set (mutable sequences) via <em>comprehension</em>. For example,</p>

<pre class="example">
<span class="comment"># Dictionary {k1:v1, k2:v2,...}</span>
&gt;&gt;&gt; <strong>dct = {x:x**2 for x in range(1, 5)}</strong>  <span class="comment"># Use braces for dictionary</span>
&gt;&gt;&gt; <strong>dct</strong>
{1: 1, 2: 4, 3: 9, 4: 16}

<span class="comment"># Set {v1, v2,...}</span>
&gt;&gt;&gt; <strong>set = {ch for ch in 'hello' if ch not in 'aeiou'}</strong>  <span class="comment"># Use braces for set too</span>
&gt;&gt;&gt; <strong>set</strong>
{'h', 'l'}</pre>

<p>Comprehension cannot be used to generate  <code>string</code> and <code>tuple</code>, as they are immutable and <code>append()</code> cannot be applied.</p>

<h4>Naming Conventions and Coding Styles (PEP 8 &amp; PEP 257)</h4>

<h5>Naming Conventions</h5>
<p>These are the recommended naming conventions in Python:</p>

<ul>
<li>Variable names: use a noun in lowercase words (optionally joined with underscore <em>if it improves readability</em>), e.g., <code>num_students</code>.</li>
<li>Function names: use a verb in lowercase words (optionally joined with underscore <em>if it improves readability</em>), e.g., <code>getarea()</code> or <code>get_area()</code>.</li>

<li>Class names: use a noun in camel-case (initial-cap all words), e.g., <code>MyClass</code>, <code>IndexError</code>, <code>ConfigParser</code>.</li>

<li>Constant names: use a noun in uppercase words joined with underscore, e.g., <code>PI</code>, <code>MAX_STUDENTS</code>.</li>
</ul>

<h5>Coding Styles</h5>

<p>Read:</p>
<ol>
<li>&quot;<a href="http://www.python.org/dev/peps/pep-0008/">PEP 8: Style Guide for Python Code</a>&quot;</li>
<li>&quot;<a href="https://www.python.org/dev/peps/pep-0257/">PEP 257: Doc-string Conventions</a>&quot;</li>
</ol>

<p>The recommended styles are:</p>

<ul>
<li>Use 4 spaces for indentation. Don't use tab.</li>
<li>Lines shall not exceed 79 characters.</li>
<li>Use blank lines to separate functions and classes.</li>
<li>Use a space before and after an operator.</li>
<li>[TODO] more</li>
</ul>

<h3 id="functions">Functions</h3>

<h4>Syntax</h4>

<p>In Python, you define a function via the keyword <code>def</code> followed by the function name, the parameter list, the doc-string and the function body. Inside the function body, you can use a <code>return</code> statement to return a value to the caller. There is no need for type declaration like C/C++/Java.</p>

<p>The syntax is:</p>

<pre class="syntax">
<strong>def</strong> <em>function_name</em>(<em>arg1</em>, <em>arg2</em>, ...)<strong>:</strong>
    &quot;&quot;&quot;Function doc-string&quot;&quot;&quot;    <span class="comment"># Can be retrieved via <em>function_name</em>.__doc__</span>
    <em>body_block</em>
    <strong>return</strong> <em>return-value</em></pre>

<h5>The <code>pass</code> statement</h5>
<p>The <code>pass</code> statement does nothing. It is sometimes needed as a dummy statement placeholder to ensure correct syntax, e.g.,</p>

<pre class="example">
def my_fun():
    pass      <span class="comment"># To be defined later, but syntax error if empty</span></pre>




<h5>Example 1</h5>

<pre class="example">
&gt;&gt;&gt; <strong>def my_square(x):
        &quot;&quot;&quot;Return the square of the given number&quot;&quot;&quot;
        return x * x</strong>

<span class="comment"># Invoke the function defined earlier</span>
&gt;&gt;&gt; <strong>my_square(8)</strong>
64
&gt;&gt;&gt; <strong>my_square(1.8)</strong>
3.24
&gt;&gt;&gt; <strong>my_square('hello')</strong>
TypeError: can't multiply sequence by non-int of type 'str'
&gt;&gt;&gt; <strong>my_square</strong>
&lt;function my_square at 0x7fa57ec54bf8&gt;
&gt;&gt;&gt; <strong>type(my_square)</strong>
&lt;class 'function'&gt;
&gt;&gt;&gt; <strong>my_square.__doc__</strong>  <span class="comment"># Show function doc-string</span>
'Return the square of the given number'
&gt;&gt;&gt; <strong>help(my_square)</strong>    <span class="comment"># Show documentation</span>
my_square(x)
    Return the square of the given number
&gt;&gt;&gt; <strong>dir(my_square)</strong>     <span class="comment"># Show attribute list</span>
[......]</pre>

<p>Take note that you need to define the function before using it, because Python is interpretative.</p>


<h5>Example 2</h5>

<pre class="example">
<span class="comment"># Define a function (need to define before using the function)</span>
def fibon(n):
    &quot;&quot;&quot;Print the first n Fibonacci numbers, where f(n)=f(n-1)+f(n-2) and f(1)=f(2)=1&quot;&quot;&quot;
    a, b = 1, 1   <span class="comment"># pair-wise assignment</span>
    for count in range(n): <span class="comment"># count = 0, 1, 2, ..., n-1</span>
        print(a, end=' ')  <span class="comment"># print a space instead of a default newline at the end</span>
        a, b = b, a+b
    print()   <span class="comment"># print a newline</span>

<span class="comment"># Invoke the function</span>
fibon(20)</pre>


<h5>Example 3: Function doc-string</h5>

<pre class="example">
def my_cube(x):
    <span class="comment">&quot;&quot;&quot;
    (number) -&gt; (number)
    Return the cube of the given number.

    :param x: number
    :return: number

    Examples (can be used by doctest for unit testing):
    &gt;&gt;&gt; my_cube(5)
    125
    &gt;&gt;&gt; my_cube(-5)
    -125
    &gt;&gt;&gt; my_cube(0)
    0
    &quot;&quot;&quot;</span>
    return x*x*x

<span class="comment"># Test the function</span>
print(my_cube(8))    <span class="comment"># 512</span>
print(my_cube(-8))   <span class="comment"># -512</span>
print(my_cube(0))    <span class="comment"># 0</span></pre>

<p>This example elaborates on the function's doc-string:</p>

<ul>
<li>The first line &quot;<code>(number) -&gt; (number)</code>&quot; specifies the type of the argument and return value. Python does not perform type check on function, and this line merely serves as documentation.</li>

<li>The second line gives a description.</li>

<li>Examples of function invocation follow. You can use the <code>doctest</code> module to perform unit test for this function based on these examples (to be described in the &quot;Unit Test&quot; section.</li>
</ul>

<h4>Using <code>doctest</code> for Unit Testing</h4>
<p>Try running the unit test for the  <code>my_cube()</code> function (in command-line interface), as follows:</p>
<pre class="command">
&gt;&gt;&gt; import doctest
&gt;&gt;&gt; doctest.testmod()
<span class="output">TestResults(failed=0, attempted=3)</span>   <span class="comment"># attempted 3 tests, none fails</span>

<span class="comment">// Try changing an expected test output, and observe the result.</span></pre>

<p>To test a script:</p>

<pre><code class="language-java line-numbers">#!/usr/bin/env python3
# -*- coding: UTF-8 -*-
"""
test_doctest - Trying doctest for unit testing
&quot;&quot;&quot;
import doctest

def my_cube(x):
    """
    (number) -&gt; (number)
    Return the cube of the given number.

    :param x: number
    :return: number

    Examples (can be used by doctest for unit testing):
    &gt;&gt;&gt; my_cube(5)
    125
    &gt;&gt;&gt; my_cube(-5)
    -125
    &gt;&gt;&gt; my_cube(0)
    0
    """
    return x*x*x

if __name__ == "__main__":
    import doctest
    doctest.testmod()</code></pre>

<pre class="command">&gt; <strong>python3 test_doctest.py</strong>
<span class="output">no output - silently PASS all tests (try changing an expected output to fail a test)</span>
&gt; <strong>python3 test_doctest.py -v</strong>    <span class="comment"># run in verbose mode to show output</span>
<span class="output">Trying:       
    my_cube(5)
Expecting:
    125
ok
Trying:
    my_cube(-5)
Expecting:
    -125
ok
Trying:
    my_cube(0)
Expecting:
    0
ok
1 items had no tests:
    __main__
1 items passed all tests:
   3 tests in __main__.my_cube
3 tests in 2 items.
3 passed and 0 failed.
Test passed.</span></pre>


<h4>Function Parameters and Arguments</h4>

<p>There is a subtle difference between function parameters and arguments. Function <em>parameters</em> are named variables listed in a function definition. Parameter variables are used to import <em>arguments</em> into functions. For example,</p>

<pre class="command">
&gt;&gt;&gt; def foo(parameter):
        print(parameter)

&gt;&gt;&gt; argument = 'hello'
&gt;&gt;&gt; foo(argument)
hello</pre>

<p>Note the differences:</p>
<ul>
<li>Function parameters are the names listed in the function's definition.</li>
<li>Function arguments are the real values passed to the function.</li>
<li>Parameters are initialized to the values of the arguments supplied.</li>
</ul>


<h5>Passing Arguments by-Value vs. by-Reference</h5>

<p>In Python:</p>
<ul>
<li>Immutable arguments (such as integers, floats, strings and tuples) are <em>passed by value</em>. That is, a copy is cloned and passed into the function. The original cannot be modified inside the function. Pass-by-value ensures that immutable arguments cannot be modified inside the function.</li>
<li>Mutable arguments (such as lists, dictionaries, sets and instances of classes) are <em>passed by reference</em>. That is, the pointer (or reference) of the object is passed into the function, and the object's contents can be modified inside the function via the pointer.</li>
</ul>

<p>For examples,</p>
<pre class="example">
<span class="comment"># Immutable arguments are passed-by-value</span>
&gt;&gt;&gt; <strong>def increment_int(num):
        num += 1</strong>
&gt;&gt;&gt; <strong>num = 5</strong>
&gt;&gt;&gt; <strong>increment_int(num)</strong>
&gt;&gt;&gt; <strong>num</strong>
5     <span class="comment"># no change</span>

<span class="comment"># Mutable arguments are passed-by-reference</span>
&gt;&gt;&gt; <strong>def increment_list(lst):
        for i in range(len(lst)):
            lst[i] += lst[i]</strong>
&gt;&gt;&gt; <strong>lst = [1, 2, 3, 4, 5]</strong>
&gt;&gt;&gt; <strong>increment_list(lst)</strong>
&gt;&gt;&gt; <strong>lst</strong>
[2, 4, 6, 8, 10]   <span class="comment"># changed</span></pre>


<h5>Function Parameters with Default Values</h5>

<p>You can assign a default value to the <em>trailing</em> function parameters. These trailing parameters having default values are <em>optional</em> during invocation. For examples,</p>

<pre class="example">
&gt;&gt;&gt; <strong>def foo(n1, n2 = 4, n3 = 5):</strong>  <span class="comment"># n1 is required, n2 and n3 having default are optional</span>
        &quot;&quot;&quot;Return the sum of all the arguments&quot;&quot;&quot;
        <strong>return n1 + n2 + n3</strong>

&gt;&gt;&gt; <strong>print(foo(1, 2, 3))</strong>
6
&gt;&gt;&gt; <strong>print(foo(1, 2))</strong>    <span class="comment"># n3 defaults</span>
8
&gt;&gt;&gt; <strong>print(foo(1))</strong>       <span class="comment"># n2 and n3 default</span>
10
&gt;&gt;&gt; <strong>print(foo())</strong>
<span class="error">TypeError: foo() takes at least 1 argument (0 given)</span>
&gt;&gt;&gt; <strong>print(foo(1, 2, 3, 4))</strong>
<span class="error">TypeError: foo() takes at most 3 arguments (4 given)</span></pre>


<p>Another example,</p>

<pre class="example">
def greet(name):
    return 'hello, ' + name
    
greet('Peter')
<span class="output">#'hello, Peter'</span></pre>

<p>Instead of hard-coding the <code>'hello, '</code>, it is more flexible to use a parameter with a default value, as follows:</p>

<pre class="example">
def greet(name, prefix='hello'):  <span class="comment"># 'name' is required, 'prefix' is optional</span>
    return prefix + ', ' + name
    
greet('Peter')                    <span class="output">#'hello, Peter'</span>
greet('Peter', 'hi')              <span class="output">#'hi, Peter'</span>
greet('Peter', prefix='hi')       <span class="output">#'hi, Peter'</span>
greet(name='Peter', prefix='hi')  <span class="output">#'hi, Peter'</span>
</pre>

<h5>Positional and Keyword Arguments</h5>

<p>Python functions support both <em>positional</em> and <em>keyword</em> (or <em>named</em>) arguments.</p>

<p>Normally, Python passes the arguments by position from left to right, i.e., positional, just like C/C++/Java. Python also allows you to pass arguments by keyword (or name) in the form of <code><em>kwarg</em>=<em>value</em></code>. For example,</p>

<pre class="example">
def foo(n1, n2 = 4, n3 = 5):
    &quot;&quot;&quot;Return the sum of all the arguments&quot;&quot;&quot;
    return n1 + n2 + n3

print(foo(n2 = 2, n1 = 1, n3 = 3)) <span class="comment"># Keyword arguments need not follow their positional order</span>
print(foo(n2 = 2, n1 = 1))         <span class="comment"># n3 defaults</span>
print(foo(n1 = 1))                 <span class="comment"># n2 and n3 default</span>
print(foo(1, n3 = 3))              <span class="comment"># n2 default. Place positional arguments before keyword arguments</span>
print(foo(n2 = 2))                 <span class="error"># TypeError, n1 missing</span></pre>

<p>You can also mix the positional arguments and keyword arguments, but you need to place the positional arguments first, as shown in the above examples.</p>

<h5>Variable Number of Positional Arguments (<code>*args</code>)</h5>

<p>Python supports variable  (arbitrary) number of arguments. In the function definition, you can use <code>*</code> to <em>pack</em> all the remaining positional arguments into a tuple. For example,</p>

<pre class="example">
def foo(a, *args):  <span class="comment"># Accept one positional argument, followed by arbitrary number of arguments pack into tuple</span>
    &quot;&quot;&quot;Return the sum of all the arguments (one or more)&quot;&quot;&quot;
    sum = a
    print('args is:', args)  <span class="comment"># for testing</span>
    for item in args:  <span class="comment"># args is a tuple</span>
        sum += item
    return sum

print(foo(1))           <span class="output">#args is: ()</span>
print(foo(1, 2))        <span class="output">#args is: (2,)</span>
print(foo(1, 2, 3))     <span class="output">#args is: (2, 3)</span>
print(foo(1, 2, 3, 4))  <span class="output">#args is: (2, 3, 4)</span></pre>

<p>Python supports placing <code>*args</code> in the middle of the parameter list. However, all the arguments after <code>*args</code> must be passed by keyword to avoid ambiguity. For example</p>

<pre class="example">
def foo(a, *args, b):
    &quot;&quot;&quot;Return the sum of all the arguments&quot;&quot;&quot;
    sum = a
    print('args is:', args)
    for item in args:
        sum += item
    sum += b
    return sum

print(foo(1, 2, 3, 4))      <span class="error">#TypeError: my_sum() missing 1 required keyword-only argument: 'b'</span>
print(foo(1, 2, 3, 4, b=5)) <span class="output">#args is: (2, 3, 4)</span></pre>

<h5>Unpacking List/Tuple into Positional Arguments (<code>*lst</code>, <code>*tuple</code>)</h5>

<p>In the reverse situation when the arguments are already in a list/tuple, you can also use <code>*</code> to <em>unpack</em> the list/tuple as separate positional arguments. For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>def foo(a, b, c):
        &quot;&quot;&quot;Return the sum of all the arguments&quot;&quot;&quot;
        return a+b+c</strong>

&gt;&gt;&gt; <strong>lst = [11, 22, 33]</strong>
&gt;&gt;&gt; <strong>foo(lst)</strong>
<span class="error">TypeError: foo() missing 2 required positional arguments: 'b' and 'c'</span>
&gt;&gt;&gt; <strong>foo(*lst)</strong>   <span class="comment"># Unpack the list into separate positional arguments</span>
66

&gt;&gt;&gt; <strong>lst = [44, 55]</strong>
&gt;&gt;&gt; <strong>my_sum(*lst)</strong>
<span class="error">TypeError: my_sum() missing 1 required positional argument: 'c'</span>

&gt;&gt;&gt; <strong>def foo(*args):</strong>  <span class="comment"># Variable number of positional arguments</span>
        <strong>sum = 0
        for item in args: sum += item
        return sum</strong>
&gt;&gt;&gt; <strong>foo(11, 22, 33)</strong>  <span class="comment"># positional arguments</span>
66
&gt;&gt;&gt; <strong>lst = [44, 55, 66]</strong>
&gt;&gt;&gt; <strong>foo(*lst)</strong>   <span class="comment"># Unpack the list into positional arguments</span>
165
&gt;&gt;&gt; <strong>tup = (7, 8, 9, 10)</strong>
&gt;&gt;&gt; <strong>foo(*tup)</strong>   <span class="comment"># Unpack the tuple into positional arguments</span>
34</pre>

<h5>Variable Number of Keyword Arguments (<code>**kwargs</code>)</h5>


<p>For keyword parameters, you can use <code>**</code> to pack them into a dictionary. For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>def my_print_kwargs(msg, **kwargs):</strong>  <span class="comment"># Accept variable number of keyword arguments, pack into dictionary</span>
        <strong>print(msg)
        for key, value in kwargs.items():</strong>  <span class="comment"># kwargs is a dictionary</span>
            <strong>print('{}: {}'.format(key, value))</strong>

&gt;&gt;&gt; <strong>my_print_kwargs('hello', name='Peter', age=24)</strong>
hello
name: Peter
age: 24</pre>

<h5>Unpacking Dictionary into Keyword Arguments (<code>**dict</code>)</h5>

<p>Similarly, you can also use ** to unpack a dictionary into individual keyword arguments</p>

<pre class="example">
&gt;&gt;&gt; <strong>def my_print_kwargs(msg, **kwargs):</strong>  <span class="comment"># Accept variable number of keyword arguments, pack into dictionary</span>
        <strong>print(msg)</strong>
        <strong>for key, value in kwargs.items():</strong>  <span class="comment"># kwargs is a dictionary</span>
            <strong>print('{}: {}'.format(key, value))</strong>

&gt;&gt;&gt; <strong>dict = {'k1':'v1', 'k2':'v2', 'k3':'v3'}</strong>
&gt;&gt;&gt; <strong>my_print_kwargs('hello', **dict)</strong>  <span class="comment"># Use ** to unpack dictionary into separate keyword arguments k1=v1, k2=v2</span>
hello
k1: v1
k2: v2
k3: v3</pre>

<h5>Using both <code>*args</code> and <code>**kwargs</code></h5>

<p>You can use both <code>*args</code> and <code>**kwargs</code> in your function definition. Place <code>*args</code> before <code>**kwargs</code>. For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>def my_print_all_args(*args, **kwargs):</strong>   <span class="comment"># Place *args before **kwargs</span>
        <strong>for item in args:</strong>  <span class="comment"># args is a tuple</span>
            <strong>print(item)</strong>
        <strong>for key, value in kwargs.items():</strong>  <span class="comment"># kwargs is a dictionary</span>
            <strong>print('%s: %s' % (key, value))</strong>

&gt;&gt;&gt; <strong>my_print_all_args('a', 'b', 'c', name='Peter', age=24)</strong>
a
b
c
name: Peter
age: 24

&gt;&gt;&gt; lst = [1, 2, 3]
&gt;&gt;&gt; dict = {'name': 'peter'}
&gt;&gt;&gt; my_print_all_args(*lst, **dict)  <span class="comment"># Unpack</span>
1
2
3
name: peter</pre>


<h4>Function Overloading</h4>

<p>Python does NOT support Function Overloading like Java/C++ (where the same function name can have different versions differentiated by their parameters).</p>
<p>Python does not have data type in the function parameters. If a function is defined twice, the new version will replace the older one with the same name.</p>

<pre class="example">
&gt;&gt;&gt; def foo(a, b):
        print('version 1')

&gt;&gt;&gt; def foo(a, b, c):
        print('version 2')

&gt;&gt;&gt; foo(1, 2, 3)
<span class="output">version 2</span>
&gt;&gt;&gt; foo(1, 2)
<span class="error">TypeError: foo() missing 1 required positional argument: 'c'</span>
</pre>

<p>You can archive function overloading by defining the datatype as a parameter (e.g., <code>datatype='int'</code>, <code>datatype='str'</code>), <code>*args</code> or  <code>param=None</code> (parameter with default of <code>None</code>). For examples,</p>
<p>[TODO]</p>


<h4>Function Return Values</h4>

<p>You can return multiple values from a Python function, e.g.,</p>
<pre class="example">
&gt;&gt;&gt; <strong>def foo():
       return 1, 'a', 'hello'</strong>  <span class="comment"># Return a tuple</span>

&gt;&gt;&gt; <strong>x, y, z = foo()</strong>  <span class="comment"># Chain assignment</span>
&gt;&gt;&gt; <strong>z</strong>
'hello'
&gt;&gt;&gt; <strong>foo()</strong>  <span class="comment"># Return a tuple</span>
(1, 'a', 'hello')</pre>

<p>It seems that Python function can return multiple values. In fact, a tuple that packs all the return values is returned.</p>

<p>Recall that a tuple is actually formed through the commas, not the parentheses, e.g.,</p>

<pre class="example">
&gt;&gt;&gt; <strong>x = 1, 'a'</strong>  <span class="comment"># Parentheses are optional for tuple</span>
&gt;&gt;&gt; <strong>x</strong>
(1, 'a')</pre>

<h4>Types Hints via Function Annotations</h4>

<p>From Python 3.5, you can provide type hints via function annotations in the form of:</p>

<pre class="example">
def say_hello(name<span class="new">:str</span>) <span class="new">-&gt; str</span>:  <span class="comment"># Type hints for parameter and return value</span>
    return 'hello, ' + name

say_hello('Peter')</pre>

<p>The type hints annotations are ignored, and merely serves as documentation. But there are external library that can perform the type check.</p>
<p>The Python runtime does not enforce function and variable type annotations. They can be used by third party tools such as type checkers, IDEs, linters, etc.</p>

<p>Read: &quot;<a href="https://www.python.org/dev/peps/pep-0484/">PEP 484 -- Type Hints</a>&quot;.</p>


<h3 id="ModuleImport">Modules, Import-Statement and Packages</h3>

<h4>Modules</h4>

<p>A Python module is a file containing Python codes - including statements, variables, functions and classes. It shall be saved with file extension of &quot;<code>.py</code>&quot;. The module name is the filename, i.e., a module shall be saved as &quot;<code>&lt;module_name&gt;.py</code>&quot;.</p>

<p>By convention, modules names shall be short and all-lowercase (optionally joined with underscores if it improves readability).</p>

<p>A module typically begins with a triple-double-quoted documentation string (doc-string) (which is available in <code>&lt;module_name&gt;.__doc__</code>), followed by variables, functions and class definitions.</p>

<h5>Example: The <code>greet</code> Module</h5>
<p>Create a module called <code>greet</code> and save as &quot;<code>greet.py</code>&quot; as follows:</p>

<pre class="example">
<span class="comment">#!/usr/bin/env python3
# -*- coding: UTF-8 -*-
&quot;&quot;&quot;
greet
~~~~~
This module contains the greeting message 'msg' and greeting function 'greet()'.
&quot;&quot;&quot;</span>

msg = 'Hello'      <span class="comment"># Global Variable</span>
 
def greet(name):   <span class="comment"># Function</span>
    <span class="comment">&quot;&quot;&quot;Do greeting&quot;&quot;&quot;</span>
    print('{}, {}'.format(msg, name))</pre>

<p>This <code>greet</code> module defines a variable <code>msg</code> and a function <code>greet()</code>.</p>

<h4>The <code>import</code> statement</h4>

<p>To use an <em>external</em> module in your script, use the <code>import</code> statement:</p>

<pre class="syntax">
import &lt;module_name&gt;                          <span class="comment"># import one module</span>
import &lt;module_name_1&gt;, &lt;module_name_2&gt;, ...  <span class="comment"># import many modules, separated by commas</span>
import &lt;module_name&gt; as &lt;name&gt;                <span class="comment"># To reference the imported module as &lt;name&gt;</span></pre>

<p>Once <code>import</code>ed, you can reference the module's attributes as <code>&lt;module_name&gt;.&lt;attribute_name&gt;</code>. You can use the <code>import-as</code> to assign an alternate  name to avoid module name conflict.</p>

<p>For example, to use the <code>greet</code> module created earlier:</p>

<pre class="example">
$ cd /path/to/target-module
$ python3
&gt;&gt;&gt; <strong>import greet</strong>
&gt;&gt;&gt; <strong>greet.greet('Peter')</strong>  <span class="comment"># &lt;module_name&gt;.&lt;function_name&gt;</span>
Hello, Peter
&gt;&gt;&gt; <strong>print(greet.msg)</strong>      <span class="comment"># &lt;module_name&gt;.&lt;var_name&gt;</span>
Hello

&gt;&gt;&gt; <strong>greet.__doc__</strong>         <span class="comment"># module's doc-string</span>
'greet.py: the greet module with attributes msg and greet()'
&gt;&gt;&gt; <strong>greet.__name__</strong>        <span class="comment"># module's name</span>
'greet'

&gt;&gt;&gt; <strong>dir(greet)</strong>            <span class="comment"># List all attributes defined in the module</span>
['__built-ins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__',
 '__package__', '__spec__', <span class="new">'greet'</span>, <span class="new">'msg'</span>]

&gt;&gt;&gt; <strong>help(greet)</strong>           <span class="comment"># Show module's name, functions, data, ...</span>
Help on module greet:
NAME
    greet
DESCRIPTION
    ...doc-string...
FUNCTIONS
    greet(name)
DATA
    msg = 'Hello'
FILE
    /path/to/greet.py

&gt;&gt;&gt; <strong>import greet as salute</strong>  <span class="comment"># Reference the 'greet' module as 'salute'</span>
&gt;&gt;&gt; <strong>salute.greet('Paul')</strong>
Hello, Paul</pre>

<p>The import statements should be grouped in this order:</p>

<ol>
<li>Python's standard library</li>
<li>Third party libraries</li>
<li>Local application libraries</li>
</ol>

<h4>The <code>from-import</code> Statement</h4>

<p>The syntax is:</p>
<pre class="syntax">
from &lt;module_name&gt; import &lt;attr_name&gt;              <span class="comment"># import one attribute</span>
from &lt;module_name&gt; import &lt;attr_name_1&gt;, &lt;attr_name_2&gt;, ...   <span class="comment"># import selected attributes</span>
from &lt;module_name&gt; import *                        <span class="comment"># import ALL attributes (NOT recommended)</span>
from &lt;module_name&gt; import &lt;attr_name&gt; as &lt;name&gt;    <span class="comment"># import attribute as the given name</span></pre>

<p>With the <code>from-import</code> statement, you can reference the imported attributes using <code>&lt;attr_name&gt;</code> directly, without qualifying with the <code>&lt;module_name&gt;</code>.</p>

<p>For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>from greet import greet, msg as message</strong>
&gt;&gt;&gt; <strong>greet('Peter')</strong>  <span class="comment"># Reference without the 'module_name'</span>
Hello, Peter
&gt;&gt;&gt; <strong>message</strong>
'Hello'
&gt;&gt;&gt; <strong>msg</strong>
NameError: name 'msg' is not defined</pre>


<h4><code>import</code> vs. <code>from-import</code></h4>

<p>The <code>from-import</code> statement actually loads the entire module (like <code>import</code> statement); and NOT just the imported attributes. But it exposes ONLY the imported attributes to the namespace. Furthermore, you can reference them directly without qualifying with the module name.</p>

<p>For example, let create the following module called <code>imtest.py</code> for testing <code>import</code> vs. <code>from-import</code>:</p>

<pre class="example">
<span class="comment">#!/usr/bin/env python3
# -*- coding: UTF-8 -*-
&quot;&quot;&quot;
imtest
~~~~~~
For testing import vs. from-import
&quot;&quot;&quot;</span>
x = 1
y = 2

print('x is: {}'.format(x))

def foo():
    print('y is: {}'.format(y))
    
def bar():
    foo()</pre>
    
<p>Let's try out <code>import</code>:</p>

<pre class="command">
$ <strong>python3</strong>
&gt;&gt;&gt; <strong>import imtest</strong>
x is: 1
&gt;&gt;&gt; <strong>imtest.y</strong>  <span class="comment"># All attributes are available, qualifying by the module name</span>
2
&gt;&gt;&gt; <strong>imtest.bar()</strong>
y is: 2</pre>    

<p>Now, try the <code>from-import</code> and note that the entire module is loaded, just like the <code>import</code> statement.</p>

<pre class="command">
$ <strong>python3</strong>
&gt;&gt;&gt; <strong>from imtest import x, bar</strong>
x is: 1
&gt;&gt;&gt; <strong>x</strong>  <span class="comment"># Can reference directly, without qualifying with the module name</span>
1
&gt;&gt;&gt; <strong>bar()</strong>
y is: 2
&gt;&gt;&gt; <strong>foo()</strong>  <span class="comment"># Only the imported attributes are available</span>
NameError: name 'foo' is not defined</pre>


<h4>Conditional Import</h4>

<p>Python supports conditional import too.  For example,</p>
<pre class="example">
if ....:   <span class="comment"># E.g., check the version number</span>
   import xxx
else:
   import yyy</pre>


<h4><code>sys.path</code> and <code>PYTHONPATH</code>/<code>PATH</code> environment variables</h4>

<p>The environment variable <code>PATH</code> shall include the path to Python Interpreter &quot;<code>python3</code>&quot;.</p>

<p>The Python module search path is maintained in a Python variable <code>path</code> of the <code>sys</code> module, i.e., <code>sys.path</code>. The <code>sys.path</code> is initialized from the environment variable <code>PYTHONPATH</code>, plus an installation-dependent default. The environment variable <code>PYTHONPATH</code> is empty by default.</p>

<p>For example,</p>
<pre class="example">
&gt;&gt;&gt; <strong>import sys</strong>
&gt;&gt;&gt; <strong>sys.path</strong>
['', '/usr/lib/python3.5', '/usr/local/lib/python3.5/dist-packages', 
 '/usr/lib/python3.5/dist-packages', ...]</pre>
 
<p><code>sys.path</code> default includes the current working directory (denoted by an empty string), the standard Python directories, plus the extension directories in <code>dist-packages</code>.</p>

<p>The imported modules must be available in one of the <code>sys.path</code> entries.</p>

<pre class="example">
&gt;&gt;&gt; <strong>import some_mod</strong>
ImportError: No module named 'some_mod'
&gt;&gt;&gt; <strong>some_mod.var</strong>
NameError: name 'some_mod' is not defined</pre>

<p>To show the <code>PATH</code> and <code>PYTHONPATH</code> environment variables, use one of these commands:</p>

<pre class="command">
<span class="comment"># Windows</span>
&gt; <strong>echo %PATH%</strong>
&gt; <strong>set PATH</strong>
&gt; <strong>PATH</strong>
&gt; <strong>echo %PYTHONPATH%</strong>
&gt; <strong>set PYTHONPATH</strong>

<span class="comment"># macOS / Ubuntu</span>
$ <strong>echo $PATH</strong>
$ <strong>printenv PATH</strong>
$ <strong>echo $PYTHONPATH</strong>
$ <strong>printenv PYTHONPATH</strong></pre>

<h4>Reloading Module using <code>imp.reload()</code> or <code>importlib.reload()</code></h4>

<p>If you modify a module, you can use <code>reload()</code> function of the <code>imp</code> (for import) module to reload the module, for example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>import greet</strong>
<span class="comment"># Make changes to greet module</span>
&gt;&gt;&gt; <strong>import imp</strong>
&gt;&gt;&gt; <strong>imp.reload(greet)</strong></pre>

<p>NOTE: Since Python 3.4, the <code>imp</code> package is pending deprecation in favor of <code>importlib</code>.</p>

<pre class="example">
&gt;&gt;&gt; <strong>import greet</strong>
<span class="comment"># Make changes to greet module</span>
&gt;&gt;&gt; <strong>import importlib</strong>   <span class="comment"># Use 'importlib' in Python 3</span>
&gt;&gt;&gt; <strong>importlib.reload(greet)</strong></pre>


<h4>Template for Python Standalone Module</h4>

<p>The following is a template of standalone module for performing a specific task:</p>

<pre class="example">
<span class="comment">#!/usr/bin/env python3
# -*- coding: UTF-8 -*-
&quot;&quot;&quot;
&lt;package_name&gt;.&lt;module_name&gt;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~
A description which can be long and explain the complete
functionality of this module even with indented code examples.
Class/Function however should not be documented here.

:author: &lt;author-name&gt;
:version: x.y.z (version.release.modification)
:copyright: ......
:license: ......
&quot;&quot;&quot;</span>
import &lt;standard_library_modules&gt;
import &lt;third_party_library_modules&gt;
import &lt;application_modules&gt;

<span class="comment"># Define global variables</span>
#......

<span class="comment"># Define helper functions</span>
#......

<span class="comment"># Define the entry 'main' function</span>
def main():
    <span class="comment">&quot;&quot;&quot;The main function doc-string&quot;&quot;&quot;</span>
    #.......

<span class="comment"># Run main() if this script is executed directly by the Python interpreter</span>
if __name__ == '__main__':
    main()</pre>

<p>When you execute a Python module (via the Python Interpreter), the <code>__name__</code> is set to <code>'__main__'</code>.  On the other hand, when a module is imported, its <code>__name__</code> is set to the module name. Hence, the above module will be executed if it is loaded by the Python interpreter, but not imported by another module.</p>

<p>Example: [TODO]</p>

<h4>Packages</h4>

<p>A module contains attributes (such as variables, functions and classes). Relevant modules (kept in the same directory) can be grouped into a package. Python also supports sub-packages (in sub-directories). Packages and sub-packages are a way of organizing Python's module namespace by using &quot;dotted names&quot; notation, in the form of <code>'&lt;pack_name&gt;.&lt;sub_pack_name&gt;.&lt;sub_sub_pack_name&gt;.&lt;module_name&gt;.&lt;attr_name&gt;'</code>.</p>

<p>To create a Python package:</p>

<ol>
<li>Create a directory and named it your package's name.</li>
<li>Put your modules in it.</li>
<li>Create a <code>'__init__.py'</code> file in the directory.</li>
</ol>

<p>The <code>'__init__.py'</code> marks the directory as a package. For example, suppose that you have this directory/file structure:</p>

<pre class="example">
myapp/                 <span class="comment"># This directory is in the 'sys.path'</span>
   |
   + mypack1/          <span class="comment"># A directory of relevant modules</span>
   |    |
   |    + __init__.py  <span class="comment"># Mark this directory as a package called 'mypack1'</span>
   |    + mymod1_1.py  <span class="comment"># Reference as 'mypack1.mymod1_1'</span>
   |    + mymod1_2.py  <span class="comment"># Reference as 'mypack1.mymod1_2'</span>
   |
   + mypack2/          <span class="comment"># A directory of relevant modules</span>
        |
        + __init__.py  <span class="comment"># Mark this directory as a package called 'mypack2'</span>
        + mymod2_1.py  <span class="comment"># Reference as 'mypack2.mymod2_1'</span>
        + mymod2_2.py  <span class="comment"># Reference as 'mypack2.mymod2_2'</span></pre>

<p>If <code>'myapp'</code> is in your <code>'sys.path'</code>, you can import <code>'mymod1_1'</code> as:</p>

<pre class="example">
import mypack1.mymod1_1       <span class="comment"># Reference 'attr1_1_1' as 'mypack1.mymod1_1.attr1_1_1'</span>
from mypack1 import mymod1_1  <span class="comment"># Reference 'attr1_1_1' as 'mymod1_1.attr1_1_1'</span></pre>

<p>Without the <code>'__init__.py'</code>, Python will NOT search the <code>'mypack1'</code> directory for <code>'mymod1_1'</code>. Moreover, you cannot reference modules in the <code>'mypack1'</code> directory directly (e.g., <code>'import mymod1_1'</code>) as it is not in the <code>'sys.path'</code>.</p>

<h5>Attributes in <code>'__init__.py'</code></h5>

<p>The <code>'__init__.py'</code> file is usually empty, but it can be used to <em>initialize</em> the package such as exporting selected portions of the package under more convenient name, hold convenience functions, etc.</p>

<p>The attributes of the <code>'__init__.py'</code> module can be accessed via the package name directly (i.e., <code>'&lt;package-name&gt;.&lt;attr-name&gt;'</code> instead of <code>'&lt;package-name&gt;.&lt;__init__&gt;.&lt;attr-name&gt;'</code>). For example,</p>

<pre class="example">
import mypack1               <span class="comment"># Reference 'myattr1' in '__init__.py' as 'mypack1.myattr1'</span>
from mypack1 import myattr1  <span class="comment"># Reference 'myattr1' in '__init__.py' as 'myattr1'</span></pre>

<h5>Sub-Packages</h5>

<p>A package can contain sub-packages too. For example,</p>

<pre class="example">
myapp/                 <span class="comment"># This directory is in the 'sys.path'</span>
   |
   + mypack1/
        |
        + __init__.py    <span class="comment"># Mark this directory as a package called 'mypack1'</span>
        + mymod1_1.py    <span class="comment"># Reference as 'mypack1.mymod1_1'</span>
        |
        + mysubpack1_1/
        |    |
        |    + __init__.py    <span class="comment"># Mark this sub-directory as a package called 'mysubpack1_1'</span>
        |    + mymod1_1_1.py  <span class="comment"># Reference as 'mypack1.mysubpack1_1.mymod1_1_1'</span>
        |    + mymod1_1_2.py  <span class="comment"># Reference as 'mypack1.mysubpack1_1.mymod1_1_2'</span>
        |
        + mysubpack1_2/
             |
             + __init__.py    <span class="comment"># Mark this sub-directory as a package called 'mysubpack1_2'</span>
             + mymod1_2_1.py  <span class="comment"># Reference as 'mypack1.mysubpack1_2.mymod1_2_1'</span></pre>

<p>Clearly, the package's dot structure corresponds to the directory structure.</p>

<h5>Relative <code>from-import</code></h5>

<p>In the <code>from-import</code> statement, you can use <code>.</code> to refer to the current package and <code>..</code> to refer to the parent package.  For example, inside <code>'mymod1_1_1.py'</code>, you can write:</p>

<pre class="example">
<span class="comment"># Inside module 'mymod1_1_1'</span>
<span class="comment"># The current package is 'mysubpack1_1', where 'mymod1_1_1' resides</span>
from . import mymod1_1_2     <span class="comment"># from current package</span>
from .. import mymod1_1      <span class="comment"># from parent package</span>
from .mymod1_1_2 import attr
from ..mysubpack1_2 import mymod1_2_1</pre>

<p>Take note that in Python, you write <code>'.mymod1_1_2'</code>, <code>'..mysubpack1_2'</code> by omitting the separating dot (instead of <code>'..mymod1_1_2'</code>, <code>'...mysubpack1_2'</code>).</p>

<h5>Circular Import Problem</h5>
<p>[TODO]</p>


<h3 id="AdvancedFunction">Advanced Functions and Namespaces</h3>

<h4>Local Variables vs. Global Variables</h4>

<p><span class="lead">Local-Scope</span>: Names created <em>inside a function</em> (i.e., within <code>def</code> statement) are <em>local</em> to the function and are available inside the function only.</p>

<p><span class="lead">Module-Scope</span>: Names created <em>outside all functions</em> are <em>global</em> to that particular module (or file), but not available to the other modules. Global variables are available inside all the functions defined in the module. Global-scope in Python is equivalent to module-scope or file-scope. There is NO all-module-scope in Python.</p>

<p>For example,</p>

<pre class="example">
x = 'global'     <span class="comment"># x is a global variable for THIS module (module-scope)</span>
 
def foo(arg):    <span class="comment"># arg is a local variable for this function</span>
    y = 'local'  <span class="comment"># y is also a local variable</span>
    
    <span class="comment"># Function can access both local and global variables</span>
    print(x)
    print(y)
    print(arg)
 
foo('abc')
print(x)
#print(y)   <span class="error"># locals are not visible outside the function</span>
#print(arg)</pre>


<h4>Function Variables (Variables of Function Object)</h4>

<p>Function is an object in Python (like JavaScript, unlike Java).</p>
<p>In Python, a variable takes a value or object (such as <code>int</code>, <code>str</code>). It can also take a function. For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>def square(n): return n * n</strong>

&gt;&gt;&gt; <strong>square(5)</strong>
25
&gt;&gt;&gt; <strong>sq = square</strong>   <span class="comment"># Assign a function to a variable. No parameters.</span>
&gt;&gt;&gt; <strong>sq(5)</strong>
25
&gt;&gt;&gt; <strong>type(square)</strong>
<span class="output">&lt;class 'function'&gt;</span>
&gt;&gt;&gt; <strong>type(sq)</strong>
&lt;class 'function'&gt;
&gt;&gt;&gt; <strong>square</strong>
&lt;function square at 0x7f0ba7040f28&gt;
&gt;&gt;&gt; <strong>sq</strong>
&lt;function square at 0x7f0ba7040f28&gt;  <span class="comment"># Exactly the same reference as square</span></pre>

<p><span class="new">A variable in Python can hold anything, a value, a function or an object.</span></p>

<h4>Nested Functions</h4>

<p>Python supports nested functions, i.e., defining a function inside a function.  For example,</p>

<pre class="example">
def outer(a):      <span class="comment"># Outer function</span>
    print('outer() begins with arg =', a)
    x = 1  <span class="comment"># Local variable of outer function</span>

    <span class="comment"># Define an inner function</span>
    <span class="comment"># Outer has a local variable holding a function object</span>
    def inner(b):  
        print('inner() begins with arg =', b)
        y = 2  <span class="comment"># Local variable of the inner function</span>
        print('a = {}, x = {}, y = {}'.format(a, x, y))
            <span class="comment"># Have read access to outer function's attributes</span>
        print('inner() ends')

    <span class="comment"># Call inner function defined earlier</span>
    inner('bbb')

    print('outer() ends')

<span class="comment"># Call outer function, which in turn calls the inner function</span> 
outer('aaa')</pre>

<p>The expected output is:</p>
<pre class="output">
outer begins with arg = aaa
inner begins with arg = bbb
a = aaa, x = 1, y = 2
inner ends
outer ends</pre>

<p>Take note that the inner function has read-access to all the attributes of the enclosing outer function, and the global variable of this module.</p>


<h4>Lambda Function (Anonymous Function)</h4>
<p>Lambda functions are anonymous function or un-named function. They are used to inline a function definition, or to defer execution of certain codes. The syntax is:</p>

<pre class="syntax">
<strong>lambda</strong> <em>arg1</em>, <em>arg2</em>, ...<strong>:</strong> <em>return_expression</em></pre>

<p>For example,</p>
<pre class="example">
<span class="comment"># Define an ordinary function using def and name</span>
&gt;&gt;&gt; <strong>def f1(a, b, c): return a + b + c</strong>

&gt;&gt;&gt; <strong>f1(1, 2, 3)</strong>
6
&gt;&gt;&gt; <strong>type(f1)</strong>
&lt;class 'function'&gt;

<span class="comment"># Define a Lambda function (without name) and assign to a variable</span>
&gt;&gt;&gt; <strong>f2 = lambda a, b, c: a + b + c</strong>  <span class="comment"># No need for return keyword, similar to evaluating an expression</span>

&gt;&gt;&gt; <strong>f2(1, 2, 3)</strong>  <span class="comment"># Invoke function</span>
6
&gt;&gt;&gt; <strong>type(f2)</strong>
&lt;class 'function'&gt;</pre>

<p><code>f1</code> and <code>f2</code> do the same thing. Take note that <code>return</code> keyword is NOT needed inside the lambda function. Instead, it is similar to evaluating an expression to obtain a value.</p>

<p>Lambda function, like ordinary function, can have default values for its parameters.</p>
<pre class="example">
&gt;&gt;&gt; <strong>f3 = lambda a, b=2, c=3: a + b + c</strong>
&gt;&gt;&gt; <strong>f3(1, 2, 3)</strong>
6
&gt;&gt;&gt; <strong>f3(8)</strong>
13</pre>

<p>More usages for lambda function will be shown later.</p>

<h5>Multiple Statements?</h5>
<p>Take note that the body of a lambda function is a one-liner <code><em>return_expression</em></code>. In other words, you cannot place multiple statements inside the body of a lambda function. You need to use a regular function for multiple statements.</p>



<h4>Functions are Objects</h4>

<p>In Python, functions are objects (like JavaScript, unlike Java).  Like any object,</p>
<ol>
<li>a function can be assigned to a <em>variable</em>;</li>
<li>a function can be passed into a function as an <em>argument</em>; and</li>
<li>a function can be the <em>return value</em> of a function, i.e., a function can return a function.</li>
</ol>

<h5>Example: Passing a Function Object as a Function Argument</h5>

<p>A function name is an <em> object reference</em> that can be passed into another function as argument.</p>

<pre class="example">
def my_add(x, y): return x + y

def my_sub(x, y): return x - y

<span class="comment"># This function takes a function object as its first argument</span>
def my_apply(func, x, y):
    <span class="comment"># Invoke the function received</span>
    return func(x, y)

print(my_apply(my_add, 3, 2))  <span class="output">#5</span>
print(my_apply(my_sub, 3, 2))  <span class="output">#1</span>

<span class="comment"># We can also pass an anonymous (Lambda) function as argument</span>
print(my_apply(<span class="new">lambda x, y: x * y</span>, 3, 2))  <span class="output">#6</span></pre>

<h5>Example: Returning an Inner Function object from an Outer Function</h5>

<pre class="example">
<span class="comment"># Define an outer function</span>
def my_outer():
    <span class="comment"># Outer has a function local variable</span>
    def my_inner():  
        print('hello from inner')

    <span class="comment"># Outer returns the inner function defined earlier</span>
    return my_inner

result = my_outer()  <span class="comment"># Invoke outer function, which returns a function object</span>
result()             <span class="comment"># Invoke the return function.</span>
<span class="output">#'hello from inner'</span>
print(result)
<span class="output">#'&lt;function inner at 0x7fa939fed410&gt;'</span></pre>

<h5>Example: Returning a Lambda Function</h5>

<pre class="example">
def increase_by(n):
    return lambda x: x + n  <span class="comment"># Return a one-argument anonymous function object</span>

plus_8 = increase_by(8)    <span class="comment"># Return a specific invocation of the function,
                           # which is also a function that takes one argument</span>
type(plus_8)
<span class="output">#&lt;class 'function'&gt;</span>
print(plus_8(1))    <span class="comment"># Run the function with one argument.</span>
<span class="output">#9</span>

plus_88 = increase_by(88)
print(plus_88(1))
<span class="output"># 89</span>

<span class="comment"># Same as above with anonymous references</span>
print(increase_by(8)(1))
<span class="output">#9</span>
print(increase_by(88)(1))
<span class="output">#89</span></pre>

<h4>Function Closure</h4>
<p>In the above example, <code>n</code> is not local to the lambda function. Instead, <code>n</code> is obtained from the outer function.</p>

<p>When we assign <code>increase_by(8)</code> to <code>plus_8</code>, <code>n</code> takes on the value of 8 during the invocation. But we expect <code>n</code> to go out of scope after the outer function terminates. If this is the case, calling <code>plus_8(1)</code> would encounter an non-existent <code>n</code>?</p>

<p>This problem is resolved via so called <em>Function Closure</em>. A closure is an inner function that is passed outside the enclosing function, to be used elsewhere. In brief, the inner function creates a closure (enclosure) for its enclosing namespaces at definition time. Hence, in <code>plus_8</code>, an enclosure with <code>n=8</code> is created; while in <code>plus_88</code>, an enclosure with <code>n=88</code> is created.  Take note that Python only allows the read access to the outer scope, but not write access. You can inspect the enclosure via <code>function_name.func_closure</code>, e.g.,</p>

<pre class="example">
print(plus_8.func_closure)   <span class="comment"># (&lt;cell at 0x7f01c3909c90: int object at 0x16700f0&gt;,)</span>
print(plus_88.func_closure)  <span class="comment"># (&lt;cell at 0x7f01c3909c20: int object at 0x1670900&gt;,)</span>
</pre>

<h4>Functional Programming: Using Lambda Function in <code>filter()</code>, <code>map()</code>, <code>reduce()</code> and Comprehension</h4>

<p>Instead of using a <code>for-in</code> loop to iterate through all the items in an <code>iterable</code> (sequence), you can use the following functions to apply an operation to all the items. This is known as <em>functional programming</em> or <em>expression-oriented programming</em>. Filter-map-reduce is popular in big data analysis (or data science).</p>

<ul>
<li><code>filter(<em>func</em>, <em>iterable</em>)</code>: Return an <code><em>iterator</em></code> yielding those <code>item</code>s of <code><em>iterable</em></code> for which <code><em>func</em>(<em>item</em>)</code> is <code>True</code>. For example,
  <pre class="example">
&gt;&gt;&gt; <strong>lst = [11, 22, 33, 44, 55]</strong>
&gt;&gt;&gt; <strong>filter(lambda x: x % 2 == 0, lst)</strong>  <span class="comment"># even number</span>
&lt;filter object at 0x7fc46f72b8d0&gt;
&gt;&gt;&gt; <strong>list(filter(lambda x: x % 2 == 0, lst))</strong>  <span class="comment"># Convert filter object to list</span>
[22, 44]
&gt;&gt;&gt; <strong>for item in filter(lambda x: x % 2 == 0, lst): print(item, end=' ')</strong>
22 44
&gt;&gt;&gt; <strong>print(filter(lambda x: x % 2 == 0, lst))</strong>  <span class="comment"># Cannot print() directly</span>
&lt;filter object at 0x6ffffe797b8&gt;</pre>
</li>

<li><code>map(<em>func</em>, <em>iterable</em>)</code>: Apply (or Map or Transform) the function <em>func</em> on each item of the <code><em>iterable</em></code>. For example,
  <pre class="example">
&gt;&gt;&gt; <strong>lst = [11, 22, 33, 44, 55]</strong>
&gt;&gt;&gt; <strong>map(lambda x: x*x, lst)</strong>   <span class="comment"># square</span>
&lt;map object at 0x7fc46f72b908&gt;
&gt;&gt;&gt; <strong>list(map(lambda x: x*x, lst))</strong>  <span class="comment"># Convert map object to list</span>
[121, 484, 1089, 1936, 3025]
&gt;&gt;&gt; <strong>for item in map(lambda x: x*x, lst): print(item, end=' ')</strong>
121 484 1089 1936 3025
&gt;&gt;&gt; <strong>print(map(lambda x: x*x, lst))</strong>  <span class="comment"># Cannot print() directly?</span>
&lt;map object at 0x6ffffe79a90&gt;</pre>
</li>

<li><code>reduce(<em>func</em>, <em>iterable</em>)</code> (in module <code>functools</code>): Apply the function of two arguments cumulatively to the items of a sequence, from left to right, so as to reduce the sequence to a single value, also known as <em>aggregation</em>. For example,

<pre class="example">
&gt;&gt;&gt; <strong>lst = [11, 22, 33, 44, 55]</strong>
&gt;&gt;&gt; <strong>from functools import reduce</strong>
&gt;&gt;&gt; <strong>reduce(lambda x,y: x+y, lst)</strong>  <span class="comment"># aggregate into sum</span>
165    <span class="comment"># (((11 + 22) + 33) + 44) + 55</span>
</pre>
</li>

<li><code>filter-map-reduce</code>: used frequently in big data analysis to obtain an aggregate value.
  <pre class="example"><span class="comment"># Combining filter-map to produce a new sub-list</span>
&gt;&gt;&gt; <strong>new_lst = list(map(lambda x: x*x, filter(lambda x: x % 2 == 0, lst)))</strong>
&gt;&gt;&gt; <strong>new_lst</strong>
[4, 36]

<span class="comment"># Combining filter-map-reduce to obtain an aggregate value
</span>&gt;&gt;&gt; <strong>from functools import reduce</strong>
&gt;&gt;&gt; <strong>reduce(lambda x, y: x+y, map(lambda x: x*x, filter(lambda x: x % 2 == 0, lst)))</strong>
40</pre></li>

<li>List comprehension: a one-liner to generate a list as discussed in the earlier section. e.g.,
<pre class="example">
&gt;&gt;&gt; <strong>lst = [3, 2, 6, 5]</strong>
&gt;&gt;&gt; <strong>new_lst = [x*x for x in lst if x % 2 == 0]</strong>
&gt;&gt;&gt; <strong>new_lst</strong>
[4, 36]

<span class="comment"># Using Lambda function</span>
&gt;&gt;&gt; <strong>f = lambda x: x*x</strong>    <span class="comment"># define a lambda function and assign to a variable</span>
&gt;&gt;&gt; <strong>new_lst = [f(x) for x in lst if x % 2 == 0]</strong>  <span class="comment"># Invoke on each element</span>
&gt;&gt;&gt; <strong>new_lst</strong>
[4, 36]
&gt;&gt;&gt; <strong>new_lst = [(lambda x: x*x)(x) for x in lst if x % 2 == 0]</strong>  <span class="comment"># inline lambda function</span>
&gt;&gt;&gt; <strong>new_lst</strong>
[4, 36]</pre>
</li>
</ul>

<p>These mechanisms replace the traditional for-loop, and express their functionality in simple function calls. It is called <em>functional programming</em>, i.e.,  applying a series of functions (filter-map-reduce) over a collection.</p>

<h4>Decorators</h4>

<p>In Python, a decorator is a callable (function) that takes a function as an argument and returns a replacement function. Recall that functions are objects in Python, i.e., you can pass a function as argument, and a function can return an inner function. A decorator is a transformation of a function.  It can be used to pre-process the function arguments before passing them into the actual function; or extending the behavior of functions that you don't want to modify, such as ascertain that the user has login and has the necessary permissions.</p>

<h5>Example: Decorating an 1-argument Function</h5>
<pre class="example">
def clamp_range(func):  <span class="comment"># Take a 1-argument function as argument</span>
    <span class="comment">&quot;&quot;&quot;Decorator to clamp the value of the argument to [0,100]&quot;&quot;&quot;</span>
    def _wrapper(x):    <span class="comment"># Applicable to functions of 1-argument only</span>
        if x &lt; 0:
            x = 0
        elif x &gt; 100:
            x = 100
        return func(x)  <span class="comment"># Run the original 1-argument function with clamped argument</span>
    return _wrapper

def square(x): return x*x

<span class="comment"># Invoke clamp_range() with square()</span>
print(clamp_range(square)(5))    <span class="comment"># 25</span>
print(clamp_range(square)(111))  <span class="comment"># 10000 (argument clamped to 100)</span><br>print(clamp_range(square)(-5))   <span class="comment"># 0 (argument clamped to 0)</span>

<span class="comment"># Transforming the square() function by replacing it with a decorated version</span>
square = clamp_range(square)  <span class="comment"># Assign the decorated function back to the original</span>
print(square(50))    <span class="comment"># Output: 2500</span>
print(square(-1))    <span class="comment"># Output: 0</span>
print(square(101))   <span class="comment"># Output: 10000</span></pre>

<p>Notes:</p>

<ol>
<li>The decorator <code>clamp_range()</code> takes a 1-argument function as its argument, and returns an replacement 1-argument function <code>_wrapper(x)</code>, with its argument <code>x</code> clamped to <code>[0,100]</code>, before applying the original function.</li>

<li>In <code>'square=clamp_range(square)'</code>, we decorate the <code>square()</code> function and assign the decorated (replacement) function to the same function name (confusing?!). After the decoration, the <code>square()</code> takes on a new decorated life!</li>
</ol>

<h5>Example: Using the <code>@</code> symbol</h5>

<p>Using <code>'square=clamp_range(square)'</code> to decorate a function is messy?! Instead, Python uses the <code>@</code> symbol to denote the replacement. For example,</p>

<pre class="example">
def clamp_range(func):
    <span class="comment">&quot;&quot;&quot;Decorator to clamp the value of the argument to [0,100]&quot;&quot;&quot;</span>
    def _wrapper(x):
        if x &lt; 0:
            x = 0
        elif x &gt; 100:
            x = 100
        return func(x)  <span class="comment"># Run the original 1-arg function with clamped argument</span>
    return _wrapper

<span class="comment"># Use the decorator @ symbol
# Same as cube = clamp_range(cube)</span>
@clamp_range
def cube(x): return x**3

print(cube(50))    <span class="comment"># Output: 12500</span>
print(cube(-1))    <span class="comment"># Output: 0</span>
print(cube(101))   <span class="comment"># Output: 1000000</span></pre>

<p>For Java programmers, do not confuse the Python decorator <code>@</code> with Java's annotation like <code>@Override</code>.</p>

<h5>Example: Decorator with an Arbitrary Number of Function Arguments</h5>

<p>The above example only work for one-argument function. You can use <code>*args</code> and/or <code>**kwargs</code> to handle variable number of arguments.  For example, the following decorator log all the arguments before the actual processing.</p>

<pre class="example">
def logger(func):
    <span class="comment">&quot;&quot;&quot;log all the function arguments&quot;&quot;&quot;</span>
    def _wrapper(*args, **kwargs):
        print('The arguments are: {}, {}'.format(args, kwargs))
        return func(*args, **kwargs)  <span class="comment"># Run the original function</span>
    return _wrapper

@logger
def myfun(a, b, c=3, d=4):
    pass   <span class="comment"># Python syntax needs a dummy statement here</span>

myfun(1, 2, c=33, d=44)  <span class="comment"># Output: The arguments are: (1, 2), {'c': 33, 'd': 44}</span>
myfun(1, 2, c=33)        <span class="comment"># Output: The arguments are: (1, 2), {'c': 33}</span></pre>

<p>We can also modify our earlier <code>clamp_range()</code> to handle an arbitrary number of arguments:</p>

<pre class="example">
def clamp_range(func):
    <span class="comment">&quot;&quot;&quot;Decorator to clamp the value of ALL arguments to [0,100]&quot;&quot;&quot;</span>
    def _wrapper(*args):
        newargs = []
        for item in args:
            if item &lt; 0:
                newargs.append(0)
            elif item &gt; 100:
                newargs.append(100)
            else:
                newargs.append(item)
        return func(*newargs)  <span class="comment"># Run the original function with clamped arguments</span>
    return _wrapper

@clamp_range
def my_add(x, y, z): return x + y + z

print(my_add(1, 2, 3))     <span class="comment"># Output: 6</span>
print(my_add(-1, 5, 109))  <span class="comment"># Output: 105</span></pre>

<h5>The <code>@wraps</code> Decorator</h5>

<p>Decorator can be hard to debug. This is because it wraps around and replaces the original function and hides variables like <code>__name__</code> and <code>__doc__</code>.  This can be solved by using the <code>@wraps</code> of <code>functools</code>, which modifies the signature of the replacement functions so they look more like the decorated function. For example,</p>

<pre class="example">
from functools import wraps
  
def without_wraps(func):
    def _wrapper(*args, **kwargs):
        <span class="comment">&quot;&quot;&quot;_wrapper without_wraps doc-string&quot;&quot;&quot;</span>
        return func(*args, **kwargs)
    return _wrapper
 
def with_wraps(func):
    <span class="new">@wraps(func)</span>
    def _wrapper(*args, **kwargs):
        <span class="comment">&quot;&quot;&quot;_wrapper with_wraps doc-string&quot;&quot;&quot;</span>
        return func(*args, **kwargs)
    return _wrapper
 
@without_wraps
def fun_without_wraps():
    <span class="comment">&quot;&quot;&quot;fun_without_wraps doc-string&quot;&quot;&quot;</span>
    pass
 
@with_wraps
def fun_with_wraps():
    <span class="comment">&quot;&quot;&quot;fun_with_wraps doc-string&quot;&quot;&quot;</span>
    pass

<span class="comment"># Show the _wrapper</span>
print(fun_without_wraps.__name__)  <span class="comment"># Output: _wrapper</span>
print(fun_without_wraps.__doc__)   <span class="comment"># Output: _wrapper without_wraps doc-string</span>
<span class="comment"># Show the function</span>
print(fun_with_wraps.__name__)     <span class="comment"># Output: fun_with_wraps</span>
print(fun_with_wraps.__doc__)      <span class="comment"># Output: fun_with_wraps doc-string</span></pre>

<h5>Example: Passing Arguments into Decorators</h5>

<p>Let's modify the earlier <code>clamp_range</code> decorator to take two arguments - <code>min</code> and <code>max</code> of the range.</p>

<pre class="example">
from functools import wraps

def clamp_range(min, max):    <span class="comment"># Take the desired arguments instead of func</span>
    <span class="comment">&quot;&quot;&quot;Decorator to clamp the value of ALL arguments to [min,max]&quot;&quot;&quot;</span>
    def _decorator(func):     <span class="comment"># Take func as argument</span>
        @wraps(func)          <span class="comment"># For proper __name__, __doc__</span>
        def _wrapper(*args):  <span class="comment"># Decorate the original function here</span>
            newargs = []
            for item in args:
                if item &lt; min:
                    newargs.append(min)
                elif item &gt; max:
                    newargs.append(max)
                else:
                    newargs.append(item)
            return func(*newargs)  <span class="comment"># Run the original function with clamped arguments</span>
        return _wrapper
    return _decorator

@clamp_range(1, 10)
def my_add(x, y, z):
    <span class="comment">&quot;&quot;&quot;Clamped Add&quot;&quot;&quot;</span>
    return x + y + z
<span class="comment"># Same as</span>
<span class="comment"># my_add = clamp_range(min, max)(my_add)</span>
<span class="comment"># 'clamp_range(min, max)' returns '_decorator(func)'; apply 'my_add' as 'func'</span>

print(my_add(1, 2, 3))     <span class="comment"># Output: 6</span>
print(my_add(-1, 5, 109))  <span class="comment"># Output: 16 (1+5+10)</span>
print(my_add.__name__)     <span class="comment"># Output: add</span>
print(my_add.__doc__)      <span class="comment"># Output: Clamped Add</span></pre>

<p>The decorator <code>clamp_range</code> takes the desired arguments and returns a wrapper function which takes a function argument (for the function to be decorated).</p>
<p>Confused?! Python has many fancy features that is not available in traditional languages like C/C++/Java!</p>

<h4>Namespace</h4>

<h5>Names, Namespaces and Scope</h5>

<p>In Python, a <em>name</em> is roughly analogous to a variable in other languages but with some extras. Because of the dynamic nature of Python, a name is applicable to almost everything, including variable, function, class/instance, module/package.</p>

<p>Names defined inside a function are local. Names defined outside all functions are global for that module, and are accessible by all functions inside the module  (i.e., module-global scope). There is no all-module-global scope in Python.</p>

<p>A <em>namespace</em> is a collection of <em>names</em> (i.e., a space of names).</p>

<p>A <em>scope</em> refers to the portion of a program from where a names can be accessed <em>without a qualifying prefix</em>. For example, a local variable defined inside a function has local scope (i.e., it is available within the function, and NOT available outside the function).</p>

<h5>Each Module has a Global Namespace</h5>

<p>A module is a file containing attributes (such as variables, functions and classes). Each module has its own global namespace. Hence, you cannot define two functions or classes of the same name within a module. But you can define functions of the same name in  different modules, as the namespaces are isolated.</p>

<p>When you launch the interactive shell, Python creates a module called <code>__main__</code>, with its associated global namespace. All subsequent names are added into <code>__main__</code>'s namespace.</p>

<p>When you import a module via <code>'import &lt;module_name&gt;'</code> under the interactive shell, only the <code>&lt;module_name&gt;</code> is added into <code>__main__</code>'s namespace. You need to access the names (attributes) inside <code>&lt;module_name&gt;</code> via <code>&lt;module_name&gt;.&lt;attr_name&gt;</code>. In other words, the imported module retains its own namespace and must be prefixed with <code>&lt;module_name&gt;.</code> inside <code>__main__</code>. (Recall that the scope of a name is the portion of codes that can access it without prefix.)</p>

<p>However, if you import an attribute via <code>'from &lt;module_name&gt; import &lt;attr_name&gt;'</code> under the interactive shell, the <code>&lt;attr_name&gt;</code> is added into <code>__main__</code>'s namespace, and you can access the <code>&lt;attr_name&gt;</code> directly without prefixing with the <code>&lt;module_name&gt;</code>.</p>

<p>On the other hand, when you import a module inside another module (instead of interactive shell), the imported <code>&lt;module_name&gt;</code> is added into the target module's namespace (instead of <code>__main__</code> for the interactive shell).</p>

<p>The built-in functions are kept in a module called <code>__built-in__</code>, which is imported into <code>__main__</code> automatically.</p>

<h5>The <code>globals()</code>, <code>locals()</code> and <code>dir()</code> Built-in Functions</h5>

<p>You can list the names of the current scope via these built-in functions:</p>

<ul>
<li><code>globals()</code>: return a dictionary (name-value pairs) containing the current scope's global variables.</li>
<li><code>locals()</code>: return a dictionary (name-value pairs) containing the current scope's local variables. If <code>locals()</code> is issued in global scope, it returns the same outputs as <code>globals()</code>.</li>
<li><code>dir()</code>: return a list of local names in the current scope, which is equivalent to <code>locals().keys()</code>.</li>
<li><code>dir(obj)</code>: return a list of the local names for the given object.</li>
</ul>

<p>For example,</p>

<pre class="example">
$ <strong>python3</strong>
<span class="comment"># The current scope is the __main__ module's global scope.</span>

&gt;&gt;&gt; <strong>globals()</strong>  <span class="comment"># Global variable of the current scope</span>
{'__name__': '__main__',  <span class="comment"># module name</span>
 '__built-ins__': &lt;module 'built-ins' (built-in)&gt;,  <span class="comment"># Hook to built-in names</span>
 '__doc__': None,  <span class="comment"># Module's doc-string</span>
 '__package__': None,  <span class="comment"># package name</span>
 '__spec__': None,
 '__loader__': &lt;class '_frozen_importlib.built-inImporter'&gt;}

&gt;&gt;&gt; <strong>__name__</strong>  <span class="comment"># The module name of the current scope</span>
'__main__'
 
&gt;&gt;&gt; <strong>locals()</strong>
...same outputs as global() under the global-scope...

&gt;&gt;&gt; <strong>dir()</strong>  <span class="comment"># Names (local) only</span>
['__built-ins__', '__doc__', '__loader__', '__name__', '__package__', '__spec__']

<span class="comment"># Add a name (current global scope)</span>
&gt;&gt;&gt; <strong>x = 88</strong>
&gt;&gt;&gt; <strong>globals()</strong>
{'x': 88, ...}
&gt;&gt;&gt; <strong>dir()</strong>
['__built-ins__', '__doc__', '__loader__', '__name__', '__package__', '__spec__', 'x']

<span class="comment"># import</span>
&gt;&gt;&gt; <strong>import random</strong>
&gt;&gt;&gt; <strong>globals()</strong>
{'x': 88,
 'random': &lt;module 'random' from '/usr/lib/python3.4/random.py'&gt;,   <span class="comment"># Hook to the imported module</span>
 ......}
&gt;&gt;&gt; <strong>from math import pi</strong>
&gt;&gt;&gt; <strong>globals()</strong>
{'x': 88,
 'pi': 3.141592653589793,  <span class="comment"># Added directly into global namespace</span>
 'random': &lt;module 'random' from '/usr/lib/python3.4/random.py'&gt;, 
 ......}</pre>

<p>To show the difference between locals and globals, we need to define a function to create a local scope. For example,</p>

<pre class="example">
$ <strong>python3</strong>
&gt;&gt;&gt; <strong>x = 88</strong>  <span class="comment"># x is a global variable</span>

&gt;&gt;&gt; <strong>def myfun(arg):</strong>  <span class="comment"># arg is a local variable</span>
   <strong>y = 99</strong>            <span class="comment"># y is a local variable</span>
   <strong>print(x)</strong>          <span class="comment"># Can read global</span>
   <strong>print(globals())
   print(locals())</strong>
   <strong>print(dir())</strong>
   
&gt;&gt;&gt; <strong>myfun(11)</strong>
88
{'__built-ins__': &lt;module 'built-ins' (built-in)&gt;,  <span class="comment"># Name-value pairs of globals</span>
 'myfun': &lt;function myfun at 0x7f550d1b5268&gt;,
 '__name__': '__main__',
 '__package__': None,
 '__spec__': None,
 '__doc__': None,
 '__loader__': &lt;class '_frozen_importlib.built-inImporter'&gt;,
 'x': 88}             
{'y': 99, 'arg': 11}  <span class="comment"># Name-value pairs of locals</span>
['arg', 'y']          <span class="comment"># Names only of locals</span></pre>

<h5>More on Module's Global Namespace</h5>

<p>Let's create two modules: <code>mod1</code> and <code>mod2</code>, where <code>mod1</code> imports <code>mod2</code>, as follows:</p>

<pre class="example">
<span class="comment">&quot;&quot;&quot;mod1.py: Module 1&quot;&quot;&quot;</span>
import mod2

mod1_var = 'mod1 global variable'
print('Inside mod1, __name__ = ', __name__)

if __name__ == '__main__':
    print('Run module 1')</pre>
    
<pre class="example">
<span class="comment">&quot;&quot;&quot;mod2.py: Module 2&quot;&quot;&quot;</span>
mod2_var = 'mod2 global variable'
print('Inside mod2, __name__ = ', __name__)

if __name__ == '__main__':
    print('Run module 2')</pre>
    
<p>Let's import <code>mod1</code> (which in turn import <code>mod2</code>) under the interpreter shell, and check the namespaces:</p>
        
<pre class="example">
&gt;&gt;&gt; <strong>import mod1</strong>
Inside mod2, __name__ =  mod2   <span class="comment"># from imported mod2</span>
Inside mod1, __name__ =  mod1
&gt;&gt;&gt; <strong>dir()</strong>
['__built-ins__', '__doc__', '__loader__', '__name__', '__package__', '__spec__', 'mod1']  <span class="comment"># no mod2, which is referenced as mod1.mod2</span>
&gt;&gt;&gt; <strong>dir(mod1)</strong>
['__built-ins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__spec__', 'mod1_var', 'mod2']
&gt;&gt;&gt; <strong>dir(mod2)</strong>
NameError: name 'mod2' is not defined
&gt;&gt;&gt; <strong>dir(mod1.mod2)</strong>
['__built-ins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__spec__', 'mod2_var']</pre>

<p>Take note that the interpreter's current scope <code>__name__</code> is <code>__main__</code>. It's namespace contains <code>mod1</code> (imported).  The <code>mod1</code>'s namespace contains <code>mod2</code> (imported) and <code>mod1_var</code>. To refer to <code>mod2</code>, you need to go thru <code>mod1</code>, in the form of <code>mod1.mod2</code>. The <code>mod1.mod2</code>'s namespace contains <code>mod2_var</code>.</p>

<p>Now, let run <code>mod1</code> instead, under IDLE3, and check the namespaces:</p>
    
<pre class="example">
Inside mod2, __name__ =  mod2
Inside mod1, __name__ =  __main__
Run module 1
&gt;&gt;&gt; <strong>dir()</strong>
['__built-ins__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__spec__', 'mod1_var', 'mod2']
&gt;&gt;&gt; <strong>dir(mod2)</strong>
['__built-ins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__spec__', 'mod2_var']</pre>

<p>Take note that the current scope's <code>name</code> is again __main__, which is the executing module <code>mod1</code>. Its namespace contains <code>mod2</code> (imported) and <code>mod1_var</code>.</p>

<h5>Name Resolution</h5>

<p>When you ask for a name (variable), says <code>x</code>, Python searches the LEGB namespaces, in this order, of the current scope:</p>
<ol>
<li>L: Local namespace which is specific to the current function</li>
<li>E: for nested function, the Enclosing function's namespace</li>
<li>G: Global namespace for the current module</li>
<li>B: Built-in namespace for all the modules</li>
</ol>
<p>If <code>x</code> cannot be found, Python raises a <code>NameError</code>.</p>

<h5>Modifying Global Variables inside a Function</h5>

<p>Recall that names created inside a function are local, while names created outside all functions are global for that module. You can &quot;read&quot; the global variables inside all functions defined in that module. For example,</p>

<pre class="example">
x = 'global'     <span class="comment"># Global file-scope</span>
 
def myfun():
    y = 'local'  <span class="comment"># Function local-scope</span>
    print(y)
    print(x)     <span class="comment"># Can read global variable</span>
 
myfun()
print(x)
#print(y)        <span class="comment"># Local out-of-scope</span></pre>

<p>If you assign a value to a name inside a function, a local name is created, which hides the global name. For example,</p>

<pre class="example">
x = 'global'      <span class="comment"># Global file-scope</span>
 
def myfun():
    x = 'change'  <span class="comment"># Local x created which hides the global x</span>
    print(x)      <span class="comment"># Show local. Global is hidden</span>
 
myfun()
print(x)          <span class="comment"># Global does not change</span></pre>

<p>To modify a global variable inside a function, you need to use a <code>global</code> statement to declare the name global; otherwise, the modification (assignment) will create a local variable (see above). For example,</p>

<pre class="example">
x = 'global'      <span class="comment"># Global file-scope</span>
 
def myfun():
    global x      <span class="comment"># Declare x global, so as to modify global variable</span>
    x = 'change'  <span class="comment"># Else, a local x created which hides the global x</span>
    print(x)
 
myfun()
print(x)          <span class="comment"># Global changes</span></pre>


<p>For nested functions, you need to use the <code>nonlocal</code> statement in the inner function to modify names in the enclosing outer function. For example,</p>

<pre class="example">
def outer():        <span class="comment"># Outer function</span>
    count = 0
    
    def inner():    <span class="comment"># Inner function</span>
        nonlocal count  <span class="comment"># Needed to modify count</span>
        count += 1      <span class="comment"># Else, a local created, which hides the outer</span>

    print(count)    <span class="comment"># Output: 0</span>
    inner()         <span class="comment"># Call inner function</span>
    print(count)    <span class="comment"># Output: 1</span>

<span class="comment"># Call outer function</span> 
outer()</pre>


<p>To modify a global variable inside a nested function, declare it via <code>global</code> statement too. For example,</p>

<pre class="example">
count = 100

def outer():
    count = 0         <span class="comment"># Local created, hide global</span>
    
    def inner():
        global count  <span class="comment"># Needed to modify global</span>
        count += 1    <span class="comment"># Else, a local created, which hides the outer</span>

    print(count)      <span class="comment"># Output: 0</span>
    inner()           <span class="comment"># Call inner function</span>
    print(count)      <span class="comment"># Output: 0</span>

<span class="comment"># Call outer function</span> 
outer()
print(count)          <span class="comment"># Output: 101</span></pre>




<p>In summary,</p>

<ol>
<li>The order for name resolution (for names inside a function) is: local, enclosing function for nested <code>def</code>, global, and then the built-in namespaces (i.e., LEGB).</li>
<li>However, if you assign a new value to a name, a local name is created, which hides the global name.</li>
<li>You need to declare via <code>global</code> statement to modify globals inside the function. Similarly, you need to declare via <code>nonlocal</code> statement to modify enclosing local names inside the nested function.</li>
</ol>

<h5>More on <code>global</code> Statement</h5>

<p>The <code>global</code> statement is necessary if you are changing the reference to an object (e.g. with an assignment). It is not needed if you are just mutating or modifying the object. For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>a = []</strong>
&gt;&gt;&gt; <strong>def myfun():</strong>
        <strong>a.append('hello')</strong>   <span class="comment"># Don't need global. No change of reference for a.</span>
 
&gt;&gt;&gt; <strong>myfun()</strong>
&gt;&gt;&gt; <strong>a</strong>
['hello']</pre>

<p>In the above example, we modify the contents of the array. The <code>global</code> statement is not needed.</p>

<pre class="example">
&gt;&gt;&gt; <strong>a = 1</strong>
&gt;&gt;&gt; <strong>def myfun():</strong>
       <strong>global a</strong>
       <strong>a = 8</strong>

&gt;&gt;&gt; <strong>myfun()</strong>
&gt;&gt;&gt; <strong>a</strong>
8</pre>

<p>In the above example, we are modifying the reference to the variable. <code>global</code> is needed, otherwise, a local variable will be created inside the function.</p>

<h5>Built-in Namespace</h5>

<p>The built-in namespace is defined in the <code>__built-ins__</code> module, which contains built-in functions such as <code>len()</code>, <code>min()</code>, <code>max()</code>, <code>int()</code>, <code>float()</code>, <code>str()</code>, <code>list()</code>, <code>tuple()</code> and etc. You can use <code>help(__built-ins__)</code> or <code>dir(__built-ins__)</code> to list the attributes of the <code>__built-ins__</code> module.</p>

<p>[TODO]</p>

<h5><code>del</code> Statement</h5>

<p>You can use <code>del</code> statement to remove names from the namespace, for example,</p>
<pre class="example">
&gt;&gt;&gt; <strong>del x, pi</strong>     <span class="comment"># delete variables or imported attributes</span>
&gt;&gt;&gt; <strong>globals()</strong>
...... x and pi removed ......
&gt;&gt;&gt; <strong>del random</strong>    <span class="comment"># remove imported module</span>
&gt;&gt;&gt; <strong>globals()</strong>
...... random module removed ......</pre>

<p>If you override a built-in function, you could also use <code>del</code> to remove it from the namespace to recover the function from the built-in space.</p>

<pre class="example">
&gt;&gt;&gt; <strong>len = 8</strong>       <span class="comment"># Override built-in function len() (for length)</span>
&gt;&gt;&gt; <strong>len('abc')</strong>    <span class="comment"># built-in function len() no longer available</span>
TypeError: 'int' object is not callable
&gt;&gt;&gt; <strong>del len</strong>       <span class="comment"># Delete len from global and local namespace</span>
&gt;&gt;&gt; <strong>len('abc')</strong>    <span class="comment"># built-in function len() is available</span>
3</pre>







<h3 id="ExceptionHandling">Assertion and Exception Handling</h3>

<h4><code>assert</code> Statement</h4>

<p>You can use <code>assert</code> statement to test a certain assertion (or constraint). For example, if <code>x</code> is supposed to be <code>0</code> in a certain part of the program, you can use the <code>assert</code> statement to test this constraint. An <code>AssertionError</code> will be raised if <code>x</code> is not zero.</p>

<p>For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>x = 0</strong>
&gt;&gt;&gt; <strong>assert x == 0, 'x is not zero?!'</strong>  <span class="comment"># Assertion true, no output</span>
 
&gt;&gt;&gt; <strong>x = 1</strong>
&gt;&gt;&gt; <strong>assert x == 0, 'x is not zero?!'</strong>  <span class="comment"># Assertion false, raise AssertionError with the message</span>
......
AssertionError: x is not zero?!</pre>

<p>The assertions are always executed in Python.</p>

<h5>Syntax</h5>
<p>The syntax for <code>assert</code> is:</p>

<pre class="syntax">
<strong>assert</strong> <em>test</em><strong>,</strong> <em>error-message</em></pre>

<p>If the <code><em>test</em></code> if <code>True</code>, nothing happens; otherwise, an <code>AssertionError</code> will be raised with the <code><em>error-message</em></code>.</p>

<h4>Exceptions</h4>

<p>In Python, errors detected during execution are called exceptions. For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>1/0</strong>        <span class="comment"># Divide by 0</span>
<span class="error">ZeroDivisionError: division by zero</span>
&gt;&gt;&gt; <strong>zzz</strong>        <span class="comment"># Variable not defined</span>
<span class="error">NameError: name 'zzz' is not defined</span>
&gt;&gt;&gt; <strong>'1' + 1</strong>    <span class="comment"># Cannot concatenate string and int</span>
<span class="error">TypeError: Can't convert 'int' object to str implicitly</span>

&gt;&gt;&gt; <strong>lst = [0, 1, 2]</strong>
&gt;&gt;&gt; <strong>lst[3]</strong>        <span class="comment"># Index out of range</span>
<span class="error">IndexError: list index out of range</span>
&gt;&gt;&gt; <strong>lst.index(8)</strong>  <span class="comment"># Item is not in the list</span>
<span class="error">ValueError: 8 is not in list</span>

&gt;&gt;&gt; <strong>int('abc')</strong>    <span class="comment"># Cannot parse this string into int</span>
<span class="error">ValueError: invalid literal for int() with base 10: 'abc'</span>

&gt;&gt;&gt; <strong>tup = (1, 2, 3)</strong>
&gt;&gt;&gt; <strong>tup[0] = 11</strong>    <span class="comment"># Tuple is immutable</span>
<span class="error">TypeError: 'tuple' object does not support item assignment</span></pre>

<p>Whenever an exception is raised, the program terminates <em>abruptly</em>.</p>

<h4><code>try-except-else-finally</code></h4>

<p>You can use <code>try-except-else-finally</code> exception handling facility to prevent the program from terminating <em>abruptly</em>.</p>

<h5>Example 1: Handling Index out-of-range for List Access</h5>

<pre class="example">
def get_item(seq, index):
    <span class="comment">&quot;&quot;&quot;Return the indexed item of the given sequences.&quot;&quot;&quot;</span>
    try:
        result = seq[index]   <span class="comment"># may raise IndexError</span>
        print('try succeed')      
    except IndexError:
        result = 0
        print('Index out of range')
    except:        <span class="comment"># run if other exception is raised</span>
        result = 0
        print('other exception')
    else:          <span class="comment"># run if no exception raised</span>
        print('no exception raised')
    finally:       <span class="comment"># always run regardless of whether exception is raised</span>
        print('run finally')

    <span class="comment"># Continue into the next statement after try-except-finally instead of abruptly terminated.</span>
    print('continue after try-except')
    return result
 
print(get_item([0, 1, 2, 3], 1))  <span class="comment"># Index within the range</span>
print('-----------')
print(get_item([0, 1, 2, 3], 4))  <span class="comment"># Index out of range</span></pre>

<p>The expected outputs are:</p>

<pre class="output">
try succeed
no exception raised
run finally
continue after try-except
1
-----------
Index out of range
run finally
continue after try-except
0</pre>

<p>The exception handling process for <code>try-except-else-finally</code> is:</p>

<ol>
<li>Python runs the statements in the <code>try</code>-block.</li>

<li>If no exception is raised in all the statements of the <code>try</code>-block, all the <code>except</code>-blocks are skipped, and the program continues to the next statement after the <code>try-except</code> statement.</li>

<li>However, if an exception is raised in one of the statements in the <code>try</code>-block, the rest of <code>try</code>-block will be skipped. The exception is matched with the <code>except</code>-blocks. The first matched <code>except</code>-block will be executed. The program then continues to the next statement after the <code>try-except</code> statement, instead of terminates abruptly. Nevertheless, if none of the <code>except</code>-blocks is matched, the program terminates abruptly.</li>

<li>The <code>else</code>-block will be executable if no exception is raised.</li>

<li>The <code>finally</code>-block is always executed for doing house-keeping tasks such as closing the file and releasing the resources, regardless of whether an exception has been raised.</li>
</ol>

<h5>Syntax</h5>

<p>The syntax for <code>try-except-else-finally</code> is:</p>
<pre class="syntax">
try:
    <em>statements</em>
except <em>exception_1</em>:                <span class="comment"># Catch one exception</span>
    <em>statements</em>
except (<em>exception_2</em>, <em>exception_3</em>): <span class="comment"># Catch multiple exceptions</span>
    <em>statements</em>
except <em>exception_4</em> as <em>var_name</em>:    <span class="comment"># Retrieve the exception instance</span>
    <em>statements</em>
except:         <span class="comment"># For (other) exceptions</span>
    <em>statements</em>
else:
    <em>statements</em>   <span class="comment"># Run if no exception raised</span>
finally:
    <em>statements</em>   <span class="comment"># Always run regardless of whether exception raised</span></pre>

<p>The <code>try</code>-block (mandatory) must follow by at least one <code>except</code> or <code>finally</code> block. The rests are optional.</p>

<p>CAUTION: Python 2 uses older syntax of &quot;<code>except <em>exception-4</em>, <em>var_name</em>:</code>&quot;, which should be re-written as &quot;<code>except <em>exception-4</em> as <em>var_name</em>:</code>&quot; for portability.</p>

<h5>Example 2: Input Validation</h5>

<pre class="example">
&gt;&gt;&gt; <strong>while True:</strong>
       <strong>try:</strong>
           <strong>x = int(input('Enter an integer: '))</strong>  <span class="comment"># Raise ValueError if input cannot be parsed into int</span>
           <strong>break</strong>                                 <span class="comment"># Break out while-loop</span>
       <strong>except ValueError:</strong>
           <strong>print('Invalid input! Try again...')</strong>    <span class="comment"># Repeat while-loop</span>

Enter an integer: abc
Wrong input! Try again...
Enter an integer: 11.22
Wrong input! Try again...
Enter an integer: 123</pre>

<h4><code>raise</code> Statement</h4>

<p>You can manually raise an exception via the <code>raise</code> statement, for example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>raise IndexError('out-of-range')</strong>
IndexError: out-of-range</pre>

<p>The syntax is:</p>
<pre class="syntax">
<strong>raise</strong> <em>exception_class_name</em>     <span class="comment"># E.g. raise IndexError</span>
<strong>raise</strong> <em>exception_instance_name</em>  <span class="comment"># E.g. raise IndexError('out of range')</span>
<strong>raise</strong>                          <span class="comment"># Re-raise the most recent exception for propagation</span></pre>

<p>A <code>raise</code> without argument in the <code>except</code> block re-raise the exception to the outer block, e.g.,</p>

<pre class="example">
try:
    ......
except:
    <strong>raise</strong>   <span class="comment"># re-raise the exception (for the outer try)</span></pre>


<h4>Built-in Exceptions</h4>

<ul>
<li><code>BaseException</code>, <code>Exception</code>, <code>StandardError</code>: base classes</li>
<li><code>ArithmeticError</code>: for <code>OverflowError</code>, <code>ZeroDivisionError</code>, <code>FloatingPointError</code>.</li>
<li><code>BufferError</code>:</li>
<li><code>LookupError</code>: for <code>IndexError</code>, <code>KeyError</code>.</li>
<li><code>Environment</code>: for <code>IOError</code>, <code>OSError</code>.</li>

<li>[TODO] more</li>
</ul>

<h4>User-defined Exception</h4>

<p>You can defined your own exception by sub-classing the <code>Exception</code> class.</p>

<h5>Example</h5>

<pre class="example">
class MyCustomError(Exception):  <span class="comment"># Sub-classing Exception base class (to be explained in OOP)</span>
    <span class="comment">&quot;&quot;&quot;My custom exception&quot;&quot;&quot;</span>

    def __init__(self, value):
        <span class="comment">&quot;&quot;&quot;Constructor&quot;&quot;&quot;</span>
        self.value = value

    def __str__(self):
        return repr(self.value)

<span class="comment"># Test the exception defined</span>
try:
    <span class="new">raise</span> MyCustomError('an error occurs')
    print('after exception')
except MyCustomError as e:
    print('MyCustomError: ', e.value)
else:
    print('running the else block')
finally:
    print('always run the finally block')</pre>

<h4><code>with-as</code> Statement and Context Managers</h4>

<p>The syntax of the <code>with-as</code> statement is as follows:</p>

<pre class="syntax">
<strong>with</strong> ... <strong>as</strong> ...<strong>:</strong>
    statements
   
<span class="comment"># More than one items</span>
<strong>with</strong> ... <strong>as</strong> ...<strong>,</strong> ... <strong>as</strong> ...<strong>,</strong> ...<strong>:</strong>
    statements</pre>

<p>Pythonâs <code>with</code> statement supports the concept of a runtime context defined by a context manager. In programming, context can be seen as a bucket to pass information around, i.e., the state at a point in time. Context Managers are a way of allocating and releasing resources in the context.</p>

<h5>Example 1</h5>

<pre class="example">
with open('test.log', 'r') as infile:  <span class="comment"># automatically close the file at the end of with</span>
    for line in infile:
        print(line)</pre>

<p>This is equivalent to:</p>

<pre class="example">
infile = open('test.log', 'r')
try:
    for line in infile:
        print(line)
finally:
    infile.close()</pre>

<p>The with-statement's context manager acquires, uses, and releases the context (of the file) cleanly, and eliminate a bit of boilerplate.</p>

<p>However, the <code>with-as</code> statement is  applicable to certain objects only, such as file; while <code>try-finally</code> can be applied to all.</p>

<h5>Example 2:</h5>

<pre class="example">
<span class="comment"># Copy a file</span>
with open('in.txt', 'r') as infile, open('out.txt', 'w') as outfile:
    for line in infile:
        outfile.write(line)</pre>

   

<h3 id="StandardLib">Frequently-Used Python Standard Library Modules</h3>

<p>Python provides a set of standard library. (Many non-standard libraries are provided by third party!)</p>

<p>To use a module, use <code>'import &lt;module_name&gt;'</code> or <code>'from &lt;module_name&gt; import &lt;attribute_name&gt;'</code> to import the entire module or a selected attribute.  You can use <code>'dir(&lt;module_name&gt;)'</code> to list all the attributes of the module, <code>'help(&lt;module_name&gt;)'</code> or <code>'help(&lt;attribute_name&gt;)'</code> to read the documentation page.  For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>import math</strong>   <span class="comment"># import an external module</span>
&gt;&gt;&gt; <strong>dir(math)</strong>     <span class="comment"># List all attributes</span>
['e', 'pi', 'sin', 'cos', 'tan', 'tan2', ....]
&gt;&gt;&gt; <strong>help(math)</strong>    <span class="comment"># Show the documentation page for the module</span>
......
&gt;&gt;&gt; <strong>help(math.atan2)</strong>  <span class="comment"># Show the documentation page for a specific attribute</span>
......
&gt;&gt;&gt; <strong>math.atan2(3, 0)</strong>
1.5707963267948966
&gt;&gt;&gt; <strong>math.sin(math.pi / 2)</strong>
1.0
&gt;&gt;&gt; <strong>math.cos(math.pi / 2)</strong>
6.123233995736766e-17

&gt;&gt;&gt; <strong>from math import pi</strong>  <span class="comment"># import an attribute from a module</span>
&gt;&gt;&gt; <strong>pi</strong>
3.141592653589793</pre>

<h4><code>math</code> and <code>cmath</code> Modules</h4>

<p>The <code>math</code> module provides access to the mathematical functions defined by the C language standard. The commonly-used attributes are:</p>

<ul>
<li>Constants: <code>pi</code>, <code>e</code>.</li>
<li>Power and exponent: <code>pow(<em>x</em>,<em>y</em>)</code>, <code>sqrt(<em>x</em>)</code>, <code>exp(<em>x</em>)</code>, <code>log(<em>x</em>)</code>, <code>log2(<em>x</em>)</code>, <code>log10(<em>x</em>)</code></li>
<li>Converting <code>float</code> to <code>int</code>: <code>ceil(<em>x</em>)</code>, <code>floor(<em>x</em>)</code>, <code>trunc(<em>x</em>)</code>.</li>
<li><code>float</code> operations: <code>fabs(<em>x</em>)</code>, <code>fmod(<em>x</em>)</code></li>
<li><code>hypot(<em>x</em>,<em>y</em>)</code> (<code>=sqrt(<em>x</em>*<em>x</em> + <em>y</em>*<em>y</em>)</code>)</li>
<li>Conversion between degrees and radians: <code>degrees(<em>x</em>)</code>, <code>radians(<em>x</em>)</code>.</li>
<li>Trigonometric functions: <code>sin(<em>x</em>)</code>, <code>cos(<em>x</em>)</code>, <code>tan(<em>x</em>)</code>, <code>acos(<em>x</em>)</code>, <code>asin(<em>x</em>)</code>, <code>atan(<em>x</em>)</code>, <code>atan2(<em>x</em>,<em>y</em>)</code>.</li>
<li>Hyperbolic functions: <code>sinh(<em>x</em>)</code>, <code>cosh(<em>x</em>)</code>, <code>tanh(<em>x</em>)</code>, <code>asinh(<em>x</em>)</code>, <code>acosh(<em>x</em>)</code>, <code>atanh(<em>x</em>)</code>.</li>
</ul>

<p>For examples,</p>

<pre class="example">
&gt;&gt;&gt; <strong>import math</strong>
&gt;&gt;&gt; <strong>dir(math)</strong>
......
&gt;&gt;&gt; <strong>help(math)</strong>
......
&gt;&gt;&gt; <strong>help(math.trunc)</strong>
......

<span class="comment"># Test floor(), ceil() and trunc()</span>
&gt;&gt;&gt; <strong>x = 1.5</strong>
&gt;&gt;&gt; <strong>type(x)</strong>
&lt;class 'float'&gt;
&gt;&gt;&gt; <strong>math.floor(x)</strong>
1
&gt;&gt;&gt; <strong>type(math.floor(x))</strong>
&lt;class 'int'&gt;
&gt;&gt;&gt; <strong>math.ceil(x)</strong>
2
&gt;&gt;&gt; <strong>math.trunc(x)</strong>
1
&gt;&gt;&gt; <strong>math.floor(-1.5)</strong>
-2
&gt;&gt;&gt; <strong>math.ceil(-1.5)</strong>
-1
&gt;&gt;&gt; <strong>math.trunc(-1.5)</strong>
-1

<span class="comment"># [TODO] other functions</span></pre>

<p>In addition, the <code>cmath</code> module provides mathematical functions for <em>complex numbers</em>. See Python documentation for details.</p>


<h4><code>statistics</code> Module</h4>

<p>The <code>statistics</code> module computes the <em>basic</em> statistical properties such as mean, median, variance, and etc. (Many third-party vendors provide <em>advanced</em> statistics packages!) For examples,</p>

<pre class="example">
&gt;&gt;&gt; <strong>import statistics</strong>
&gt;&gt;&gt; <strong>dir(statistics)</strong>
['mean', 'median', 'median_grouped', 'median_high', 'median_low', 'mode', 'pstdev', 'pvariance', 'stdev', 'variance', ...]
&gt;&gt;&gt; <strong>help(statistics)</strong>
......
&gt;&gt;&gt; <strong>help(statistics.pstdev)</strong>
......

&gt;&gt;&gt; <strong>data = [5, 7, 8, 3, 5, 6, 1, 3]</strong>
&gt;&gt;&gt; <strong>statistics.mean(data)</strong>
4.75
&gt;&gt;&gt; <strong>statistics.median(data)</strong>
5.0
&gt;&gt;&gt; <strong>statistics.stdev(data)</strong>
2.3145502494313788
&gt;&gt;&gt; <strong>statistics.variance(data)</strong>
5.357142857142857
&gt;&gt;&gt; <strong>statistics.mode(data)</strong>
statistics.StatisticsError: no unique mode; found 2 equally common values</pre>

<h4><code>random</code> Module</h4>

<p>The module <code>random</code> can be used to generate various pseudo-random numbers.</p>

<p>For examples,</p>

<pre class="example">
&gt;&gt;&gt; <strong>import random</strong>
&gt;&gt;&gt; <strong>dir(random)</strong>
......
&gt;&gt;&gt; <strong>help(random)</strong>
......
&gt;&gt;&gt; <strong>help(random.random)</strong>
......

&gt;&gt;&gt; <strong>random.random()</strong>       <span class="comment"># float in [0,1)</span>
0.7259532743815786
&gt;&gt;&gt; <strong>random.random()</strong>
0.9282534690123855
&gt;&gt;&gt; <strong>random.randint(1, 6)</strong>  <span class="comment"># int in [1,6]</span>
3
&gt;&gt;&gt; <strong>random.randrange(6)</strong>   <span class="comment"># From range(6), i.e., 0 to 5</span>
0
&gt;&gt;&gt; <strong>random.choice(['apple', 'orange', 'banana'])</strong>  <span class="comment"># Pick from the given list</span>
'apple'</pre>

<h4><code>sys</code> Module</h4>

<p>The module <code>sys</code> (for system) provides system-specific parameters and functions. The commonly-used are:</p>

<ul>
<li><strong><code>sys.exit([<em>exit_status</em>=0])</code></strong>: exit the program by raising the <code>SystemExit</code> exception. If used inside a <code>try</code>, the <code>finally</code> clause is honored.
The optional argument <code><em>exit_status</em></code> can be an integer (default to 0 for normal termination, or non-zero for abnormal termination); or any object (e.g., <code>sys.exit('an error message')</code>).
</li>

<li><strong><code>sys.path</code></strong>: A <code>list</code> of module search-paths. Initialized from the environment variable <code>PYTHONPATH</code>, plus installation-dependent default entries. See earlier example.</li>

<li><strong><code>sys.stdin</code>, <code>sys.stdout</code>, <code>sys.stderr</code></strong>: standard input, output and error stream.</li>

<li><strong><code>sys.argv</code></strong>: A <code>list</code> of command-line arguments passed into the Python script. <code>argv[0]</code> is the script name. See example below.</li>
</ul>

<h5>Example: Command-Line Arguments</h5>

<p>The command-line arguments are kept in <code>sys.argv</code> as a <code>list</code>. For example, create the following script called &quot;<code>test_argv.py</code>&quot;:</p>

<pre class="example">
import sys
print(sys.argv)       <span class="comment"># Print command-line argument list</span>
print(len(sys.argv))  <span class="comment"># Print length of list</span></pre>

<p>Run the script:</p>

<pre class="command">
$ <strong>python3 test_argv.py</strong>
['test_argv.py']   <span class="comment"># sys.argv[0] is the script name</span>
1
 
$ <strong>python3 test_argv.py hello 1 2 3 apple orange</strong>
['test_argv.py', 'hello', '1', '2', '3', 'apple', 'orange']   <span class="comment"># list of strings</span>
7</pre>




<h4 id="logging"><code>logging</code> Module</h4>

<h5>The <code>logging</code> module</h5>

<p>The <code>logging</code> module supports a flexible event logging system for your applications and libraries.</p>

<p>The <code>logging</code> supports five levels:</p>
<ol>
<li><code>logging.DEBUG</code>: Detailed information meant for debugging.</li>
<li><code>logging.INFO</code>: Confirmation that an event takes place as expected.</li>
<li><code>logging.WARNING</code>: Something unexpected happened, but the application is still working.</li>
<li><code>logging.ERROR</code>: The application does not work as expected.</li>
<li><code>logging.CRITICAL</code>: Serious error, the application may not be able to continue.</li>
</ol>

<p>The logging functions are:</p>
<ul>
<li><code>logging.basicConfig(**<em>kwargs</em>)</code>: Perform basic configuration of the logging system. The keyword arguments are: <code>filename</code>, <code>filemode</code> (default to append <code>'a'</code>), <code>level</code> (log this level and above), and etc.</li>

<li><code>logging.debug(<em>msg</em>, *<em>args</em>, **<em>kwargs</em>)</code>, <code>logging.info()</code>, <code>logging.warning()</code>, <code>logging.error()</code>, <code>logging.critical()</code>: Log the <code><em>msg</em></code> at the specific level.  The <code><em>args</em></code> are merged into <code><em>msg</em></code> using formatting specifier.</li>

<li><code>logging.log(<em>level</em>, <em>msg</em>, *<em>args</em>, **<em>kwargs</em>)</code>: General logging function, at the given log <code><em>level</em></code>.</li>
</ul>

<h5>Basic Logging via <code>logging.basicConfig()</code></h5>

<p>For example,</p>

<pre class="example">
import logging
logging.basicConfig(filename='myapp.log', level=logging.DEBUG)  <span class="comment"># This level and above</span>
logging.debug('A debug message')
logging.info('An info message {}, {}'.format('apple', 'orange'))   <span class="comment"># Formatted string</span>
logging.error('error {}, some error messages'.format(1234))</pre>

<p>The logging functions support <code>printf</code>-like format specifiers such as <code>%s</code>, <code>%d</code>, with values as function arguments (instead of via <code>%</code> operator in Python).</p>

<p>Run the script. A log file <code>myapp.log</code> would be created, with these records:</p>
<pre class="example">
DEBUG:root:A debug message
INFO:root:An info message apple, orange
ERROR:root:error 1234, some error messages</pre>

<p>By default, the log records include the log-level and logger-name (default of <code>root</code>) before the message.</p>


<h5>Getting the Log Level from a Configuration File</h5>

<p>Log levels, such as <code>logging.DEBUG</code> and <code>logging.INFO</code>, are stored as certain integers in the <code>logging</code> module. For example,</p>

<pre class="command">
&gt;&gt;&gt; <strong>import logging</strong>
&gt;&gt;&gt; <strong>logging.DEBUG</strong>
10
&gt;&gt;&gt; <strong>logging.INFO</strong>
20</pre>

<p>The log level is typically read from a configuration file, in the form of a descriptive string. The following example shows how to convert a string log-level (e.g., <code>'debug'</code>) to the numeric log-level (e.g., 10) used by <code>logging</code> module:</p>

<pre class="example">
import logging

str_level = 'info'   <span class="comment"># Case insensitive</span>

<span class="comment"># Convert to uppercase, and get the numeric value</span>
numeric_level = getattr(logging, str_level.upper(), None)
if not isinstance(numeric_level, int):
    raise ValueError('Invalid log level: {}'.format(str_level))

logging.basicConfig(level=numeric_level)  <span class="comment"># Default logging to console</span>

<span class="comment"># Test logging</span>
logging.debug('a debug message')  <span class="comment"># Not logged</span>
logging.info('an info message')   <span class="comment"># Output: INFO:root:an info message</span>
logging.error('an error message') <span class="comment"># Output: ERROR:root:an error message</span></pre>

<h5>Log Record Format</h5>
<p>To set the log message format, use the <code>format</code> keyword:</p>
<pre class="example">
import logging
logging.basicConfig(
        format='%(asctime)s|%(levelname)s|%(name)s|%(pathname)s:%(lineno)d|%(message)s',
        level=logging.DEBUG)</pre>

<p>where <code>asctime</code> for date/time, <code>levelname</code> for log level, <code>name</code> for logger name, <code>pathname</code> for full-path filename (<code>filename</code> for filename only), <code>lineno</code> (<code>int</code>) for the line number, and <code>message</code> for the log message.</p>

<h5>Advanced Logging: Logger, Handler, Filter and Formatter</h5>
<p>So far, we presented the basic logging facilities. The <code>logging</code> library is extensive and organized into these components:</p>

<ul>
<li>Loggers: expose the methods to application for logging.</li>
<li>Handlers: send the log records created by the loggers to the appropriate destination, such as file, console (<code>sys.stderr</code>), email via SMTP, or network via HTTP/FTP.</li>
<li>Filters: decide which log records to output.</li>
<li>Formatters: specify the layout format of log records.</li>
</ul>

<h5>Loggers</h5>

<p>To create a <code>Logger</code> instance, invoke the <code>logging.getLogger(<em>logger-name</em>)</code>, where the optional <code><em>logger-name</em></code> specifies the logger name (default of <code>root</code>).</p>

<p>The <code>Logger</code>'s methods falls into two categories: configuration and logging.</p>

<p>The commonly-used logging methods are: <code>debug()</code>, <code>info()</code>, <code>warning()</code>, <code>error()</code>, <code>critical()</code> and the general <code>log()</code>.</p>

<p>The commonly-used configuration methods are:</p>
<ul>
<li><code>setLevel()</code></li>
<li><code>addHandler()</code> and <code>removeHandler()</code></li>
<li><code>addFilter()</code> and <code>removeFilter()</code></li>
</ul>

<h5>Handlers</h5>
<p>The logging library provides handlers like <code>StreamHandler</code> (<code>sys.stderr</code>, <code>sys.stdout</code>),  <code>FileHandler</code>, <code>RotatingFileHandler</code>, and <code>SMTPHandler</code> (emails).</p>

<p>The commonly-used methods are:</p>

<ul>
<li><code>setLevel()</code>: The logger's <code>setLevel()</code> determines which message levels to be passed to the handler; while the handler's <code>setLevel()</code> determines which message level to be sent to the destination.</li>
<li><code>setFormatter()</code>: for formatting the message sent to the destination.</li>
<li><code>addFilter()</code> and <code>removeFilter()</code></li>
</ul>

<p>You can add more than one handlers to a logger, possibly handling different log levels. For example, you can add a <code>SMTPHandler</code> to receive emails for <code>ERROR</code> level; and a <code>RotatingFileHandler</code> for <code>INFO</code>  level.</p>

<h5>Formatters</h5>
<p>Attach to a handler (via <code>&lt;handler&gt;.setFormatter()</code>) to format the log messages.</p>

<h5>Example: Using Logger with Console Handler and a Formatter</h5>

<pre class="example">
import logging

<span class="comment"># Create a logger</span>
logger = logging.getLogger('MyApp')
logger.setLevel(logging.INFO)

<span class="comment"># Create a console handler and set log level</span>
ch = logging.StreamHandler()   <span class="comment"># Default to sys.stderr</span> 
ch.setLevel(logging.INFO)

<span class="comment"># Create a formatter and attach to console handler</span>
formatter = logging.Formatter('%(asctime)s|%(name)s|%(levelname)s|%(message)s')
ch.setFormatter(formatter)

<span class="comment"># Add console handler to logger</span>
logger.addHandler(ch)

<span class="comment"># Test logging</span>
logger.debug('a debug message')
logger.info('an info message')
logger.warn('a warn message')
logger.error('error %d, an error message', 1234)
logger.critical('a critical message')</pre>

<ol>
<li>There is probably no standard for log record format (unless you have an analysis tool in mind)?! But I recommend that you choose a field delimiter which does not appear in the log messages, for ease of processing of log records (e.g., export to spreadsheet).</li>
</ol>

<p>The expected outputs are:</p>
<pre class="output">
2015-12-09 00:32:33,521|MyApp|INFO|an info message
2015-12-09 00:32:33,521|MyApp|WARNING|a warn message
2015-12-09 00:32:33,521|MyApp|ERROR|error 1234: an error message
2015-12-09 00:32:33,521|MyApp|CRITICAL|a critical message</pre>


<h5>Example: Using Rotating Log Files with <code>RotatingFileHandler</code></h5>

<pre class="example">
import logging
from logging.handlers import RotatingFileHandler

<span class="comment"># Configuration data in a dictionary</span>
config = {
        'loggername'  : 'myapp',
        'logLevel'    : logging.INFO,
        'logFilename' : 'test.log',
        'logFileBytes': 300,          <span class="comment"># for testing only</span>
        'logFileCount': 3}

<span class="comment"># Create a Logger and set log level</span>
logger = logging.getLogger(config['loggername'])
logger.setLevel(config['logLevel'])
 
<span class="comment"># Create a rotating file handler</span>
handler = RotatingFileHandler(
        config['logFilename'], 
        maxBytes=config['logFileBytes'], 
        backupCount=config['logFileCount'])
handler.setLevel(config['logLevel'])
handler.setFormatter(logging.Formatter(
        "%(asctime)s|%(levelname)s|%(message)s|%(filename)s:%(lineno)d"))

<span class="comment"># Add handler</span>
logger.addHandler(handler)

<span class="comment"># Test</span>
logger.info('An info message')
logger.debug('A debug message')
for i in range(1, 10):    <span class="comment"># Test rotating log files</span>
    logger.error('Error message %d', i)</pre>

<ol>
<li>We keep all the logging parameters in a dictionary, which are usually retrieved from a configuration file.</li>

<li>In the constructor of <code>RotatingFileHandler</code>, the <code>maxBytes</code> sets the log file size-limit; the <code>backupCount</code> appends <code>'.1'</code>, <code>'.2'</code>, etc to the old log files, such that <code>'.1'</code> is always the newer backup of the log file.  Both <code>maxBytes</code> and <code>backupCount</code> default to 0. If either one is zero, roll-over never occurs.</li>

<li>The above example produces 4 log files: <code>test.log</code>, <code>test.log.1</code> to <code>test.log.3</code>. The file being written to is always <code>test.log</code>. When this file is filled, it is renamed to <code>test.log.1</code>; and if <code>test.log.1</code> and <code>test.log.2</code> exist, they will be renamed to <code>test.log.2</code> and <code>test.log.3</code> respectively, with the old <code>test.log.3</code> deleted.</li>
</ol>

<h5>Example: Using an Email Log for CRITICAL Level and Rotating Log Files for INFO Level</h5>

<pre class="example">
import logging
from logging.handlers import RotatingFileHandler, SMTPHandler

<span class="comment"># Configuration data in a dictionary</span>
config = {
        'loggername'  : 'myapp',
        'fileLogLevel' : logging.INFO,
        'logFilename'  : 'test.log',
        'logFileBytes' : 300,         <span class="comment"># for testing only</span>
        'logFileCount' : 5,
        'emailLogLevel': logging.CRITICAL,
        'smtpServer'   : 'your_smtp_server',
        'email'        : 'myapp@nowhere.com',
        'emailAdmin'   : 'admin@nowhere.com'}

<span class="comment"># Create a Logger and set log level</span>
logger = logging.getLogger(config['loggername'])
logger.setLevel(config['fileLogLevel'])  <span class="comment"># lowest among all</span>
 
<span class="comment"># Create a rotating file handler</span>
fileHandler = RotatingFileHandler(
        config['logFilename'],
        maxBytes=config['logFileBytes'],
        backupCount=config['logFileCount'])
fileHandler.setLevel(config['fileLogLevel'])
fileHandler.setFormatter(logging.Formatter(
        "%(asctime)s|%(levelname)s|%(message)s|%(filename)s:%(lineno)d"))

<span class="comment"># Create a email handler</span>
emailHandler = SMTPHandler(
        config['smtpServer'], 
        config['email'], 
        config['emailAdmin'],
        '%s - CRITICAL ERROR' % config['loggername'])
emailHandler.setLevel(config['emailLogLevel'])

<span class="comment"># Add handlers</span>
logger.addHandler(fileHandler)
logger.addHandler(emailHandler)

<span class="comment"># Test</span>
logger.debug('A debug message')
logger.info('An info message')
logger.warning('A warning message')
logger.error('An error message')
logger.critical('A critical message')</pre>

<h5>Example: Separating ERROR Log and INFO Log with Different Format</h5>

<pre class="example">
import logging, sys
from logging.handlers import RotatingFileHandler

class MaxLevelFilter(logging.Filter):
    <span class="comment">&quot;&quot;&quot;Custom filter that passes messages with level &lt;= maxlevel&quot;&quot;&quot;</span>
    def __init__(self, maxlevel):
        <span class="comment">&quot;&quot;&quot;Constructor takes the max level to pass&quot;&quot;&quot;</span>
        self.maxlevel = maxlevel

    def filter(self, record):
        <span class="comment">&quot;&quot;&quot;Return True to pass the record&quot;&quot;&quot;</span>
        return (record.levelno &lt;= self.maxlevel)

<span class="comment"># INFO and below go to rotating files</span>
file_handler = RotatingFileHandler('test.log', maxBytes=500, backupCount=3)
file_handler.addFilter(MaxLevelFilter(logging.INFO))
file_handler.setFormatter(logging.Formatter(
        "%(asctime)s|%(levelname)s|%(message)s"))

<span class="comment"># WARNING and above go to stderr, with all details</span>
err_handler = logging.StreamHandler(sys.stderr)
err_handler.setLevel(logging.WARNING)
err_handler.setFormatter(logging.Formatter(
        "%(asctime)s|%(levelname)s|%(message)s|%(pathname)s:%(lineno)d"))

logger = logging.getLogger("myapp")
logger.setLevel(logging.DEBUG)    <span class="comment"># Lowest</span>
logger.addHandler(file_handler)
logger.addHandler(err_handler)

<span class="comment"># Test</span>
logger.debug("A DEBUG message")
logger.info("An INFO message")
logger.warning("A WARNING message")
logger.error("An ERROR message")
logger.critical("A CRITICAL message")</pre>


<h4 id="configparser"><code>ConfigParser</code> (Python 2) or <code>configparser</code> (Python 3) Module</h4>
<p>The <code>ConfigParser</code> module implements a basic configuration file parser for <code>.ini</code>.</p>

<p>A <code>.ini</code> file contains key-value pairs organized in sections and looks like:</p>

<pre class="example">
<span class="comment"># This is a comment</span>
[app]
name = my application
version = 0.9.1
authors = ["Peter", "Paul"]
debug = False

[db]
host = localhost
port = 3306

[DEFAULT]
message = hello</pre>

<ol>
<li>A configuration file consists of sections (marked by <code>[<em>section-name</em>]</code> header).  A section contains <code>key=value</code> or <code>key:value</code>  pairs. The leading and trailing whitespaces are trimmed from the <code>value</code>. Lines beginning with <code>'#'</code> or <code>';'</code> are comments.</li>
</ol>

<p>You can use <code>ConfigParser</code> to parse the <code>.ini</code> file, e.g.,</p>

<pre class="example">
import ConfigParser

cp = ConfigParser.SafeConfigParser()
cp.read('test1.ini')

<span class="comment"># Print all contents. Also save into a dictionary</span>
config = {}
for section in cp.sections():
    print("Section [%s]" % section)
    for option in cp.options(section):
        print("|%s|%s|" % (option,
                cp.get(section, option)))          <span class="comment"># Print</span>
        config[option] = cp.get(section, option) <span class="comment"># Save in dict</span>

print(config)

<span class="comment"># List selected contents with type</span>
cp.get('app', 'debug')         <span class="comment"># string</span>
cp.getboolean('app', 'debug')
cp.getint('app', 'version')</pre>

<ul>
<li><code>ConfigParser.read(<em>file1</em>, <em>file2</em>,...)</code>: read and parse from the list of filenames. It overrides the keys with each successive file, if present.</li>

<li><code>ConfigParser.get(<em>section</em>, <em>name</em>)</code>: get the value of <code><em>name</em></code> from <code><em>section</em></code>.</li>
</ul>

<h5>Interpolation with <code>SafeConfigParser</code></h5>

<p>A <code>value</code> may contain formatting string in the form of <code>%(name)s</code>, which refers to another <code>name</code> in the SAME section, or a special <code>DEFAULT</code> (in uppercase) section. This interpolation feature is, however, supported only in <code>SafeConfigParser</code>. For example, suppose we have the following configuration file called <code>myapp.ini</code>:</p>

<pre class="example">
[My Section]
msg: %(head)s + %(body)s
body = bbb

[DEFAULT]
head = aaa</pre>

<p>The <code>msg</code> will be interpolated as <code>aaa + bbb</code>, interpolated from the SAME section and DEFAULT section.</p>


<h4><code>datetime</code> Module</h4>

<p>The <code>datetime</code> module supplies classes for manipulating dates and time in both simple and complex ways.</p>

<ul>
<li><strong><code>datetime.date.today()</code></strong>: Return the current local date.</li>
</ul>

<pre class="example">
&gt;&gt;&gt; <strong>import datetime</strong>
&gt;&gt;&gt; <strong>dir(datetime)</strong>
['MAXYEAR', 'MINYEAR', 'date', 'datetime', 'datetime_CAPI', 'time', 'timedelta', 'timezone', 'tzinfo', ...]
&gt;&gt;&gt; <strong>dir(datetime.date)</strong>
['today', ...]

&gt;&gt;&gt; <strong>from datetime import date</strong>
&gt;&gt;&gt; <strong>today = date.today()</strong>
&gt;&gt;&gt; <strong>today</strong>
datetime.date(2016, 6, 17)
&gt;&gt;&gt; <strong>aday = date(2016, 5, 1)</strong>  <span class="comment"># Construct a datetime.date instance</span>
&gt;&gt;&gt; <strong>aday</strong>
datetime.date(2016, 5, 1)
&gt;&gt;&gt; <strong>diff = today - aday</strong>      <span class="comment"># Find the difference between 2 date instances</span>
&gt;&gt;&gt; <strong>diff</strong>
datetime.timedelta(47)
&gt;&gt;&gt; <strong>dir(datetime.timedelta)</strong>
['days', 'max', 'microseconds', 'min', 'resolution', 'seconds', 'total_seconds', ...]
&gt;&gt;&gt; <strong>diff.days</strong>
47</pre>

<h4><code>smtplib</code> and <code>email</code> Modules</h4>

<p>The SMTP (Simple Mail Transfer Protocol) is a protocol, which handles sending email and routing email between mail servers. Python provides a <code>smtplib</code> module, which defines an SMTP client session object that can be used to send email to any Internet machine with an SMTP listener daemon.</p>

<p>To use <code>smtplib</code>:</p>
<pre class="example">
import smtplib

<span class="comment"># Create an SMTP instance</span>
smtpobj = smtplib.SMTP([<em>host</em> [,<em>port</em> [, <em>local_hostname</em> [, <em>timeout</em>]]]])
......
<span class="comment"># Send email</span>
smtpobj.sendmail(<em>form_addr</em>, <em>to_addrs</em>, <em>msg</em>)
<span class="comment"># Terminate the SMTP session and close the connection</span>
smtpobj.quit()
</pre>

<p>The <code>email</code> module can be used to construct an email message.</p>

<p>[TODO] more</p>

<h4><code>json</code> Module</h4>

<p>JSON (JavaScript Object Notation) is a lightweight data interchange format inspired by JavaScript object literal syntax. The <code>json</code> module provides implementation for JSON encoder and decoder.</p>

<ul>
<li><code>json.dumps(python_obj)</code>: Serialize <code>python_obj</code> to a JSON-encoded string ('s' for string).</li>

<li><code>json.loads(json_str)</code>: Create a Python object from the given JSON-encoded string.</li>

<li><code>json.dump(python_obj, file_obj)</code>: Serialize <code>python_obj</code> to the file.</li>

<li><code>json.load(file_obj)</code>: Create a Python object by reading the given file.</li>
</ul>

<p>For example,</p>

<pre class="example">
&gt;&gt;&gt; <strong>import json</strong>

<span class="comment"># Create a JSON-encoded string from a Python object</span>
&gt;&gt;&gt; <strong>lst = [123, 4.5, 'hello', True]</strong>
&gt;&gt;&gt; <strong>json_lst = json.dumps(lst)</strong>  <span class="comment"># Create a JSON-encoded string</span>
&gt;&gt;&gt; <strong>json_lst</strong>
'[123, 4.5, "hello", true]'
        <span class="comment"># JSON uses double-quote for string</span> 

&gt;&gt;&gt; <strong>dct = {'a': 11, 2: 'b', 'c': 'cc'}</strong>
&gt;&gt;&gt; <strong>json_dct = json.dumps(dct)</strong>
&gt;&gt;&gt; <strong>json_dct</strong>
'{"a": 11, "c": "cc", "2": "b"}'

<span class="comment"># Create a Python object from a JSON string</span>
&gt;&gt;&gt; <strong>lst_decoded = json.loads(json_lst)</strong>
&gt;&gt;&gt; <strong>lst_decoded</strong>
[123, 4.5, 'hello', True]
&gt;&gt;&gt; <strong>dct_decoded = json.loads(json_dct)</strong>
&gt;&gt;&gt; <strong>dct_decoded</strong>
{'a': 11, 'c': 'cc', '2': 'b'}

<span class="comment"># Serialize a Python object to a text file</span>
&gt;&gt;&gt; <strong>f = open('json.txt', 'w')</strong>
&gt;&gt;&gt; <strong>json.dump(dct, f)</strong>
&gt;&gt;&gt; <strong>f.close()</strong>

<span class="comment"># Construct a Python object via de-serializing from a JSON file</span>
&gt;&gt;&gt; <strong>f = open('json.txt', 'r')</strong>
&gt;&gt;&gt; <strong>dct_decoded_from_file = json.load(f)</strong>
&gt;&gt;&gt; <strong>dct_decoded_from_file</strong>
{'a': 11, 'c': 'cc', '2': 'b'}

<span class="comment"># Inspect the JSON file</span>
&gt;&gt;&gt; <strong>f.seek(0)</strong>  <span class="comment"># Rewind</span>
0
&gt;&gt;&gt; <strong>f.read()</strong>   <span class="comment"># Read the entire file</span>
'{"a": 11, "c": "cc", "2": "b"}'
&gt;&gt;&gt; <strong>f.close()</strong></pre>

<h4><code>pickle</code> and <code>cPickle</code> Modules</h4>

<p>The <code>json</code> module (described earlier) handles lists and dictionaries, but serializing arbitrary class instances requires a bit of extra effort. On the other hand, the <code>pickle</code> module implements serialization and de-serialization of any Python object. Pickle is a protocol which allows the serialization of arbitrarily complex Python objects. It is specific to the Python languages and not applicable to other languages.</p>

<p>The <code>pickle</code> module provides the same functions as the <code>json</code> module:</p>
<ul>
<li><strong><code>pickle.dumps(python_obj)</code></strong>: Return the pickled representation of the <code>python_obj</code> as a string.</li>

<li><strong><code>pickle.loads(pickled_str)</code></strong>: Construct a Python object from <code>pickled_str</code>.</li>

<li><strong><code>pickle.dump(python_obj, file_obj)</code></strong>: Write a pickled representation of the <code>python_obj</code> to <code>file_obj</code>.</li>

<li><strong><code>pickle.load(file_obj)</code></strong>: Construct a Python object reading from the <code>file_obj</code>.</li>
</ul>

<p>The module <code>cPickle</code> is an improved version of <code>pickle</code>.</p>


<h4><code>signal</code> module</h4>

<p>Signals (software interrupt) are a limited form of asynchronous inter-process communication, analogous to hardware interrupts. It is generally used by the operating system to notify processes about certain issues/states/errors, like division by zero, etc.</p>

<p>The <code>signal</code> module provides mechanisms to use signal handlers in Python.</p>

<h5><code>signal.signal()</code></h5>

<p>The <code>signal.signal()</code> method takes two arguments: the signal number to handle, and the handling function. For example,</p>

<pre class="example">
<span class="comment">#!/usr/bin/env python3
# -*- coding: UTF-8 -*-
&quot;&quot;&quot;test_signal.py&quot;&quot;&quot;</span>
import sys, signal, time

def my_signal_handler(signalnum, handler):
    <span class="comment">&quot;&quot;&quot;Custom Signal Handler&quot;&quot;&quot;</span>
    print('Signal received %d: %s' % (signalnum, handler));

<span class="comment"># Register signal handler for selected signals</span>
signal.signal(signal.SIGINT, my_signal_handler);
signal.signal(signal.SIGUSR1, my_signal_handler);

while(1):
    print("Wait...")
    time.sleep(10)</pre>

<p>Run the program in the background (with &amp;) and send signals to the process:</p>

<pre class="command">
$ <strong>./test_signal.py &amp;</strong>
[1] 24078

$ Wait...

$ <strong>kill -INT 24078</strong>    <span class="comment"># Send signal</span>
Signal received 2: &lt;frame object at 0x7f6f59e12050&gt;

$ <strong>kill -USR1 24078</strong>   <span class="comment"># Send signal</span>
Signal received 10: &lt;frame object at 0x7f6f59e12050&gt;

$ <strong>kill -9 24078</strong>      <span class="comment"># Kill the process</span></pre>




<!-- @@ start change in v1 -->
<p class="references">REFERENCES &amp; RESOURCES</p>

<ol>
<li>The Python's mother site @ <a href="http://www.python.org">www.python.org</a>; &quot;The Python Documentation&quot; @ <a href="https://www.python.org/doc/">https://www.python.org/doc/</a>; &quot;The Python Tutorial&quot; @ <a href="https://docs.python.org/tutorial/">https://docs.python.org/tutorial/</a>; &quot;The Python Language Reference&quot; @ <a href="https://docs.python.org/reference/">https://docs.python.org/reference/</a>.</li>

<li>Vernon L. Ceder, &quot;The Quick Python Book&quot;, 2nd ed, 2010, Manning (Good starting guide for experience programmers who wish to learning Python).</li>

<li>Mark Lutz, &quot;Learning Python&quot;, 4th ed, 2009; &quot;Programming Python&quot;, 4th ed, 2011; &quot;Python Pocket Reference&quot;, 4th ed, 2010, O'reilly.</li>
</ol>

</div> <!-- End the content-main division -->

<div id="content-footer">
<p>Latest version tested: Python (Ubuntu, Windows, Cygwin, Jupyter Notebook) 3.11.3 and 2.7.14<br>
Last modified: May, 2023</p>
</div>

</div>  <!-- End the wrap-inner division -->

<!-- @@ v3 footer changes starts here, before "footer", to end of document -->
<!-- footer filled by JavaScript -->
<div id="footer" class="footer"><p>&nbsp;</p></div>

</div>  <!-- End the wrap-outer division -->

<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- My custom JavaScript v3 -->
<script src="../scripts/programming_notes_v3.js"></script>
<!-- Prism Syntax Highlighter -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html>
