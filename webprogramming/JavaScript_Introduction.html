<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="description" content="Basic JavaScript Tutorial for the beginners">
<meta name="keywords" content="JavaScript, Tutorial, Basics, beginners">
<title>JavaScript Tutorial: The Basics</title>

<!-- @@ v3 starts here -->
<!-- My custom CSS v3 -->
<link rel="stylesheet" href="../css/programming_notes_v3.css">
<!-- Prism Syntax Highlighter -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/themes/prism.min.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-highlight/prism-line-highlight.min.css" rel="stylesheet" />
<!-- favicon -->
<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
</head>

<body>

<div id="wrap-outer">

<!-- header filled by JavaScript -->
<div id="header" class="header"><p>&nbsp;</p></div>

<div id="wrap-inner">

<div id="wrap-toc">
<h5>Table of Contents <a id="show-toc" href="JavaScript_Introduction.html#show-toc">(Hide)</a></h5>
<div id="toc"></div>  <!-- for showing the "Table of Content" -->
</div>

<div id="content-header">
<h1>JavaScript</h1>
<h2>Basics</h2>
</div>

<div id="content-main">
<!-- @@ end change in v3 -->

<p>Since its release in December 4, 1995 (six months after Java, which was released in May 23, 1995), JavaScript has gone through many changes. JavaScript began as a client-side programming language (which runs inside a web browser via a built-in JavaScript engine) for adding interactive contents to the web pages. It became more robust with DHTML (1997) and Ajax (1999). With Node.js (released in May 27, 2009), JavaScript can be used to program server-side and build full-stack web applications, as well as standalone utility scripts. In 2015, the ECMAScript 6 (ES6 or ES2015) introduces major update to the language, such as classes and modules, and make JavaScript a general-purpose programming language capable of complex software tasks.</p>
	
<h3>Introduction</h3>

<h5>It began as a Client-side Programming Language run inside a web browser via a Built-in JavaScript Engine</h5>
<p>JavaScript is the most widely used <em>client-side</em> programming language that lets you supercharge your HTML with interactivity, animation and dynamic visual effect for better User Interface and User Experience (UI/UX). It is:</p>

<ul>
<li>a small, lightweight, object-oriented, cross-platform, special-purpose scripting language meant to be run under a host environment (typically a web browser).</li>

<li>a <em>client-side scripting language</em> to enrich web user-interfaces and create dynamic web pages (e.g., for...input validation, and immediate response to user's actions).</li>

<li>the engine that supports AJAX (Asynchronous JavaScript and XML - that can be used to update one part of the web page asynchronously), which generate renew interest in JavaScript.</li>
</ul>

<p>JavaScript works together with HTML/CSS. HTML provides the <em>contents</em>; CSS specifies the <em>presentation</em>; and JavaScript programs the <em>behavior.</em> Together, they enrich the UI/UX of the web users.</p>

<h5>JavaScript is Now Everywhere with Node.js</h5>

<p>JavaScript  has grown beyond the client-side programming. With the introduction of Node.js in 2009 (an open-source, cross-platform   JavaScript run-time environment), you can run your JavaScript standalone   or inside the server (instead of a browser). This allows you to use one   single language for both the server-side and client-side programming.</p>

<h5>History and Versions</h5>

<p>JavaScript, originally called LiveScript, was created by Brendan Eich at Netscape in 1995. Soon after, Microsoft launched its own version of JavaScript called JScript. Subsequently, Netscape submitted it to <a href="http://www.ecma-international.org/">ECMA</a> (formerly <em>&quot;European Computer Manufacturers Association</em>&quot;, now <em>&quot;Ecma International - European association for standardizing information and communication systems</em>&quot;) for  standardization, together with Microsoft's JScript.</p>

<p> The ECMA Specification is called &quot;ECMA-262 ECMAScript Language Specification&quot; @ <a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm">http://www.ecma-international.org/publications/standards/Ecma-262.htm</a> (also approved as &quot;ISO/IEC 16262&quot;):</p>
<ul>
<li>ECMA-262 version 1 (June 1997): First edition</li>
<li>ECMA-262 version 2 (August 1998)</li>
<li>ECMA-262 version 3 (December 1999): Added regular expressions, try/catch, switch, do-while, etc.</li>
<li>ECMA-262 version 4 - Abandon due to political differences. In 2007, the TC-39 (the committee responsible for ECMAScript) put up a draft specification for ECMAScript 4, which was massive in scope and introduced many new syntax and features. But a group of developers from Yahoo, Google and Microsoft felt that was too much and created an alternate proposal called ECMAScript 3.1. ECMAScript 4 was never finalized.</li>
<li>ECMA-262 version 5 and 5.1 (June 2011): ECMAScript 3.1 was eventually standardized as ECMAScript 5. Added &quot;strict mode&quot;, JSON, Array iteration methods, etc.</li>
<li><strong>ECMA-262 2015</strong>: most popularly known as <strong>ECMAScript 6</strong> or <strong>ES6</strong>. <br>
  This version added significant new syntax for writing complex application, including class declaration, <code>let</code> for local declarations, <code>const</code> for constant local declaration, default parameter values, iterators and for...of loops, Python-style generators, arrow function expression (<code>() =&gt; {...}</code>), binary data, typed arrays, new collections (maps, sets and WeakMap), promises, reflection, proxies, template literals for strings, and many more.</li>
<li>ECMAScript  2016 (ES7): Since ES6, ECMAScript standards are on yearly release cycles in June. <br>
  This version added exponential operator (<code>**</code>), block-scoping of variables and functions, <code>await</code> and <code>async</code> keywords for asynchronous programming, etc.</li>
<li>ECMAScript  2017 (ES8): Added string padding, async functions which use generators and promises, <code>Object.values</code>, <code>Object.entries</code> for easy object manipulation, etc.</li>
<li>ECMAScript  2018 (ES9): Added rest parameters (<code>...</code>), spread operator, asynchronous iteration, additions to regular expression.</li>
<li>ECMAScript  2019 (ES10): Added <code>Array.prototype.flat</code>, <code>Array.prototype.flatMap</code>, changes <code>Array.sort</code> and <code>Object.fromEntries</code>, catch binding becomes optional, etc.</li>
<li>ECMAScript 2020 (ES11): introduces a <code>BigInt</code> primitive type for arbitrary-size integers, the nullish coalescing operator (<code>??</code>) and the <code>globalThis</code> object.</li>
<li>ECMAScript 2021 (ES12): Added enhancement to strings (<code>replaceAll</code>), promises (<code>Promise.any</code>), and object references. Logical assignment operators (<code>??=</code>, <code>&amp;&amp;=</code>,<code>||=</code>,)</li>
</ul>

<h5>JavaScript vs. Java</h5>

<p>Java is a <em>full-fledged</em> <em>general-purpose</em> programming language. It was created by James Gosling at Sun Microsystems (now part of Oracle) and released in August 1995.</p>
<p>JavaScript was created by Brendan Eich at Netscape, also in 1995. Originally called LiveScript, it was a small and lightweight <em>special-purpose</em> language for writing client-side program  running inside a browser to create active user-interface and generate dynamic web pages.   It was renamed to JavaScript in an ill-fated marketing decision to try to capitalize on the popularity of Java language, when Netscape released its Navigator 2 in 1996.</p>
<p>Java and JavaScript are totally different languages for different programming purposes. However, in the early days, some efforts were made to adopt Java syntax and convention into JavaScript, such that JavaScript <em>seems</em> to be a subset of Java. In reality, they have very little in common.</p>

<h5>What Client-side JavaScript CANNOT Do?</h5>

<p>Remember that JavaScript is a client-side program that you downloaded from a server, and run inside the browser of your (client) machine. What to stop someone from writing a JavaScript that wipes out your hard disk, or triggers a denial-of-service attack to another server? As a result, for security purpose,</p>

<ol>
<li>It cannot read file from the client's machine.</li>
<li>It can only connect to the server that it come from. It can read file from the server that it come from. It cannot write file into the server machine.</li>
<li>It cannot connect to another server.</li>
<li>It cannot close a window that it does not open.</li>
</ol>

<h5>jQuery</h5>

<p>jQuery is a popular cross-browser JavaScript Library. jQuery is JavaScript (but having its own extension syntax), hence, you need to understand JavaScript. I suggest you read through the JavaScript syntax (and pay particular attention to objects), and then switch into jQuery for your production. Read  &quot;<a href="jQuery_Basics.html">jQuery Basics</a>&quot;.</p>

<h5>Standalone and Server-side JavaScripts with Node.js JavaScript Engine</h5>
<p>[TODO]</p>

<h5>JavaScript Source-Code Editors and IDEs</h5>
<p>You need a <em>text editor</em> to write your JavaScript.  You could use a <em>plain-text editor</em> such as Windows' NotePad or macOS's TextEdit (strictly NOT recommended as they can't do syntax highlighting). To improve your productivity, a good <em>source-code editor</em> (which provides syntax highlighting, auto-code-complete, snippets, documentation, symbol navigation, refactoring, etc.) is essential. There are many freeware/shareware available, such as Visual Studio Code (VS Code), Sublime Text, Atom, Brackets, Komodo Edit, Emacs, Vim, BBEdit, TextMate, NotePad++ (Windows), etc. You can also use a full-scale IDE such as Eclipse, NetBeans, IntelliJ IDEA. There are also many &quot;online&quot; editors and compilers available (e.g., Programiz, JSFiddle, Playcode), but I think that you should install your own.</p>

	
	
<h3>Client-Side JavaScript by Examples</h3>
<p>I shall assume that you know HTML and CSS (read my HTML/CSS articles otherwise).  I shall also assume that you understanding some programming basics (computational thinking) such as variables, if-else and for-loop constructs.</p>


<p>Client-side JavaScripts run inside a browser via a built-in JavaScript engine. There are standards on JavaScript. But the Big-5 (Chrome, Firefox, IE/Edge, Safari and Opera), in particular the IE, does not adhere to all the standards strictly. Furthermore, they create their own extensions. Hence, the behavior of JavaScript could be different in different browsers. You may need to test your JavaScripts on more than one browsers.</p>
<p>JavaScript also run standalone (and in the server). To run JavaScript standalone, you need to install Node.js, which is a JavaScript engine. I will present the examples in the next section.</p>

<h4>Client-side JS EG 1: Functions <code>alert()</code> and <code>document.write()</code></h4>

<p>Let us write our first client-side JavaScript to print the message &quot;Hello, world&quot;.</p>

<p> Start with a new file and enter the following codes. Do not enter the line numbers, which is used to aid in explanation. Take note that:</p>

<ul>
<li>JavaScript is <em>case sensitive</em>. A <em><code>rose</code></em> is NOT a <em><code>ROSE</code></em> and is NOT a <em><code>Rose</code></em>.</li>
<li>&quot;Extra&quot; white spaces (blanks, tabs and newlines) are ignored. That is, multiple white spaces is treated as a single blank character. You could use them liberally to make your program easier to read.</li>
</ul>

<p>Save the file as &quot;<code>JSExAlertWrite.html</code>&quot; (or any filename that you prefer, with file extension of &quot;<code>.html</code>&quot; or &quot;<code>.htm</code>&quot;). Run the script by loading the HTML file into a JavaScript-capable browser (e.g., One of the BIG FIVE - Chrome, Firefox, Internet Explorer/Edge, Safari or Opera).</p>
	
<pre data-line="7-9,13-17"><code class="language-html line-numbers">&lt;!DOCTYPE html&gt;
&lt;!-- JSExAlertWrite.html --&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;JavaScript Example: Functions alert() and document.write()&lt;/title&gt;
  &lt;script&gt;
    alert("Hello, world!");
  &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;My first JavaScript says:&lt;/h1&gt;
  &lt;script&gt;
    document.write("&lt;h2&gt;&lt;em&gt;Hello world, again!&lt;/em&gt;&lt;/h2&gt;");
    document.write("&lt;p&gt;This document was last modified on "
        + document.lastModified + ".&lt;/p&gt;");
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<h5>How it Works?</h5>

<ol>
<li>JavaScripts are programming codes that are embedded inside an HTML document. The codes are contained between a pair of <code>&lt;script&gt;</code> and <code>&lt;/script&gt;</code>  tags, as follows:
<pre class="syntax">&lt;script&gt;
<span class="comment">  // Your JavaScript programming codes here!</span>
&lt;/script&gt;</pre>
NOTE: In HTML4/XHTML, you need to include attribute <code>type=&quot;text/JavaScript&quot;</code> to the <code>&lt;script&gt;</code> opening tag.</li>

<li>You could place the scripts in either the <code>HEAD</code> section (called header script) or <code>BODY</code> section (called body script) of an HTML document. You are free to embed as many  	scripts into a single document as you like, using multiple <code>&lt;script&gt;...&lt;/script&gt;</code> elements. Lines 7-9 and Line 13-17 are two pieces of JavaScripts, placed in the <code>HEAD</code> and <code>BODY</code> sections, respectively.</li>

<li>JavaScript statements are terminated by a semicolon <code>';'</code> (like Java/C/C++/C#).</li>

<li>The <code>alert(<em>str</em>)</code> function (Line 8) pops out a <em>dialog box</em> displaying the <em><code>str</code></em> and a OK button. Strings are enclosed by a pair of <span class="underline"><em>double quotes</em></span> or <span class="underline"><em>single quotes</em></span>, e.g., <code>"hello"</code> or <code>'hello'</code>.</li>

<li>The current web page is represented by the so-called <code>document</code> object in the JavaScript.  The <code>document.lastModified</code> (Line 16) property stores the last modified date of the current document.  The <code>document.write(<em>str</em>)</code> function (Line 14 to 16) can be used to write the specified <em><code>str</code></em> to the current document, as part of the current HTML document.</li>

<li> The <code>'+'</code> operator (Line 16) can be used to <em>concatenates</em> two strings (like Java).</li>

<li> As a result of the <code>document.write()</code>, the <code>BODY</code> section of this document contains:
<pre class="output">
&lt;h1&gt;My First JavaScript says&lt;/h1&gt;
&lt;h2&gt;&lt;em&gt;Hello world, again!&lt;/em&gt;&lt;/h2&gt;&lt;p&gt;This document was last modified on mm/dd/yyyy hh:mm:ss.&lt;/p&gt;</pre></li>

<li>The <code>alert(<em>str</em>)</code> and <code>document.write(<em>str</em>)</code> are some of the  commonly-used <em>built-in functions</em> provided in JavaScript.</li>
</ol>

<p><span class="lead">TRY:</span> Print the document's title and the URL location. (Hints: use <code>document.title</code> and <code>document.location</code> properties.)</p>

<div class="side-note">

<h5>Don't Get Caught by the Cache - Do Control-Refresh (or Control-F5)</h5>

<p>If you modify the codes and reload the web page, the new codes may not get executed because the  browser <em>caches</em> the previously loaded version.  You could use Control-F5 (Control-Refresh) to ask the browser to discard the cache, and fetch a new page.</p>
</div>
	
<div class="side-note">
<h5>Don't Use <code>alert()</code></h5>
<p>Because nobody like it.</p>
<p>&quot;The use of alerts is usually discouraged in favour of other methods that do not block users from interacting with the
page - in order to create a better user experience. Nevertheless, it can be useful for debugging.&quot;</p>
<p><code>alert()</code> is technically a <code>window</code> object's property, and shall be referenced as <code>window.alert()</code>. But since <code>window</code> is a global object, all its variables are global variables, and can be referenced without the object name.</p>
</div>
	
<h4>Browsers' F12 Web Development Tools and Debugger</h4>

<p>Before we proceed to the next example, you should try out the Web Development Tools, which is available in most of the browsers for debugging HTML/CSS/JavaScript/webapps.</p>
<ol>
<li>Launch your browser and push F12 to activate the Web Development Tools (I have tried on Firefox, Chrome, Edge).</li>
<li>Select the "Console" pane. You can enter JavaScript statements in the console. For example, enter the following JavaScript statements one-by-one and observe the results.
  <pre class="command">alert('hello, world')
document.write('&lt;h1&gt;hello world, again&lt;/h1&gt;')
console.log('hello world, again and again')</pre></li>
</ol>
	
<p><span class="lead">Notes</span>: <code>console.log(<em>msg</em>)</code> writes the <em>msg</em> to the console, which is often used for debugging (like <code>System.out.println()</code> in Java, or <code>printf()</code> in C)</p>

<h5>Where are the error messages?</h5>
<p>If you make any syntax errors in the previous example, you will not see any error messages appear on the browser, but the script simply doesn't run. It is impossible to debug a program without the error messages! Thankfully, you can actually find the error messages in the console. Make some errors and refresh the browser.</p>
	
<h4>Client-Side JS EG 2: Variables and Functions <code>prompt()</code>, <code>confirm()</code></h4>

<p>This script prompts the user for his/her name, confirms the name, and prints a greeting message.</p>

<p>There are three kinds of pop-up <em>dialog</em> boxes for interacting with the users:</p>

<ol>
<li>The <code>alert(<em>str</em>)</code> function puts the <em><code>str</code></em> on a pop-up box with a OK button. User needs to click the OK button to continue.</li>

<li>The <code>prompt(<em>promptingStr</em>, <em>defaultStr</em>?)</code> function puts up an input pop-up box with the <em><code>promptingStr</code></em> with an OK and Cancel buttons. It returns the input entered by the user as a string; or a special value called <code>null</code> if the user hits the Cancel button. The optional parameter <code><em>defaultStr</em></code> specifies the initial string to be shown. In this article, I shall indicate <em>optional</em> function parameters with a trailing <code>'?'</code> for compactness.</li>

<li>The <code>confirm(<em>str</em>)</code> function puts <code><em>str</em></code> on a pop-up box with OK and Cancel buttons. It returns <code>true</code> if user hits the OK button; or <code>false</code> otherwise.</li>
</ol>

<pre data-line="7-14"><code class="language-html line-numbers">&lt;!DOCTYPE html&gt;
&lt;!-- JSExVar.html --&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;JavaScript Example: Variables and functions prompt() and confirm()&lt;/title&gt;
  &lt;script&gt;
    var username = prompt("Enter your name: ", "");
    if (confirm("Your name is " + username)) {
       document.write("&lt;h1&gt;Hello, " + username + "!&lt;/h1&gt;");
    } else {
       document.write("&lt;h1&gt;Hello, world!&lt;/h1&gt;");
    }
  &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;p&gt;Welcome to JavaScript!&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>	
	
<h5>How it Works?</h5>

<ol>
<li>Line 8 declares a <em>global variable</em> called <code>username</code>, via the keyword <code>var</code>. A variable is a <em>named</em> storage location that holds a <em>value</em>. Once the variable is declared, you can assign (and re-assign) a value to that variable, via the assignment operator <code>'='</code> (Line 9).</li>

<li>Line 9 invokes the <code>prompt(<em>promptingStr</em>, <em>defaultStr</em>?)</code> function to pop out a dialog box, and reads in the string entered by the user. The string read is  assigned to the variable <code>username</code>. The function <code>prompt()</code> is similar to the <code>alert()</code>, but it accepts a user's input.</li>

<li>In Line 10, the <code>confirm(<em>str</em>)</code> function puts up the message and returns either <code>true</code> or <code>false</code>, depending on whether the user hits the OK or Cancel button.</li>

<li>If the result is <code>true</code>, Line 11 prints <code>&quot;Hello, <em>username</em>!&quot;</code>. Otherwise, Line 13 prints <code>&quot;Hello, world!&quot;</code>.</li>
</ol>

<p><span class="lead">TRY:</span> Instead of printing the greeting message using <code>document.write()</code>, do it via an <code>alert()</code>.</p>

<h4>Client-Side JS EG 3: The <code>Date</code> Object</h4>

<p>The following script creates a <code>Date</code> object representing the current date-time, and prints the current time.</p>

<pre data-line="7-21"><code class="language-html line-numbers">&lt;!DOCTYPE html&gt;
&lt;!-- JSExDate.html --&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;JavaScript Example: The Date object&lt;/title&gt;
  &lt;script&gt;
    var now  = new Date();        // current date/time
    var hrs  = now.getHours();    // 0 to 23
    var mins = now.getMinutes();
    var secs = now.getSeconds();
    document.writeln("&lt;p&gt;It is " + now + "&lt;/p&gt;");
    document.writeln("&lt;p&gt;Hour is " + hrs + "&lt;/p&gt;");
    document.writeln("&lt;p&gt;Minute is " + mins + "&lt;/p&gt;");
    document.writeln("&lt;p&gt;Second is " + secs + "&lt;/p&gt;");
    if (hrs &lt; 12) {
      document.writeln("&lt;h2&gt;Good Morning!&lt;/h2&gt;");
    } else {
      document.writeln("&lt;h2&gt;Good Afternoon!&lt;/h2&gt;");
    }
  &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;&lt;/body&gt;
&lt;/html&gt;</code></pre>	

<h5>How it Works?</h5>

<ul>
<li>Line 8 declares a <em>variable</em> called <code>now</code>. It also creates a <code>Date</code> object (via the <code>new</code> operator), which contains the current date-time stamp, and assign it to <code>now</code>.</li>

<li>&quot;<code>//</code>&quot; begins an <em>end-of-line comment</em> (Lines 8 and 9). Comments are ignored by the JavaScript engine but important in explaining your codes to others (and to yourself three days later).</li>

<li>Line 9 declares a variable called <code>hrs</code>. It also invokes the function <code>getHours()</code> on object <code>now</code>, in the form of <code>now.getHours()</code>, to retrieve the hour part of object <code>now</code>, and assign it to variable <code>hrs</code>. Lines 9 and 10, similarly, handle the minutes and seconds.</li>

<li>Line 12 to 14 use <code>document.writeln()</code> to write to the current document. <code>writeln()</code> (write-line) writes a newline (<code>\n</code>) after the given string. Take note that browser ignores extra white space (newlines, blanks, tabs) in an HTML document; you need to write a <code>&lt;p&gt;...&lt;/p&gt;</code> or <code>&lt;br&gt;</code> tag to ask the browser to display a line break.</li>

<li>Lines 16-20 contains a <em>conditional if-then-else</em> statement.  Depending on the value of <code>hrs</code>, one of the messages will be displayed.</li>
</ul>

<h5>TRY:</h5>

<ol>
<li>Modify the above script to print the current date, month, year and day of the week. (<em>Hints</em>: Use functions <code>getDate()</code>, <code>getMonth()</code>, <code>getFullYear()</code> and <code>getDay()</code> of a <code>Date</code> object. <code>getDate()</code> returns 1-31. <code>getMonth()</code> returns 0 to 11 for January to December. <code>getFullYear()</code> returns a 4-digit year. <code>getDay()</code> returns 0 to 6 for Sunday to Saturday).</li>

<li>Use a conditional statement to print the day of the week in word (i.e., 0 for Sunday, 1 for Monday and etc.). (<em>Hints</em>: Use the <code>if-elseif-elseif...else</code> construct as follow.)
<pre class="syntax">
<strong>if (</strong> <em>condition-1</em> <strong>) {</strong>
   <em>block</em>-1 ;
<strong>} else if (</strong> <em>condition-2</em> <strong>) {</strong>
   <em>block</em>-2 ;
<strong>} else if (</strong> <em>condition-3</em> <strong>) {</strong>
   <em>block</em>-3 ;
......
......
<strong>} else {</strong>
   <em>block-n</em> ;
<strong>}</strong></pre></li>
</ol>

<h4>Client-Side JS EG 4: Loops</h4>

<p>The following script prompts the user for a multiplier, and prints the multiples of 1 to 100 using a for-loop.</p>

<pre data-line="10-15"><code class="language-html line-numbers">&lt;!DOCTYPE html&gt;
&lt;!-- JSExLoop.html --&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;JavaScript Example: Loop&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h2&gt;Testing Loop&lt;/h2&gt;
  &lt;script&gt;
    var multiplier = prompt("Enter a multiplier: ");
    for (var number = 1; number &lt;= 100; number++) {
      document.writeln(number * multiplier);
    }
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<h5>How it Works?</h5>

<ul>
<li>Line 11 prompts the user for a number, and assigns it to the variable <code>multiplier</code>.</li>

<li>Lines 12-14 contain a <em>for-loop</em>. A <em>for-loop</em> takes the following syntax:
<pre class="syntax">
<strong>for (</strong> <em>initialization</em> <strong>;</strong> <em>test</em> <strong>;</strong> <em>post-processing</em> <strong>) {</strong>
   <em>body</em> <strong>;</strong>
<strong>}</strong></pre>

<img class="image-float-right" src="../java/images/Construct_ForLoop.png" alt="image"/>

<p>There are four parts in a for-loop. Three of them, <em>initialization</em>, <em>test</em> and <em>post-processing</em>, are enclosed in brackets <code>()</code> and separated by  2 semicolons. The <em>body</em> contains the repetitive task to be performed. The <em>initialization</em> statement is first executed. The <em>test</em> is then evaluated.  If the <em>test</em> returns true, the <em>body</em> is executed; followed by the <em>post-processing</em> statement. The <em>test</em> is evaluated again and the process repeats until the <em>test</em> returns false.  When the <em>test</em> is false, the for-loop completes and program execution continues to the next statement after the for-loop. The following flow chart illustrates the for-loop process:</p>

<p>In this example, the variable <code>number</code> is initialized to 1. If <code>number</code> is less than or equal to 100, the body of the loop executes, followed by the post-processing statement, which increment the value of <code>number</code> by 1. The loop repeats until the value of <code>number</code> is NOT less than or equal to 100 (i.e., more than 100).</p>
</li>
</ul>

<h5>TRY:</h5>
<ol>
  <li>Modify the above script to prompt the user for the multiplier as well as the number of multiples to be printed (in two <code>prompt()</code> statements).</li>
  <li>Modify the above script to print only multiples that are odd number. (<em>Hint</em>: The modulo operator &quot;<code>%</code>&quot; can be used to compute the remainder, e.g., <code>x % 2</code> computes the remainder of <code>x</code> divides by 2, which results in either 0 or 1.)</li>
</ol>

<h4>Client-Side JS EG 5: User-defined Functions and <code>onclick</code> Event Handler</h4>

<p>Besides the JavaScript built-in functions such as <code>alert()</code>, <code>prompt()</code>, <code>write()</code>, and <code>writeln()</code>, you can define your own functions. A function has a name and a body consisting of a set of JavaScript statements that collectively performs a certain task. It may take zero or more argument(s) from the caller and return zero or one value back to the caller.</p>
	
<pre data-line="8-10,15-16"><code class="language-html line-numbers">&lt;!DOCTYPE html&gt;
&lt;!-- JSExEvent.html --&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;JavaScript Example: User-defined function and onclick Event Handler&lt;/title&gt;
  &lt;script&gt;
    function openNewWindow() {
      open("JSExAlertWrite.html");
    }
  &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h2&gt;Example on event and user-defined function&lt;/h2&gt;
  &lt;input type="button" value="Click me to open a new window"
         onclick="openNewWindow()"&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<h5>How it Works?</h5>

<ul>
<li>Lines 8-10 define a function called <code>openNewWindow()</code>, via the keyword <code>function</code>. The function invokes the built-in function <code>open(<em>url</em>)</code>, which opens a new browser window (or tab) and loads the page &quot;<code>JSEx1.html</code>&quot;.</li>

<li>Lines 15-16 create an HTML <em>button</em>. Clicking the button triggers the <code>onclick</code> event handler, i.e., <code>openNewWindow()</code> defined earlier.</li>
</ul>

<p><span class="lead">TRY:</span> Include another button, which opens &quot;<code>JSExVar.html</code>&quot;.</p>

<h4>Client-Side JS EG 6: More Event Handlers: <code>onload</code>, <code>onmouseover</code> and <code>onmouseout</code></h4>

<p>JavaScript can be used to handle many types of events, in response to a user's action or browser's action. For example,</p>

<ul>
<li><code>onload</code>: fires <em>after</em> browser loaded the page.</li>
<li><code>onmouseover</code> and <code>onmouseout</code>: fires when the user points the mouse pointer at/away from the HTML element.</li>
</ul>
<pre data-line="8,11,13-14"><code class="language-html line-numbers">&lt;!DOCTYPE html&gt;
&lt;!-- JSExMoreEvents.html --&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;JavaScript Example: Events onload, onmouseover and onmouseout&lt;/title&gt;
  &lt;script&gt;
    var msgLoad = "Hello!";
  &lt;/script&gt;
&lt;/head&gt;
&lt;body onload="alert(msgLoad)"&gt;
  &lt;p&gt;"Hello" alert Box appears &lt;em&gt;after&lt;/em&gt; the page is loaded.&lt;/p&gt;
  &lt;p onmouseover="this.style.color='red'"
     onmouseout="this.style.color=''"&gt;Point your mouse pointer here!!!&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<h5>Dissecting the Program</h5>

<ul>
<li>Line 8 defines a variable <code>msgLoad</code>, which holds the strings to be displayed in the <code>onload</code> event handlers.</li>

<li>In the <code>&lt;body&gt;</code> opening tag (Line 12), we define the <code>onload</code> event handler for the <code>load</code> event. It invokes <code>alert()</code> with the message defined earlier.</li>

<li>Line 13 and 14 defines the event handlers <code>onmouseover</code> and <code>onmouseout</code> for the HTML element <code>&lt;p&gt;</code>. The text's color will be changed to red when the user points the mouse pointer at the element (by setting the CSS style property <code>color</code> to red), and revert back to its original color when the mouse pointer is moved away (by resetting the CSS style property <code>color</code> to an empty string). The special keyword <code>this</code> refer to this object.</li>
</ul>

<h4>Client-Side JS EG 7: Separating HTML, CSS and JavaScript</h4>

<p>The previous example works fine. You will find many such example in textbooks, especially the older textbooks. However, it has a big problem. All the HTML contents, CSS presentation styles and JavaScript programming codes are placed in a single file. For a small toy program, the problem is not serious. But when your program grows and if the HTML, CSS and JavaScript are written by different people, you will have a real challenge in maintaining the program. Remember that HTML is for the <em>contents</em>, CSS for <em>presentation</em> and JavaScript for the <em>behavior</em>.</p>

<p>Let's rewrite the example to place the HTML, CSS and JavaScript in three different files.</p>
	
<pre data-line="7,12"><code class="language-html line-numbers">&lt;!DOCTYPE html&gt;
&lt;!-- JSExFiles.html --&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;JavaScript Example: Separating HTML, CSS and JavaScript&lt;/title&gt;
  &lt;link rel="stylesheet" href="JSExFiles.css"&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;p&gt;"Hello" alert Box appears &lt;em&gt;after&lt;/em&gt; the page is loaded.&lt;/p&gt;
  &lt;p id="magic"&gt;Point your mouse pointer here!!!&lt;/p&gt;
  &lt;script src="JSExFiles.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<pre><code class="language-css line-numbers">/* JSExFiles.css */
@CHARSET "UTF-8";

.highlight {
  color: red;
}</code></pre>

<pre><code class="language-js line-numbers">// JSExFiles.js
window.onload = function() {
   init();
   alert("Hello!");
}
 
function init() {
   document.getElementById("magic").onmouseover = function() {
      this.className = "highlight";
   }
   document.getElementById("magic").onmouseout = function() {
      this.className = "";
   }
}</code></pre>

<h5>How it Works?</h5>

<ol>
<li>Placing the scripting codes inside the HTML page is not a good software engineering practice. Instead, the now-preferred approach is to place the scripts, as well as CSS styles, in external files, which can then uniformly applied to all pages in your website.</li>

<li>Let's begin with the HTML file. Now, the HTML file keeps only the contents, no presentation style and nor programming logic.
  
<ol>
<li><span class="lead-code">&lt;link rel=&quot;stylesheet&quot; href=&quot;JSExFiles.css&quot;&gt;</span><br>
The CSS style sheet is kept in an external file, referenced via the above <code>&lt;link&gt;</code> tag.<br>
Note: In HTML4/XHTML1.0 you need to include attribute <code>type=&quot;text/css&quot;</code> in the <code>&lt;link&gt;</code> opening tag.</li>

<li><span class="lead-code">&lt;script src=&quot;JSExFiles.js&quot;&gt;&lt;/script&gt;</span><br>
Also, the JavaScript programming code is kept in an external file, referenced via the above <code>&lt;script&gt;</code> tag. Take note that the closing tag <code>&lt;/script&gt;</code> is needed, although there is no content.<br>
Note: In HTML4/XHTML1.0, you need to include attribute <code>type=&quot;text/JavaScript&quot;</code> in the <code>&lt;script&gt;</code> opening tag.</li>

<li><span class="lead-code">&lt;p id=&quot;magic&quot;&gt;Point your mouse pointer here!!!&lt;/p&gt;</span><br>
We provide an unique <code>id</code> to this <code>&lt;p&gt;</code> tag. This <code>id</code> will be used in the JavaScript to select this tag.</li>
</ol>
</li>
  
<li>The CSS file contains only one style definition:<br>
<span class="lead-code">.highlight { color:red; }</span><br>
This define a CSS Class-Selector called <code>highlight</code>
to display the element with <code>class=&quot;highlight&quot;</code> in color red.</li>

<li>In the JavaScript:

<ol>
<li><span class="lead-code">window.onload = function() { ... }</span><br>
We attach a so-called <em>inline</em> function as the <code>onload</code> event handler. This function will be invoked after the page is fully loaded.</li>

<li><span class="lead-code">document.getElementById(&quot;magic&quot;).onmouseover = function() { this.className = &quot;highlight&quot;; }</span><br>
We use <code>document.getElementById(&quot;magic&quot;)</code> function to select the <code>&lt;p id=&quot;magic&quot;&gt;</code> element. We then attach an inline function as the <code>onmouseover</code> event handler for this <code>&lt;p&gt;</code> element. When the user moves the mouse over this element, this function changes the <code>class</code> attribute to &quot;<code>highlight</code>&quot;. In response, the CSS turns the <code>&lt;p&gt;</code> element to color red.</li>

<li><span class="lead-code">document.getElementById(&quot;magic&quot;).onmouseout = function() { this.className = &quot;&quot;; }</span><br>
Similarly, when the user moves the mouse out of the <code>&lt;p id=&quot;magic&quot;&gt;</code> element, the event handler changes the <code>class</code> attribute to &quot;&quot;. In response, CSS changes the color to its default.</li>

<li><span class="lead-code">alert(&quot;Hello!&quot;)</span><br>
This puts up an alert dialog box.</li>
</ol></li>
</ol>
	
<h5>Where to place the CSS <code>&lt;link&gt;</code> Tags?</h5>
<p>It is recommended to place the CSS's <code>&lt;link&gt;</code> tags in the <code>HEAD</code> section. This allows the CSS to be loaded first. The styles can then be applied while your HTML elements are loaded, rather than showing an un-styled HTML page.</p>
	
<h5>Where to place the External <code>&lt;script&gt;</code> Tags?</h5>
<p>It is recommended to place the <code>&lt;script&gt;</code> tags just before the closing <code>&lt;/body&gt;</code> tag. Loading your scripts last allows your site to show your document more quickly and discourage your JavaScript from trying to interact with elements that haven't been loaded yet.</p>
	
	
<h4>Client-Side JS EG 8: Manipulating the Contents of HTML Elements</h4>

<p>You can select HTML element(s) within the current page via these JavaScript built-in functions:</p>

<ol>
<li><span class="lead-code">document.getElementById(<em>idName</em>)</span>: returns the HTML element with <code>id=&quot;<em>idName</em>&quot;</code>, or <code>null</code> if the <code>id</code> does not exist. The <code>id</code> value should be unique within an HTML document.</li>

<li><span class="lead-code">document.getElementsByTagName(<em>tagName</em>)</span>: returns an array of HTML elements with the given HTML tag.</li>

<li><span class="lead-code">document.getElementsByClassName(<em>className</em>)</span>: returns an array of HTML elements having attribute <code>class=&quot;<em>className</em>&quot;</code>.</li>

<li><span class="lead-code">document.getElementsByName(<em>name</em>)</span>: returns an array of HTML elements having attribute <code>name=&quot;<em>name</em>&quot;</code>.</li>
</ol>

<p>To modify the content of an HTML element, you can assign a new value to the <code>textContent</code> property of that element.</p>

<pre data-line="18"><code class="language-html line-numbers">&lt;!DOCTYPE html&gt;
&lt;!-- JSExInnerHtml.html --&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;JavaScript Example: Modifying the Text Content of HTML Elements&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1 id="heading1"&gt;Heading 1&lt;/h1&gt;
  &lt;h2&gt;Heading 2&lt;/h2&gt;
  &lt;h2&gt;Heading 2&lt;/h2&gt;
  &lt;p class="para"&gt;Paragraph 1&lt;/p&gt;
  &lt;p class="para"&gt;Paragraph 2&lt;/p&gt;
  &lt;p class="para"&gt;Paragraph 3&lt;/p&gt;
  &lt;input type="button" id="btn1" value="Change Heading 1" /&gt;
  &lt;input type="button" id="btn2" value="Change Heading 2" /&gt;
  &lt;input type="button" id="btn3" value="Change Paragraph" /&gt;
  &lt;script src="JSExInnerHtml.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
	
<pre><code class="language-js line-numbers">// JSExInnerHtml.js
window.onload = init;

function init() {
   document.getElementById("btn1").onclick = changeHeading1;
   document.getElementById("btn2").onclick = changeHeading2;
   document.getElementById("btn3").onclick = changeParagraph;
}

function changeHeading1() {
   const elm = document.getElementById("heading1");  // id is unique
   elm.textContent = "hello";

   // Create a new element and insert after h1
   const newElm = document.createElement('p');
   newElm.textContent = "hello, hello";
   elm.after(newElm);
}

function changeHeading2() {
   const elms = document.getElementsByTagName("h2");  // Array of elements
   for (let i = 0; i &lt; elms.length; i++) {  // using traditional for(;;) loop
      elms[i].textContent = "hello, again";
   }
}

function changeParagraph() {
   const elms = document.getElementsByClassName("para");  // Array of elements
   for (const elm of elms) {  // using JavaScript's for...of loop
         // using const-declaration as a new block-scope elm is created for each iteration
      elm.textContent = "hello, again and again";
   }
}</code></pre>

<h5>How it works?</h5>

<ol>
<li>This HTML document contains a <code>&lt;h1&gt;</code> element with an unique <code>id=&quot;heading1&quot;</code>, two <code>&lt;h2&gt;</code> elements, three <code>&lt;p&gt;</code> elements with <code>class=&quot;para&quot;</code>, and three <code>&lt;input type=&quot;button&quot;&gt;</code> with unique <code>id</code>.</li>

<li>In the user-defined function <code>changeHeading1()</code>, we use <code>document.getElementById(&quot;heading1&quot;)</code> to select the <code>&lt;h1&gt;</code> element, and then modify its <code>textContent</code> property.</li>

<li>In <code>changeHeading2()</code> function, we use <code>document.getElementsByTagName(&quot;h2&quot;)</code> to select all the <code>&lt;h2&gt;</code> elements in an array <code>elms</code>. We then use a for-loop to iterate through all the elements in the array. The <code>elms.length</code> property keeps the length of the array.</li>

<li>In <code>changeParagraph()</code> function, we use <code>document.getElementsByClassName(&quot;para&quot;)</code> to select all the <code>&lt;p&gt;</code> elements. We use JavaScript's <code>for...of</code> loop to iterate through all the elements. We use the safest <code>const</code>-variable, as <code>for...of</code> loop create a new block-scope variable for each iteration; but the traditional <code>for(;;)</code> does not.</li>

<li>The page contains three buttons to trigger the functions defined.</li>
<li>in order to manipulate elements in the DOM using JavaScript, the JavaScript code must be run after the 
  relevant element has been created in the document. This can be done by putting the JavaScript just before the ending <code>&lt;/body&gt;</code> tag.</li>

<li>The script contains a function <code>init()</code>, which is assigned as the <code>onload</code> handler via <code>window.onload=init</code>. That is, <code>init()</code> will be triggered <em>after</em> the page is loaded. The <code>init()</code> function assigns <code>onclick</code> event handlers to the buttons, selected via <code>document.getElementById()</code> using the unique buttons' <code>id</code>.</li>
<li>Instead of <code>textContent</code> property, older versions of JavaScript use <code>innerHTML</code>  (which includes both texts and markups) to modify the content of the selected element. According to MDN: "<code>textContent</code> should be used instead. Because the text is not parsed as HTML, it's likely to have better performance. Moreover, this avoids an XSS (Cross-Site Scripting) attack vector."</li>
</ol>

<h4>Client-Side JS EG 9: Intercepting a Hyperlink</h4>

<p>This example uses a script to intercept a hyperlink to put up a warning message, then proceed to the link.</p>

<pre data-line="9-10"><code class="language-html line-numbers">&lt;!DOCTYPE html&gt;
&lt;!-- JSExLink.html --&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;JavaScript Example: Intercept an Hyperlink&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;a href="JSExAlertWrite.html" id="myLink"&gt;JavaScript Example 1&lt;/a&gt;
  &lt;script src="JSExLink.js" &gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<pre><code class="language-js line-numbers">// JSExLink.js
window.onload = init;
 
function init() {
  document.getElementById("myLink").onclick = showWarning;
}
 
function showWarning() {
  return confirm("Warning! Proceed with care!");
}</code></pre>

<h5>How it works?</h5>

<ol>
<li>The HTML page has an hyperlink <code>&lt;a&gt;</code> with an unique <code>id</code>.</li>

<li>The <code>init()</code> function assigns an <code>onclick</code> handler to the hyperlink, selected via <code>document.getElementById()</code>.</li>

<li>When the hyperlink is clicked, the <code>onclick</code> handler <code>showWarning()</code> triggered. If <code>confirm()</code> returns true, the new page will be loaded; otherwise, the current page remains.</li>
</ol>

<h4>More Advanced JavaScript Examples</h4>

<p>More &quot;<a href="JavaScript_Examples.html">Advanced JavaScript Examples</a>&quot;.</p>

<h4 id="JavaScript_Debug">Debugging JavaScripts</h4>

<p>A graphic debugger is a MUST in programming. Programming in JavaScript, in particular, requires a good debugger. It is because JavaScripts are interpreted and does not need to be compiled. Hence, there is no compiler to show you the syntax errors. A simple and trivial syntax error (e.g., missing bracket, mis-spelling) will render the entire script not workable. Worst still, you would not see any error message when the script did not work. Can you debug without any error message or clue?</p>

<p>Without a graphic debugging, the only mean to debug JavaScript is to insert <code>alert()</code> at strategic locations to print out selected data.</p>
<p>After  modifying a JavaScript, I recommend that you use Ctrl-F5 to refresh the page, which shall load a fresh copy instead of loading from the cache. You might need to clear the browser's cache or re-start the browser, if you modification does not take effect.</p>

<h5>F12 Web Developer Tools</h5>
<p>In Chrome and Firefox, you can press F12 to activate the developer Tools (hence called F12 Developer Tools).</p>
<p>It provides these features:</p>

<ol>
  <li>Console: View the JavaScript <em>error messages</em>. Start the firebug and switch to the &quot;Console&quot; panel.</li>
<li>Script: View and <em>debug</em> JavaScript. Start the firebug. Switch to the &quot;Script&quot; panel. &quot;Enable&quot; or &quot;Reload&quot; if necessary. You can set a breakpoint by clicking on the statement number, single step through the JavaScript statements, watch the expression, and etc.</li>
<li>DOM: View the HTML DOM of the current document.</li>
<li>HTML and CSS.</li>
</ol>

<p>To debug JavaScript:</p>
<ol>
<li>Launch Firebug &rArr; Choose the &quot;Script&quot; panel to view your JavaScript, shown with green-bold line numbers.</li>
<li>Refresh (Ctrl-F5) the page, and check the <em>error console</em> (Under &quot;Console&quot; &rArr; &quot;Errors&quot;) for syntax errors! Correct all the syntax errors.</li>
<li>To trace the program, set <em>breakpoints</em> at selected JavaScript statements, by clicking on the right margin (to the left of line number). A red circle shows up denoting a breakpoint. Take note that you can only set breakpoint on statements with a green-bold line number. [If your JavaScript statements do not have a green-bold line number, there are syntax errors on these statements. You need to correct the syntax errors and reload the page.]</li>
<li>Trigger the script (via clicking button/link, or reloading the page). The execution stops at the first breakpoint. You can then step-over the statement (or step-into function), and inspect the variables by positioning the mouse pointer on the variable; or add the variable to &quot;watch&quot;.</li>
<li>You can resume the execution (via the continue button).</li>
</ol>

<h5>The <code>console.log()</code></h5>

<p>Instead of using <code>alert()</code> and <code>document.write()</code> to show the intermediate results, you can also use <code>console.log(<em>message</em>[, <em>element</em>])</code>, which writes the <code><em>message</em></code> and the value of the <code><em>element</em></code> to the error console. It does not interfere the appearance you web page nor your normal operations.</p>

<p>For example, modify the JavaScript in Example 8 to print the values of innerHTML before modification.  You need to turn on the console (press F12) to see the output.</p>

<pre data-line="12,19,27"><code class="language-js line-numbers">// JSExInnerHtmlDebug.js
window.onload = init;
 
function init() {
  document.getElementById("btn1").onclick = changeHeading1;
  document.getElementById("btn2").onclick = changeHeading2;
  document.getElementById("btn3").onclick = changeParagraph;
}
 
function changeHeading1() {
  var elm = document.getElementById("heading1");  // One element
  console.log(elm.innerHTML);  // Print current value before modification
  elm.innerHTML = "Hello";
}
 
function changeHeading2() {
  var elms = document.getElementsByTagName("h2");  // Array of elements
  for (var i = 0; i &lt; elms.length; i++) {
    console.log(elms[i].innerHTML);
    elms[i].innerHTML = "Hello again!";
  }
}
 
function changeParagraph() {
  var elms = document.getElementsByClassName("para");  // Array of elements
  for (var i = 0; i &lt; elms.length; i++) {
    console.log(elms[i].innerHTML);
    elms[i].innerHTML = "Hello again and again!";
  }
}</code></pre>

<h4>JavaScript and HTML</h4>
<p>As seen from the previous examples, JavaScripts are embedded inside an HTML document, and executed by the browser. There are two occasions on which browser executes JavaScript instructions:</p>
<ol>
<li>JavaScripts enclosed in <code>&lt;script&gt;...&lt;/script&gt;</code> runs during loading of the page.</li>
<li>Some JavaScripts, called <em>event handlers</em>, run as a result of the user's or browser's action (or <em>event</em>).  For example, clicking a button (<code>onclick</code>) or loaded a page (<code>onload</code>).</li>
</ol>

<p>There are, therefore, two places to put your JavaScript:</p>
<ol>
<li>between <code>&lt;script&gt;</code> and <code>&lt;/script&gt;</code> container tags; and</li>
<li>inside the HTML tags as the event handlers (such as <code>onclick</code>, <code>onmouseover</code>, <code>onload</code>), e.g., <code>onclick=&quot;<em>JavaScriptStatements</em>&quot;</code>.</li>
</ol>

<h5>The <code>&lt;script&gt;</code> Element</h5>

<p>The <code>&lt;script&gt;...&lt;/script&gt;</code> element contains the JavaScript programming statements. For example,</p>

<pre class="syntax">&lt;script&gt;
<span class="comment">... Your JavaScript statements here ...</span>
&lt;/script&gt;</pre>

<p>In HTML4/XHTML1.0, you need to include the attribute <code>type=&quot;text/javascript&quot;</code> in the <code>&lt;script&gt;</code> opening tag.</p>

<h5>In <code>&lt;head&gt;</code> or <code>&lt;body&gt;</code>?</h5>

<p>You can place your JavaScript in either the <code>HEAD</code> section (called Header Script) or <code>BODY</code> section (called Body Script) of an HTML document. Typically, global variables and function definitions are placed in <code>HEAD</code> section, which will always be loaded and available to be used by the scripts in the <code>BODY</code> section. If you script refers to the DOM elements. place it before the <code>&lt;/body&gt;</code>, so as to ensure that the DOM is constructed. Placing the <code>&lt;script&gt;</code> outside the HEAD or BODY causes a HTML5 validation error.</p>

<p>The best practice is to place the external <code>&lt;script&gt;</code> tags just before the closing <code>&lt;/body&gt;</code> tag. Loading your scripts last allows your site to show your document more quickly and discourage your JavaScript from trying to interact with elements that haven't been loaded yet.</p>

	
<h5>External JavaScripts</h5>
<p>The <em>now-preferred</em> approach is to keep the JavaScript in an external file with file extension of &quot;<code>.js</code>&quot;, and reference it via the <code>src </code>(source) attribute as follows:</p>

<pre class="syntax">&lt;script  src=&quot;<em>JavaScriptFilename</em>.js&quot;&gt;<span class="comment"></span>&lt;/script&gt;</pre>

<p>Take note that the closing tag <code>&lt;/script&gt;</code> is needed although there is no content!?</p>
<p>In HTML4/XHTML1.0, you need to include <code>type=&quot;text/javascript&quot;</code> in the <code>&lt;script&gt;</code> opening tag.</p>

<h5>The <code>&lt;noscript&gt;</code> Element</h5>
<p>The <code>&lt;noscript&gt;...&lt;/noscript&gt;</code> element provide an alternate message if scripting is disabled or not supported.</p>


	

<h3>Standalone JavaScript by Examples</h3>

<p>To run JavaScript standalone (NOT inside a web browser which has a built-in JavaScript engine), you need to install Node.js, which provide an JavaScript engine. See Node.js article on how to install Node.js.</p>
	
<h5>Standalone JS Eg 1: <code>Console.log()</code> and User-Defined Function</h5>
	
<pre><code class="language-js line-numbers">// Hello.js
var msg = "hello";  // string
helloFunction();

function helloFunction() {
   let i = 99;       // integer
   const f = 55.66;  // float
   console.log(msg + " world");
   console.log(f, ++i);
}</code></pre>
	
<p>To run the script, open a CMD/Terminal and issue:</p>
<pre class="command">node Hello.js</pre>
<pre class="output">hello world
55.66 100</pre>
	
<h5>How it Works</h5>
<ul>
<li>ES6 introduces two new keywords: <code>let</code> to declare a local variable (block-scope), and <code>const</code> to declare a local constant. <code>var</code> will be used to declare a global variable.</li>
<li><code>Console.log()</code> writes to the <em>System (error) Console, </em>just like <code>printf()</code> in C or <code>System.out.println()/System.err.println()</code> in Java.</li>
<li>If you wrap the above codes inside <code>&lt;script&gt;...</code><code>&lt;/script&gt;</code> tags, and run it under a web browser, you will need to activate the debugger (Web Developer Tools) to see the outputs. See the above section on client-side examples.</li>
</ul>
	
<h5>Standalone JS Eg 2: [TODO]</h5>
	
<p>[TODO] Check Limitations such as File IO, Networking etc. Compare with Shell Script and Python script for automation.</p>
	
<h3>Server-Side JavaScript by Examples</h3>
<p>You can also use JavaScript to program a server-side webapp, just like Java Servlet/JSP, Microsoft ASP, PHP, Python, etc. The appeal is that you can use one single language to program both the client-side and the server-side in a webapp.</p>
<p>See Node.js article.</p>
	
<h3>JavaScript Basic Syntax</h3>

<h4>Comments</h4>

<p>Comments are ignored by the JavaScript runtime but greatly useful in explaining your codes to others (and also to yourself three days later).  You should use comments liberally to explain or document your codes.</p>

<p>An <em>end-of-line comment</em> begins with <code>//</code> and lasts till the end of the current line. A <em>multi-line comment</em> begins with <code>/*</code> and lasts till <code>*/</code>. </p>

<p>Take note that:</p>
<ul>
<li>HTML comments are enclosed inside <code>&lt;!-- ... --&gt;</code>.</li>
<li>CSS supports multi-line comment <code>/* ... */</code>, but NOT end-of-line comment <code>//</code>.</li>
<li>JavaScript supports both  <code>/* ... */</code> and <code>//</code>, like Java/C/C++/C#.</li>
</ul>

<h4>Whitespaces (blank, tab, newline)</h4>
<p>Like C/C++/Java, JavaScript ignores additional whitespaces (blanks, tabs, and newlines).  I strongly recommend that you use additional whitespaces to format your program to make your code easier to read and understand.</p>

<h4>Expressions</h4>
<p>An <em>expression</em> is a combination of <em>variables</em>, <em>literals</em>, <em>operators</em>, and <em>sub-expressions</em> that can be evaluated to produce <em>a single value</em>.</p>

<h4>Statements, Semicolon and Blocks</h4>
<p>A <em>statement</em> is a single programming instruction. Unlike C/C++/Java, where you need to end a statement with a semicolon (<code>;</code>), in JavaScript the semicolon is <em>optional</em>. However, if semicolon is missing, you need to end the statement with a newline (and JavaScript engine will insert a semicolon for you).</p>

<p>Semicolons in JavaScript divide the community. Some prefer to use them always, no matter what. Others like to avoid them for brevity. I shall leave it to you.</p>

<p>A <em>block</em> consists of zero or more statements enclosed in a pair of curly braces <code>{ <em>statements</em> }</code>. No semicolon is needed after the closing brace.</p>

<h4>Variables, Literals &amp; Types</h4>

<h5>Variable declarations (<code>var</code>, <code>let</code>, <code>const</code>) and Assignment Operator (<code>=</code>)</h5>

<p>A variable is a <em>named</em> storage location that holds a <em>value</em>. Prior to ES6, you can only use <code>var</code> to declare global variables. ES6 introduces two new keywords: <code>let</code> to declare a <em>local block-scope</em> variable, and <code>const</code> to declare a local block-scope constant.</p>
<p>You should try <code>const</code> (safest), followed by <code>let</code>, and avoid <code>var</code>.</p>
<p>You can assign (and re-assign) a value to a variable using the assignment (<code>=</code>) operator. For example,</p>

<pre class="example">
<span class="new">const</span> magic = 88;              <span class="comment">// const-variable's value cannot change</span>
for (<span class="new">let</span> i = 0; i &lt; 5; ++i) {  <span class="comment">// i has local block-scope</span>
   console.log(i);
}
<span class="new">var</span> font_size = 12;            <span class="comment">// var-variable is global</span></pre>

<h5>Identifiers</h5>

<p>Identifiers are names given to identify entities (such as variables and functions). The rules for valid identifiers are:</p>

<ul>
<li>An identifier can contain letters (<code>a-z</code>, <code>A-Z</code>), digits (<code>0-9</code>), underscore (<code>_</code>) and dollar sign (<code>$</code>). But it cannot begin with a digit (<code>0-9</code>).</li>
<li>Identifiers are case-sensitive. A <code>rose</code> is NOT a <code>Rose</code>, and is NOT a <code>ROSE</code>.</li>
<li>Identifiers cannot be keywords.</li>
<li>Take note that hyphen (<code>-</code>) and space are NOT allowed. Hence, <code>font-size</code>, <code>roman new</code>, are NOT valid identifiers. You should use underscore (<code>_</code>) instead of hyphen (<code>-</code>).</li>
</ul>

<h5>Literals</h5>

<p>A <em>literal</em> is a fixed value, e.g., <code>5566</code>, <code>3.14</code>, <code>&quot;Hello&quot;</code>, <code>'apple'</code>, <code>true</code>, <code>null</code>,  that can be assigned to a variable, or form part of an expression.</p>

<h5>Types</h5>

<p>JavaScript is object-oriented. But, It supports both <em>primitive types</em> and <em>objects</em>.</p>

<p>Primitives are not objects and do not possess properties and methods. JavaScript supports these primitive types:</p>
<ol>
<li><span class="lead-code">string</span>: a sequence of characters. Strings literals are enclosed in a pair of <span class="highlight">single quotes</span> or <span class="highlight">double quotes</span> (e.g., <code>&quot;Hello&quot;</code>, <code>'world'</code>).</li>
<li><span class="lead-code">number</span>: takes both integer (e.g., <code>5566</code>) or floating-point (e.g., <code>3.14159265</code>).</li>
<li><span class="lead-code">boolean</span>: takes boolean literal of either <code>true</code> or <code>false</code> (in lowercase).</li>
<li><span class="lead-code">undefined</span>: takes a special literal value called <code>undefined</code>. Take note that <code>undefined</code> is both a type and a literal value.</li>
<li><span class="lead-code">symbol</span> (ES6): A data type whose instances are unique and immutable.</li>
<li><span class="lead-code">bigint</span> (ES2020/ES11): integers with arbitrary precision.</li>
</ol>

<p>JavaScript also supports these object types and value (we shall discuss object later):</p> 
<ol>
<li><span class="lead-code">object</span>: for general objects.</li>
<li><span class="lead-code">function</span>: for function objects. Unlike Java, function is a <em>first class object</em> in JavaScript, e.g., you can assign a function to a variable.</li>
<li><span class="lead-code">null</span>: A special literal value for unallocated (unconstructed) <code>object</code>. Take note that <code>null</code> is NOT <code>undefined</code>. The <code>typeof(null)</code> is  <code>object</code>. <code>null</code> is meant to represent an absence of a constructed object. <code>null</code> is actually considered to be a primitive as it has no properties and methods.</li>
</ol>

<p>Unlike most of the general programming languages (such as Java/C/C++/C#) which are strongly type, JavaScript is <em>loosely type</em> (similar to most of the scripting languages such as UNIX Shell Script, Perl, Python).  You do not have to explicitly declare the type of a variable (such as <code>int</code> and <code>float</code>) during declaration. The type is decided <em>when a value is assigned to that variable</em>.  If a number is assigned, the variable takes on the <code>number</code> type and can perform numeric operations such as addition and subtraction.  If a string is assigned, the variable takes on the <code>string</code> type and can perform string operations such as string concatenation. In other words, <em>the type is associated with the value, instead of the variable</em>.</p>

<h5>Operator <code>typeof</code></h5>

<p>You can use the operator <span class="highlight"><code>typeof</code></span> to check the type of the current value assigned to a variable. <code>typeof</code> returns a string.</p>
<pre class="syntax">typeof <em>varname</em>   <span class="comment">// typeof is an operator</span>
typeof(<em>varname</em>)  <span class="comment">// You can also invoke using function format</span></pre>
<p>For example,</p>
<pre class="example">let msg = 'hello'
console.log(typeof msg)  <span class="comment">//</span><span class="output">string</span>

let num = 5
console.log(typeof (num))  <span class="comment">//</span><span class="output">number</span></pre>

<h5>The <code>undefined</code> Type and <code>undefined</code> Literal Value</h5>

<p>An undeclared variable (via <code>var</code> keyword) takes on a special type called <code>undefined</code>. You cannot refer to its value.</p>

<p>When a variable is declared (via <code>var</code> keyword) without assigning an initial value, it takes on the type <code>undefined</code> and holds a special value called <code>undefined</code> (<code>uninitialized</code> is probably more precise?!), As soon as a value is assigned, the variable takes on the type of that value.  <em>The act of putting a value into a variable sets its type</em>. You can change the type of a variable by re-assigning a value of another type. In other words, type is associated with the value,  not the variable. Types are converted automatically  	as needed during execution (known as dynamically-typed).</p>

<p>For examples,</p>
<pre class="example">
<span class="comment">// Undeclared variable v99</span>
console.log('type: ' + typeof v99);  <span class="comment">//</span><span class="output">type: undefined</span>
console.log('value:' + v99);
<span class="comment">//</span><span class="error">ReferenceError: v99 is not defined</span></pre>
	
<pre class="example">
<span class="comment">// Declare variable v1, without assigning an initial value</span>
var v1;
console.log('type:' + typeof v1);  <span class="comment">//</span><span class="output">type:undefined</span>
console.log('value:' + v1);  <span class="comment">//</span><span class="output">value:undefined</span>

<span class="comment">// Assign a "string" value</span>
v1 = 'abc';
console.log('type:' + typeof v1);  <span class="comment">//</span><span class="output">type:string</span>
console.log('value:' + v1);  <span class="comment">//</span><span class="output">value:abc</span>

<span class="comment">// Assign a "number" string</span>
v1 = '123';
console.log('type:' + typeof v1);  <span class="comment">//</span><span class="output">type:string</span>
console.log('value:' + v1);  <span class="comment">//</span><span class="output">value: 123</span>

<span class="comment">// Assign an "integer" value</span>
v1 = 123;
console.log('type:' + typeof v1);  <span class="comment">//</span><span class="output">type:number</span>
console.log('value:' + v1);  <span class="comment">//</span><span class="output">value:123</span>

<span class="comment">// Assign a "floating point" value</span>
v1 = 55.66;
console.log('type:' + typeof v1);  <span class="comment">//</span><span class="output">type:number</span>
console.log('value:' + v1);  <span class="comment">//</span><span class="output">value:55.66</span>

<span class="comment">// Assign a "boolean" value</span>
v1 = false;
console.log('type:' + typeof v1)  <span class="comment">//</span><span class="output">type:boolean</span>
console.log('value:' + v1);  <span class="comment">//</span><span class="output">value:false</span>

<span class="comment">/* Test Objects */</span>
<span class="comment">// null object</span>
v1 = null;
console.log('type:' + typeof v1);  <span class="comment">//</span><span class="output">type:object</span>
console.log('value:' + v1);  <span class="comment">//</span><span class="output">value:null</span>

<span class="comment">// object</span>
v1 = { name:'peter', age:21 };
console.log('type:' + typeof v1);  <span class="comment">//</span><span class="output">type:object</span>
console.log('value:' + v1);  <span class="comment">//</span><span class="output">value:[object Object]</span>
console.log('value:' + v1.name);  <span class="comment">//</span><span class="output">value:peter</span>
console.log('value:' + v1.age);  <span class="comment">//</span><span class="output">value:21</span>

<span class="comment">// Date object</span>
v1 = new Date();
console.log('type:' + typeof v1);  <span class="comment">//</span><span class="output">type:object</span>
console.log('value:' + v1);  <span class="comment">//</span><span class="output">value:Thu Jun 02 2022 13:28:29 GMT+0800 (SGT)</span>

<span class="comment">// Function object</span>
v1 = function () {
   return 'hello';
};
console.log('type:' + typeof v1);p  <span class="comment">//</span><span class="output">type:function</span>
console.log('value:' + v1);
<span class="comment">//</span><span class="output">value:function () {</span>
<span class="comment">//</span><span class="output">  return 'hello';</span>
<span class="comment">//</span><span class="output">}</span></pre>

<h5>(ES6) Constants <code>const</code>-declaration</h5>

<p>You can create a read-only, named <em>constant</em> with the keyword <code>const</code> (in place of <code>var</code>). For example,</p>

<pre class="example">
const SIZE = 9;</pre>

<h4 id="numberType">The <code>number</code> Type, Literals &amp; Operations</h4>

<p>A variable of type <code>number</code> holds a number, either an integer or a floating-point number.</p>

<p>Integer literals can be expressed in:</p>
<ul>
<li><span class="lead-code">Decimal</span>: begins with a digit <code>1</code> to <code>9</code> (not <code>0</code>), e.g., <code>123</code> or <code>-456</code>,</li>
<li><span class="lead-code">Octal</span>: begins with a digit <code>0</code>, e.g., <code>0123</code> or <code>-0456</code>,</li>
<li><span class="lead-code">Hexadecimal</span>: begins with <code>0x</code> (or <code>0X</code>), e.g., <code>0xA1B2</code> or <code>-0XA1B2</code>.</li>
<li><span class="lead-code">Binary</span>: begins with <code>0b</code> (or <code>0B</code>), e.g., <code>0b10011100</code> or <code>-0B11001100</code>. [Binary may not be supported in some browsers.]</li>
</ul>

<p>Floating-point literals can be expressed in the usual form (e.g., <code>3.1416</code>) or scientific notation, e.g., <code>-1.23e4</code>, <code>4.56E-7</code>.</p>


<p>JavaScript also provides some special <code>number</code> literals:</p>
<ul>
<li><span class="lead-code">infinity</span>: e.g., <code>1/0</code></li>
<li><span class="lead-code">-infinity</span>: e.g., <code>-1/0</code></li>
<li><span class="lead-code">NaN (Not-a-Number)</span>: e.g., <code>0/0</code>, or converting the string <code>'Hello'</code> to a number.</li>
</ul>

<h5>Arithmetic Operations</h5>

<p>Arithmetic operations, as tabulated below, can be applied to numbers. The following results are obtained assuming that <code>x=5</code>, <code>y=2</code> before the operation.</p>

<table class="table-zebra">
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Result (<code>x=5</code>, <code>y=2</code>)</th>
</tr>
<tr>
<td class="text-center lead-code">+</td>
<td>Addition</td>
<td class="code">z = x + y;</td>
<td class="code">z is 7</td>
</tr>

<tr>
<td class="text-center lead-code">-</td>
<td class="font-normal">Subtraction (or Unary Negation)</td>
<td class="code">z = x - y;</td>
<td class="code">z is 3</td>
</tr>

<tr>
<td class="text-center lead-code">*</td>
<td>Multiplication</td>
<td class="code">z = x * y;</td>
<td class="code">z is 10</td>
</tr>

<tr>
<td class="text-center lead-code">/</td>
<td>Division</td>
<td class="code">z = x / y;</td>
<td class="code">z is 2.5</td>
</tr>

<tr>
<td class="text-center lead-code">%</td>
<td>Modulus (Division Remainder)</td>
<td class="code">z = x % y;</td>
<td class="code">z is 1</td>
</tr>

<tr>
<td class="text-center lead-code">++</td>
<td>Unary Pre- or Post-Increment</td>
<td class="code">y = x++; z = ++x;<br>
Same as: y = x; x = x+1; x = x+1; z = x;</td>
<td class="code">y is 5; z is 7; x is 7</td>
</tr>

<tr>
<td class="text-center lead-code">--</td>
<td>Unary Pre- or Post-Decrement</td>
<td class="code">y = --x; z = x--;<br>
Same as: x = x-1; y = x; z = x; x = x-1;</td>
<td class="code">y is 4; z is 4; x is 3</td>
</tr>
<tr>
  <td class="text-center lead-code">**</td>
  <td>Exponent<br>(ES7)</td>
  <td class="code">y ** x</td>
  <td class="code">&nbsp;</td>
</tr>
</table>

<p>In JavaScript, arithmetic operations are always performed in double-precision floating-points (NOT integers). That is, <code>1/2</code> gives <code>0.5</code> (instead of 0 in Java/C/C++). You may use the built-in function <code>parseInt()</code> to truncate a floating-point value to an integer, e.g., <code>parseInt(55.66)</code> and <code>parseInt(&quot;55.66&quot;)</code> gives <code>55</code>. You may also use the built-in mathematical functions such as <code>Math.round()</code>, <code>Math.floor()</code>, <code>Math.ceil()</code> for converting a floating-point number to an integer.</p>
	
<h5>Exponent Operator (<code>**</code>)</h5>
<p>ECMAScript 2016 (ES7) introduces exponent operator (<code>**</code>), you can write <code>a**n</code>, e.g., <code>2**5</code>.</p>
	
<p>Before ES7, you have to use built-in function <code>Math.pow(<em>base</em>, <em>exponent</em>)</code>.</p>

<h5>Arithmetic cum Assignment Operators</h5>
<p>These are short-hand operators to combine two operations.</p>

<table class="table-zebra">
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Result</th>
</tr>
<tr>
<td class="text-center lead-code">+=</td>
<td>Addition cum Assignment</td>
<td class="code">x += y;</td>
<td class="code">Same as: x = x + y;</td>
</tr>

<tr>
<td class="text-center lead-code">-=</td>
<td>Subtraction cum Assignment</td>
<td class="code">x -= y;</td>
<td class="code">Same as: x = x - y;</td>
</tr>

<tr>
<td class="text-center lead-code">*=</td>
<td>Multiplication cum Assignment</td>
<td class="code">x *= y;</td>
<td class="code">Same as: x = x * y;</td>
</tr>

<tr>
<td class="text-center lead-code">/=</td>
<td>Division cum Assignment</td>
<td class="code">x /= y;</td>
<td class="code">Same as: x = x / y;</td>
</tr>

<tr>
<td class="text-center lead-code">%=</td>
<td>Modulus cum Assignment</td>
<td class="code">x %= y;</td>
<td class="code">Same as: x = x % y;</td>
</tr>
</table>

<h5>Some frequently-used <code>Number</code> built-in Functions</h5>
<ul>
<li><span class="lead-code">parseInt(<em>str</em>), parseFloat(<em>str</em>)</span>: Parse the <em><code>str</code></em><code></code> until the first non-digit, and return the number; or <code>NaN</code>.</li>
<li><span class="lead-code">Math.round(<em>num</em>)</span>, <span class="lead-code">Math.floor(<em>num</em>)</span>, <span class="lead-code">Math.ceil(<em>num</em>)</span>:</li>
<li><span class="lead-code">Math.random()</span>: Generate a random number between 0 (inclusive) and 1 (exclusive).</li>

<li><span class="lead-code">isNaN(<em>str</em>)</span>: return true if the <em><code>str</code></em><code></code> is not a number. For example,
<pre class="example">
console.log(isNaN('123'));
<span class="comment">//</span><span class="output">false</span>
console.log(isNaN('1.23'));
<span class="comment">//</span><span class="output">false</span>
console.log(isNaN('123abc'));
<span class="comment">//</span><span class="output">true</span></pre>
It is interesting to note that JavaScript does not have counterpart functions like <code>isNumber()</code>, <code>isNumeric()</code>.</li>

<li><span class="lead-code">Number(<em>str</em>)</span>: Return the number represented by <code><em>str</em></code>, or <code>NaN</code>. Take that that this function name begins with uppercase, because this is a type casting operation.</li>

<li><span class="lead-code">.toFixed(<em>decimalPlaces</em>)</span>: Return this number/string to the given number of decimal places. For example,
  <pre class="example">
var n = 1.2345;
console.log(n.toFixed(2));
<span class="comment">//</span><span class="output">1.23</span>
console.log(n);
<span class="comment">//</span><span class="output">1.2345 (No change)</span></pre></li>
</ul>


<h4 id="stringType">The <code>string</code> Type, Literals &amp; Operations</h4>

<p>A <code>string</code> is a sequence of characters enclosed within a pair of <span class="highlight">single quotes</span> or <span class="highlight">double quotes</span> (e.g., <code>&quot;Hello&quot;</code>, <code>'world'</code>, <code>&quot;5566&quot;</code>, <code>'3.1416'</code>). ES6 introduces <em>multi-line template strings</em> delimited by <span class="highlight">back quotes</span> (in the next section). You can use an <em>escape sequence</em> to represent special non-printable characters (such as <code>\n</code> for new-line, <code>\t</code> for tab, and <code>\u<em>hhhh</em></code> for Unicode character); and to resolve conflict (e.g., <code>\&quot;</code>, <code>\'</code>, <code>\\</code>).</p>
<p> Unlike Java/C/C++, but like HTML/CSS's attributes, you can use either single quotes or double quotes for <code>string</code>. This is handy as you can use single quotes if the <code>string</code> contains double quotes (e.g., <code>'&lt;div id=&quot;header&quot;&gt;&lt;/div&gt;'</code>), without using the clumsy escape sequences  (e.g., <code>&quot;&lt;div id=\&quot;header\&quot;&gt;&lt;/div&gt;&quot;</code>).</p>

<p> JavaScript is <em>dynamically-type</em>, and performs type conversion automatically. When a <code>string</code> value is used in arithmetic operations (such as subtraction or multiplication), JavaScript runtime automatically converts the <code>string</code> to a <code>number</code> if it represents a valid <code>number</code>; or a special <code>number</code> called <code>NaN</code> (not-a-number) otherwise. For example,</p>

<pre class="example">
<span class="comment">// In arithmetic operations, a string is converted to the number or NaN.</span>
console.log('55' - '66');
<span class="comment">//<span class="output">-11</span> (number)(subtraction)</span>
console.log('55' * 2);
<span class="comment">//<span class="output">110</span> (number)(multiplication)</span>
console.log('Hello' - 1);
<span class="comment">//<span class="error">NaN</span> (subtraction failed)</span></pre>

<h5>The <code>'+'</code> Operator: Addition or Concatenation?</h5>

<p>If both the operands to a <code>'+'</code> operator are <code>numbers</code>, it performs the usual numeric <em>addition</em>. However, if one (or both) of the operand is a <code>string</code>, the <code>'+'</code> operator is <em>overloaded</em> to perform string <em>concatenation</em>. The other operand will be converted to a <code>string</code>, if necessary. For example,</p>

<pre class="example">
<span class="comment">// '+' operator is overloaded to perform string concatenation if one of the operands is a string</span>
console.log(11 + 22);
<span class="comment">//<span class="output">33</span>      (number)(usual addition)</span>
console.log('11' + '22');
<span class="comment">//<span class="output">1122</span>    (string)(concatenation)</span>
console.log('11' + 22);
<span class="comment">//<span class="output">1122</span>    (string)(concatenation)</span>
console.log('Hello' + 22);
<span class="comment">//<span class="output">Hello22</span> (string)(concatenation)</span></pre>

<h5>Converting a numeric <code>string</code> to <code>number</code>: <code>parseInt()</code>, <code>parseFloat()</code> and <code>Number()</code></h5>

<p>To convert a numeric <code>string</code> to a <code>number</code>, you could use the built-in functions <code>parseInt()</code> or <code>parseFloat()</code>, which returns a <code>number</code> if conversion is successful; or <code>NaN</code> otherwise. For example,</p>

<pre class="example">
var magic = &quot;11&quot;;   <span class="comment">// numeric string</span>
console.log(magic + 22);
<span class="comment">//<span class="output">1122</span>  (string)(concatenation)</span>
console.log(parseInt(magic) + 22);
<span class="comment">//<span class="output">33</span>    (number)(addition)</span>
console.log(parseInt(magic) + &quot;22&quot;);
<span class="comment">//<span class="output">1122</span>  (string)(concatenation)</span>
console.log(parseInt(magic) + parseFloat(&quot;22.33&quot;));
<span class="comment">//<span class="output">33.33</span> (number)(addition)</span>
console.log(parseInt(&quot;abc&quot;));
<span class="comment">//</span><span class="error">NaN</span></pre>

<p>Take note that <code>parseInt()</code> works as long as the <code>string</code> begins with digits. It will parse up to the first non-digit. For example,</p>

<pre class="example">
console.log(parseInt(&quot;10px&quot;));
<span class="comment">//<span class="output">10</span> (number)</span></pre>

<p>You can also use the function <code>Number()</code>, which converts the object argument to a number that represents the object's value; or <code>NaN</code> if conversion fails. For example,</p>

<pre class="example">
var magic = &quot;8888&quot;
console.log(magic + 8);
<span class="comment">//<span class="output">88888</span>  (string)(concatenation)</span>
console.log(Number(magic) + 8);
<span class="comment">//<span class="output">8896</span>   (number)(addition)</span>
 
<span class="comment">// Number() also works on Object such as Date, e.g.,</span>
var d = new Date(2015, 5, 1, 12, 34, 56);
console.log(d);
<span class="comment">//</span><span class="output">2015-06-01T04:34:56.000Z</span>
console.log(Number(d));
<span class="comment">//</span><span class="output">1433133296000</span></pre>
	
<h5>Constructing/Converting to <code>string</code>: <code>String()</code> and  <code>.toString()</code></h5>

<p>You can construct a <code>string</code> from another type via <code>String()</code> function, e.g.,</p>
<pre class="example">let intStr = <span class="new">String(5566)</span>
console.log("type:", typeof intStr, " value:", intStr)
<span class="comment">//</span><span class="output">type: string  value: 5566</span>

let boolStr = <span class="new">String(false)</span>
console.log("type:", typeof boolStr, " value:", boolStr)
<span class="comment">//</span><span class="output">type: string  value: false</span>
</pre>
	
<p>You can use <code>.toString()</code> to obtain a <code>string</code> representation of an object, e.g.,</p>
<pre class="example">let intStr = <span class="new">(5566).toString()</span>
console.log("type:", typeof intStr, " value:", intStr)
<span class="comment">//</span><span class="output">type: string  value: 5566</span>

let boolStr = <span class="new">(false).toString()</span>
console.log("type:", typeof boolStr, " value:", boolStr)
<span class="comment">//</span><span class="output">type: string  value: false</span>

let date = new Date();
console.log(<span class="new">date.toString()</span>);
</pre>

<p>You can also convert a number to string by concatenating with an empty string, e.g.,</p>
<pre class="example">
let num = 5566
let intStr = num <span class="new">+ &quot;&quot;</span>  <span class="comment">// concatenate with an empty string</span>
console.log("type:", typeof intStr, " value:", intStr)
<span class="comment">//</span><span class="output">type: string  value: 5566</span></pre>

<h5>String's Properties</h5>
<ul>
<li><span class="lead-code">.length</span>: E.g., <code><em>str</em>.length</code> returns the length of the string.</li>
</ul>

<h5>String's Operations</h5>
<ul>
<li><span class="lead-code">.toUpperCase()</span>: returns the uppercase string.</li>
<li><span class="lead-code">.toLowerCase()</span>: returns the lowercase string.</li>
<li><span class="lead-code">.charAt(<em>idx</em>)</span>: returns the character at the <em><code>idx</code></em> position. Index begins from 0. Negative index can be used, which counts from the end of the string.</li>
<li><span class="lead-code">.substring(<em>beginIdx</em>, <em>endIdx</em>)</span>: returns the substring from <em><code>beginIdx</code></em>  (inclusive) to <em><code>endIdx</code></em> (exclusive).</li>
<li><span class="lead-code">.substr(<em>beginIdx</em>, <em>length</em>)</span>: returns the substring from <em><code>beginIdx</code></em> of <code><em>length</em></code>.</li>
<li><span class="lead-code">.indexOf(<em>searchStr</em>, <em>fromIdx</em>?)</span>: Return the beginning index of the <em>first occurrence</em> of <code><em>searchStr</em></code>, starting from an optional <code><em>fromIdx</em></code> (default of 0); or <code>-1</code> if not found.</li>
<li><span class="lead-code">.lastIndexOf(<em>searchStr</em>, <em>fromIdx</em>?)</span>: Return the beginning index of the <em>last occurrence</em> of <code><em>searchStr</em></code><code><em></em></code>, starting from an optional <code><em>fromIdx</em></code> (default of <code>string.length</code>); or <code>-1</code> if not found.</li>
<li><span class="lead-code">.slice(<em>beginIdx</em>, <em>endIdx</em>)</span>: Return the substring from <code><em>beginIdx</em></code> (inclusive) to <code><em>endIdx</em></code> (exclusive).</li>
<li><span class="lead-code">.repeat(<em>count</em>)</span> (ES6): repeat the string.</li>
<li><span class="lead-code">.split(<em>delimiter</em>)</span>,<em> <span class="lead-code">array</span></em><span class="lead-code">.join(<em>delimiter</em>)</span>: returns an array by splitting the string using <em><code>delimiter</code></em>, e.g.,
  <pre class="example">let str = "hello"
let arr = <span class="new">str.split('')</span>  <span class="comment">// empty string delimiter to split into character</span>
console.log(arr)
<span class="comment">//</span><span class="output">[ 'h', 'e', 'l', 'l', 'o' ]</span>
let outStr = <span class="new">arr.reverse().join('')</span>  <span class="comment">// join with empty string delimiter</span>
console.log(outStr)
<span class="comment">//</span><span class="output">olleh</span></pre>
</li>
<li>Searching/Modifying Strings using Regular Expression: See &quot;<a href="JavaScript_Introduction.html#regex">Regular Expression</a>&quot;.</li>
</ul>
	
<h5>Character Type?</h5>
<p>JavaScript does not have a dedicated character type, but treats it as a one-character single. To get an individual character from a string, you can use:</p>
<ul>
<li><span class="lead-code">.charAt(<em>idx</em>)</span>: For example,
<pre class="example">let str = 'hello'
let c = str<span class="new">.charAt</span>(1)
console.log('type:', typeof c, 'value:', c)
<span class="comment">//</span><span class="output">type: string value: e</span>

console.log(str<span class="new">.charCodeAt</span>(1))  <span class="comment">// Get the character code number</span>
<span class="comment">//</span><span class="output">101</span></pre>
</li>
<li><span class="lead">Array Bracket Operator <span class="lead-code">[]</span></span>: You can treat a string as a character array, and access individual character via array bracket operator <code>[]</code>, e.g.,.
<pre class="example">let str = 'hello'
console.log(str[1]);
<span class="comment">//</span><span class="output">e</span>
console.log('hello'[1]);
<span class="comment">//</span><span class="output">e</span></pre>
</li>
</ul>

<h4>(ES6) Multi-line Back-Quoted Template String and Substitution</h4>

<p>Prior to ES6, You can enclosed a string literal using either single or double quotes  (e.g., <code>&quot;Hello&quot;</code>, <code>'world'</code>, <code>&quot;5566&quot;</code>, <code>'3.1416'</code>). Escape sequences are to be used for special characters (e.g., <code>\n</code> for new-line, <code>\t</code> for tab) and resolving conflict (e.g., <code>\&quot;</code>, <code>\'</code>, <code>\\</code>). Multi-line strings are not supported.</p>
<p>ES6 introduces <span class="highlight">template string</span>, delimited by <span class="highlight">back-quotes</span>, for example,</p>

<pre class="example">
let msg = `hello, world`
console.log(msg)
<span class="comment">//</span><span class="output">hello, world</span>
console.log(msg.length)
<span class="comment">//</span><span class="output">12</span></pre>

<p>There is no need to escape single or double quote inside a template string (because there is no conflicts). But you need to use escape sequence for back-quote, i.e., <code> \`</code>.</p>

<p>Template strings support multi-line strings. All whitespaces (blank, tab, newline) within the back-quotes are part of the multi-line string. For example,</p>

<pre class="example">
let multilineMsg = `hello,
 world`
console.log(multilineMsg)
<span class="comment">//</span><span class="output">hello,</span>
<span class="comment">//</span><span class="output"> world</span>
console.log(multilineMsg.length)
<span class="comment">//</span><span class="output">13</span></pre>

<h5>Substitution <code>${<em>expr</em>}</code></h5>
<p>Template strings  support <em>substitution</em>, which allow you to embed any valid JavaScript expression as part of the string in the form of <code>${<em>expr</em>}</code>, for example,</p>

<pre class="example">
let name = 'Peter',
    greeting = 'hello',
    helloMsg = `<span class="new">${greeting}</span>, <span class="new">${name}</span>`
<span class="comment">// Same as below but simpler
// helloMsg = greeting + ', ' + name</span> 
console.log(helloMsg)
<span class="comment">//</span><span class="output">hello, Peter</span></pre>

<p>Multi-line template string with substitution provides a more convenient way to write out formatted HTML fragment. For example,</p>

<pre class="example">
document.body.innerHTML = `
&lt;div&gt;
  &lt;header&gt;
    &lt;h1&gt;<span class="new">${title}</span>&lt;/h1&gt;
  &lt;/header&gt;
  &lt;article&gt;
     &lt;h2&gt;<span class="new">${article.title}</span>&lt;/h2&gt;
     &lt;p&gt;<span class="new">${article.body}</span>&lt;/p&gt;
  &lt;/article&gt;
  &lt;footer&gt;
     &lt;p&gt;copyright <span class="new">${new Date().getYear()}</span>&lt;/p&gt;
  &lt;/footer&gt;
&lt;/div&gt;
`</pre>

<h4 id="booleanType">The <code>boolean</code> Type, Literals &amp; Operations</h4>

<p>A variable of the type <code>boolean</code> holds a value of either <code>true</code> of <code>false</code>. <code>true</code> and <code>false</code> are keywords in JavaScript.</p>

<p>As mentioned, JavaScript performs automatic type conversion if necessary. During the type conversion, the following 6 values are converted to <code>false</code>:</p>
<ol>
<li>number <code>0</code></li>
<li>number <code>NaN</code> (Not-a-Number),</li>
<li>empty string (<code>&quot;&quot;</code>, <code>''</code>),</li>
<li><code>undefined</code> value,</li>
<li>boolean <code>false</code>,</li>
<li><code>null</code> (unallocated) object.</li>
</ol>

<p>All the other values are converted to <code>true</code>.</p>

<p>You need to memorize this: <code>!value</code> return <code>true</code> if <code>value</code> is one of these 6 values: <code>0</code>, <code>NaN</code>, <code>""</code>, <code>undefined</code>, <code>false</code>, and <code>null</code>.</p>

<h5>Comparison (Relational) Operators</h5>

<p>The following relational operators, which produce a <code>boolean</code> result, are defined in JavaScript. The results are obtained assuming <code>num=8</code>, <code>str='8'</code>.</p>

<table class="table-zebra">
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Result<br>(<code>num=8</code>, <code>str='8'</code>)</th>
</tr>

<tr>
<td class="text-center lead-code">==</td>
<td>Abstract Equal To<br>(in Value)</td>
<td><pre>
num == 8
str == '8'
num == str
8 == '8'</pre></td>
<td><pre>
true
true
true
true</pre></td>
</tr>

<tr>
<td class="text-center lead-code">!=</td>
<td>Abstract Not Equal To</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center lead-code">===</td>
<td>Strictly Equal To<br>(in Type and Value)</td>
<td><pre>
num === 8
str === '8'
<span class="new">num === str</span>
<span class="new">8 === '8'</span></pre></td>
<td><pre>
true
true
<span class="new">false</span>
<span class="new">false</span></pre></td>
</tr>

<tr>
<td class="text-center lead-code">!==</td>
<td>Strictly Not Equal To</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center lead-code">&gt;</td>
<td>Greater Than</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center lead-code">&gt;=</td>
<td>Greater Than or Equal To</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center lead-code">&lt;</td>
<td>Less Than</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center lead-code">&lt;=</td>
<td>Less Than or Equal To</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</table>

<h5><code>===</code> vs. <code>==</code></h5>

<p>The strictly equality operator (<code>===</code>) returns <code>true</code> if both operands have the same type and same value; while abstract equality operator (<code>==</code>) returns <code>true</code> if both operands have the same value, but may or may not be the same type, i.e., == converts its operands if the operand types do not match.</p>

<p>JavaScript needs to provide two different equality operators, because it is loosely type and carries out automatic type conversion in many situation. For example,</p>

<ul>
<li>When a number is compared with a string, the string is converted to a number (or <code>NaN</code> if it does not contain a valid number). Hence, <code>(8 == &quot;8&quot;)</code> returns <code>true</code>. But, <code>(8 === &quot;8&quot;)</code> returns <code>false</code>, because the operands are not of the same type.</li>

<li><code>===</code>, <code>!==</code>, <code>==</code>, <code>!=</code> can be applied to boolean (and all the JavaScript types), e.g., <code>(&quot;&quot; == false)</code> gives <code>true</code> (because empty string is converted to <code>false</code>); but <code>(&quot;&quot; === false)</code> gives <code>true</code>.</li>

<li>It is RECOMMENDED to use <code>===</code> (or <code>!==</code>), instead of <code>==</code> (or <code>!=</code>), unless you are certain that type is not important.</li>
</ul>

<h5>String Sorting (Collation) Order</h5>
<p>When two strings are compared, the encoding order (ASCII/Unicode table) is used. Hence, string <code>&quot;8&quot;</code> is greater than string <code>&quot;10&quot;</code>.</p>


<p>For example,</p>

<pre class="example">
<span class="comment">// Comparing numbers</span>
var x = 8;              <span class="comment"> // type:number, value:8</span>
console.log(x == 8);
<span class="comment">//</span><span class="output">true   (same value)</span>
console.log(x == '8');
<span class="comment">//</span><span class="output">true   (string converted to number)</span>
console.log(x === 8);
<span class="comment">//</span><span class="output">true   (same type and value)</span>
console.log(x === '8');
<span class="comment">//</span><span class="output">false  (different type)</span>
 
console.log(x &lt; 10)
<span class="comment">//</span><span class="output">true</span>
console.log(x &lt; '10');
<span class="comment">//<span class="output">true</span>   (string converted to number)</span>
 
<span class="comment">// Comparing two strings</span>
console.log('8' &lt; '10');
<span class="comment">//<span class="output">false</span>  (comparing two strings alphabetically)</span>
console.log('8' &lt; '9');
<span class="comment">//<span class="output">true</span>   (comparing two strings, not numbers)</span>
console.log('Hello' &lt; 'hi');
<span class="comment">//<span class="output">true</span>   (comparing two strings)</span></pre>

<p>To compare two strings alphabetically, use <span class="highlight"><code>.localeCompare()</code></span>, e.g., [TODO]</p>
	

<h5>Logical (Boolean) Operators</h5>
<p>The following boolean (or logical) operators are provided in JavaScript:</p>

<table class="table-zebra">
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Result</th>
</tr>

<tr>
<td class="text-center lead-code">&amp;&amp;</td>
<td>Logical AND</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center lead-code">||</td>
<td>Logical OR</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center lead-code">!</td>
<td>Logical NOT</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
  <td class="text-center lead-code">&amp;&amp;=</td>
  <td>Logical AND cum assignment (ES12)</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
</tr>
<tr>
  <td class="text-center lead-code">||=</td>
  <td>Logical OR cum assignment (ES12)</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
</tr>
</table>
	
<p>Notes: <code>^</code> in JavaScript is a bitwise XOR operator, not really boolean XOR (which is rarely needed).</p>
	
<h5>Short-Circuit Evaluation for Boolean Expressions</h5>

<p>Evaluation of logical operations are always <em>short-circuited</em>. That is, the operation is terminated as soon as the result is certain, e.g., (<code>false &amp;&amp; ...</code>) is short-circuited to give <code>false</code>, (<code>true || ...</code>) gives <code>true</code>, the <code>...</code> will not be evaluated.</p>

<h4>Explicit Type Conversion</h4>
<p>The JavaScript runtime performs type conversion automatically. However, at times, you may need to convert from one type to another explicitly.</p>

<p><span class="lead">Converting a <code>number</code> to a <code>string</code></span>: Simply concatenate the <code>number</code> with an empty <code>string &quot;&quot;</code>, e.g., <code>&quot;&quot; + 5</code> gives <code>&quot;5&quot;</code>.</p>

<p><span class="lead">Converting a <code>string</code> to a <code>number</code></span>: Use built-in functions <code>parseInt(<em>str</em>)</code>, <code>parseFloat(<em>str</em>)</code> or <code>Number(<em>str</em>)</code> to convert a <code>str</code> which contains a <em>valid</em> <code>number</code>. For example, <code>parseInt(&quot;55&quot;)</code> gives <code>55</code>, <code>parseInt(55.66)</code> gives <code>55</code>, <code>parseInt(&quot;55.66&quot;)</code> gives <code>55</code>, <code>parseFloat(&quot;55.66&quot;)</code> gives <code>55.66</code>, <code>parseInt(&quot;55px&quot;)</code> gives <code>55</code>, <code></code> <code></code>but <code>parseInt(&quot;Hello&quot;)</code> gives <code>NaN</code>.</p>

<p><span class="lead">Converting a float to an integer</span>: Use <code>parseInt()</code> (e.g., <code>parseInt(55.66)</code> gives <code>55</code>), or built-in mathematical functions such as <code>Math.round()</code>, <code>Math.ceil()</code> or <code>Math.floor()</code>.</p>

<h4>Flow Control - Decision (Conditional)</h4>

<p>JavaScript provides these flow control construct. The syntax is the same as Java/C/C++.</p>

<table class="table-zebra" style="width:100%">
<col style="width:30%">
<col>
<tr>
<th>Syntax</th>
<th>Example</th>
</tr>
<tr>
<td><pre><span class="comment">// if-then</span>
<span class="highlight">if (</span><em>condition</em><span class="highlight">) {</span>
  <em>trueBlock</em>;
<span class="highlight">}</span></pre></td>
<td><pre>if (day === 'sat' || day === 'sun') {
   alert('Super weekend!');
}</pre></td>
</tr>

<tr>
<td><pre><span class="comment">// if-else</span>
<span class="highlight">if (</span><em>condition</em><span class="highlight">) {</span>
  <em>trueBlock</em>;
<span class="highlight">} else {</span>
  <em>falseBlock</em>;
<span class="highlight">}</span></pre></td>

<td><pre>if (day === 'sat' || day === 'sun') {
   alert('Super weekend!');
} else {
   alert('It is a weekday...');
}</pre></td>
</tr>

<tr>
<td><pre><span class="comment">// Tenary Operator (Shorthand if-else)</span>
<em>variable</em> = <em>condition</em> <span class="highlight">?</span> <em>trueExpr</em> <span class="highlight">:</span> <em>falseExpr</em>;
<span class="comment">// Same as:</span>
if (<em>condition</em>) {
   <em>variable</em> = <em>trueExpr</em>;
} else {
   <em>variable</em> = <em>falseExpr</em>;
}</pre></td>

<td><pre>var max = (a &gt; b) ? a : b;
var abs = (a &gt;= 0) ? a : -a;
console.log(i === 0 ? 'zero' : 'not zero');</pre></td>
</tr>

<tr>
<td><pre><span class="comment">// Nested if-else</span>
<span class="highlight">if (</span><em>condition1</em><span class="highlight">) {</span>
  <em>block</em>1; 
<span class="highlight">} else if (</span><em>condition2</em><span class="highlight">) {</span>
  <em>block2</em>;
<span class="highlight">} else if (</span>...<span class="highlight">) {</span>
......
<span class="highlight">} else {</span>
  <em>elseBlock</em>;
<span class="highlight">}</span></pre></td>

<td><pre>if (day === 'sat' || day === 'sun') {
   alert('Super weekend!');
} else if (day === 'fri') {
   alert(&quot;Thank God, it's Friday!&quot;);
} else {
   alert('It is a weekday...');
}</pre></td>
</tr>

<tr>
<td><pre><span class="comment">// switch</span>
<span class="highlight">switch (</span><em>expr</em><span class="highlight">) {
  case</span> <em>value1</em><span class="highlight">:</span>
    <em>block1</em>; <span class="highlight">break;
  case</span> <em>value2</em><strong><span class="highlight">:</span></strong>
    <em>block2</em>; <span class="highlight">break;</span>
  ......
  ......
  <span class="highlight">default:</span>
    <em>defaultBlock</em>;
<span class="highlight">}</span></pre></td>

<td><pre>switch (day) {
   case 'sat': case 'sun': 
      alert('Super weekend!'); break;
   case 'mon': case 'tue': case 'wed': case 'thu': 
      alert('It is a weekday...'); break;
   case 'fri': 
      alert(&quot;Thank God, it's Friday&quot;); break;
   default: 
      alert(&quot;You are on earth?! Aren't you?&quot;);
}</pre></td>
</tr>
</table>
	
<p>Notes: JavaScript, like C/Java, does not support native <code>elseif</code>, but nested <code>if-else</code>.</p>
	
<h5>[ES12] Logical nullish Assignment Operator (<code>??=</code>)</h5>
<p>The logical nullish assignment <code>(x ??= y)</code> assigns only if x is <code>null</code> (unallocated object) or <code>undefined</code> (uninitialized variable) i.e., nullish. For example,</p>
	
<pre class="example">let msg;   <span class="comment">// value is undefined</span>

msg <span class="new">??=</span> "hello";   <span class="comment">// msg is nullish</span>
console.log(msg);
<span class="comment">//</span><span class="output">hello</span>
msg <span class="new">??=</span> "world";   <span class="comment">// msg is not nullish</span>
console.log(msg);
<span class="comment">//</span><span class="output">hello</span></pre>

<h4>Flow Control - Loops (Repetition)</h4>

<p>JavaScript provides the following loop constructs.  The syntax is the same as Java/C/C++.</p>

<table class="table-zebra" style="width:100%">
<col style="width:30%">
<col>

<tr>
<th>Syntax</th>
<th>Example</th>
</tr>

<tr>
<td><pre><span class="comment">// while-do</span>
<span class="highlight">while (</span><em>test</em><span class="highlight">) {</span>
  <em>trueBlock</em>;
<span class="highlight">}</span></pre></td>

<td><pre><span class="comment">// Sum from 1 to 100</span>
var sum = 0, number = 1;
while (number &lt;= 100) {
   sum += number;
}</pre></td>
</tr>

<tr>
<td><pre><span class="comment">// do-while</span>
<span class="highlight">do {</span>
  <em>trueBlock</em>;
<span class="highlight">} while (</span><em>test</em><span class="highlight">);</span></pre></td>

<td><pre><span class="comment">// Sum from 1 to 100</span>
var sum = 0; number = 1;
do {
  sum += number;
}</pre></td>
</tr>

<tr>
<td><pre><span class="comment">// Traditional for-loop</span>
<span class="highlight">for (</span><em>initialization</em><span class="highlight">;</span> <em>test</em><span class="highlight">;</span> <em>post-processing</em><span class="highlight">) {</span>
  <em>trueBlock</em>;
<span class="highlight">}</span></pre></td>

<td><pre><span class="comment">// Sum from 1 to 100</span>
var sum = 0;
for (var number = 1; number &lt;= 100; number++) {
   sum += number;
}</pre></td>
</tr>
</table>
	
<p>JavaScript also introduces <code><span class="highlight">for...in</span></code> and <code><span class="highlight">for...of</span></code> loops (to be discussed later).</p>

<h5><code>break</code>, <code>continue</code> and Statement Label</h5>

<p>The following loop-control statements are provided (same syntax as Java/C/C++):</p>
<ul>
<li><span class="lead-code">break</span>: exits the innermost loop.</li>
<li><span class="lead-code">continue</span>: aborts the current iteration, and continues to the next iteration.</li>
<li><span class="lead-code"><em>label</em>:</span> provides an identifier for a statement, which can be used by <code>break <em>label</em></code> and <code>continue <em>label</em></code>.</li>
</ul>
<p>Try to avoid these statements, as they are hard to trace and maintain.</p>

<h4 id="arrays">Arrays</h4>

<p>An array is an <em>indexed collection</em>. An array can be used to store a list of items (elements) under a single name with an <em>running integer index</em>. You can reference individual element via the integral index in the form of <code><em>arrayName</em>[<em>idx</em>]</code>. Furthermore, you can conveniently process all the elements of an array collectively via a loop with a varying index.</p>

<h5>Creating an Array via &quot;Array Initializer <code>[<em>value1</em>, <em>value2</em>, ...]</code>&quot;</h5>

<p>You can create an array by assigning an <em>array literal</em> to a variable, known as <em>Array Initializer</em>, in the form of <code>[<em>value1</em>, <em>value2</em>, ...]</code>. For examples,</p>
	
<pre class="example">
<span class="comment">// Create an array by declaring a variable and assign an array literal</span>
var <span class="new">weekdays = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"]</span>;

<span class="comment">// You can print out an array</span>
console.log(<span class="new">weekdays</span>);
<span class="comment">//</span><span class="output">[ 'sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat' ]</span>

<span class="comment">// A JavaScript Array is actually an object</span>
console.log(<span class="new">typeof</span> weekdays);
<span class="comment">//</span><span class="output">object</span>

<span class="comment">// You can get the length of the array via .length property</span>
console.log(weekdays<span class="new">.length</span>);
<span class="comment">//</span><span class="output">7</span>

<span class="comment">// A JavaScript array can contain mixed types (number, string, boolean)</span>
var <span class="new">somethings = [1, 2.3, "abc", false]</span>;
console.log(somethings);
<span class="comment">//</span><span class="output">[ 1, 2.3, 'abc', false ]</span>
console.log(somethings.length);
<span class="comment">//</span><span class="output">4</span>

<span class="comment">// A JavaScript array is dynamically allocated</span>
var <span class="new">fruits = []</span>;             // begins with an empty array
console.log(fruits);
<span class="comment">//</span><span class="output">[]</span>
console.log(fruits.length);
<span class="comment">//</span><span class="output">0</span>

<span class="comment">// Dynamically add an item</span>
<span class="new">fruits[0] = "apple"</span>;
console.log(fruits);
<span class="comment">//</span><span class="output">[ 'apple' ]</span>
console.log(fruits.length);
<span class="comment">//</span><span class="output">1</span>

<span class="comment">// Add an item, but skipping some indexes</span>
fruits<span class="new">[3]</span> = "orange";
console.log(fruits);
<span class="comment">//</span><span class="output">[ 'apple', &lt;2 empty items&gt;, 'orange' ]</span>
console.log(fruits.length);
<span class="comment">//</span><span class="output">4</span>

<span class="comment">// Push an item at the end of the array</span>
fruits<span class="new">.push</span>('banana');
console.log(fruits);
<span class="comment">//</span><span class="output">[ 'apple', &lt;2 empty items&gt;, 'orange', 'banana' ]</span>
console.log(fruits.length);
<span class="comment">//</span><span class="output">5</span>

<span class="comment">// Traversing an array via for-loop with index</span>
<span class="new">for (let i = 0; i &lt; fruits.length; ++i) {</span>
   console.log(i + ":" + fruits[i]);
}
<span class="comment">//</span><span class="output">0:apple</span>
<span class="comment">//</span><span class="output">1:undefined</span>
<span class="comment">//</span><span class="output">2:undefined</span>
<span class="comment">//</span><span class="output">3:orange</span>
<span class="comment">//</span><span class="output">4:banana</span>

<span class="comment">// Using the JavaScript's "for-index-in" loop</span>
<span class="new">for</span> (let i <span class="new">in</span> fruits) {
   console.log(i + ":" + fruits[i]);
}
<span class="comment">//</span><span class="output">0:apple</span>
<span class="comment">//</span><span class="output">3:orange</span>
<span class="comment">//<span class="output">4:banana</span>   (The undefined indexes were skipped)</span>

<span class="comment">// Using the JavaScript's "for-item-of" loop</span>
<span class="new">for</span> (let item <span class="new">of</span> fruits) {
   console.log(item);
}
<span class="comment">//</span><span class="output">apple</span>
<span class="comment">//</span><span class="output">undefined</span>
<span class="comment">//</span><span class="output">undefined</span>
<span class="comment">//</span><span class="output">orange</span>
<span class="comment">//<span class="output">banana</span>   (The undefined items were not skipped)</span></pre>
	
<p>Take note that JavaScript's array literal is enclosed in square bracket <code>[...]</code>, instead of <code>{...}</code> in Java/C/C++.  JavaScript uses <code>{...}</code> for object literal (to be discussed later).</p>

<p>You can also use an Array Initializer to create an array with missing indexes. For example,</p>

<pre class="example">
var <span class="new">fruits = ['apple', , , 'orange']</span>;
console.log(fruits);
<span class="comment">//<span class="output">[ 'apple', &lt;2 empty items&gt;, 'orange' ]</span>   (fruits[1] and fruits[2] are undefined)</span></pre>

<h5>Accessing an Item</h5>

<p>You can access individual element of an array via an integral <em>index</em>, in the form of <code><em>arrayName</em>[<em>idx</em>]</code>. The index of the array begins at 0, and shall be a non-negative integer.</p>

<h5>Array's Property <code>length</code></h5>

<p>The length of the array is maintained in a variable (property) called <code>length</code>, which can be accessed via <code><em>arrayName</em>.length</code>. In fact, the property <code>.length</code> returns the last integral index plus 1, as JavaScript's array index is 0-based. Nonetheless, you are allow to manipulate (write) the <code>.length</code>. For example,</p>

<pre class="example">
<span class="new">a = ['11', '22', '33']</span>;
console.log(a);
<span class="comment">//</span><span class="output">[ '11', '22', '33' ]</span>
console.log(<span class="new">a.length</span>);
<span class="comment">//</span><span class="output">3</span>
<span class="new">a.length = 10</span>;   <span class="comment">// Write into .length</span>
console.log(a);
<span class="comment">//</span><span class="output">[ '11', '22', '33', &lt;7 empty items&gt; ]</span>
console.log(a.length);
<span class="comment">//</span><span class="output">10</span>
<span class="new">a.length = 2</span>;   <span class="comment">// You can also truncate an array</span>
console.log(a);
<span class="comment">//</span><span class="output">[ '11', '22' ]</span>
console.log(a.length);
<span class="comment">//</span><span class="output">2</span></pre>

<h5>Dynamic Arrays</h5>

<p>Unlike Java/C/C++, the JavaScript array is dynamically allocated. You can add more elements to an array. You can also remove the content of an element using keyword <code>delete</code>. For examples,</p>
	
<pre class="example">
var <span class="new">days = ["sun", "mon", "tue"]</span>;
console.log(days.length);
<span class="comment">//</span><span class="output">3</span>
console.log(days);
<span class="comment">//</span><span class="output">[ 'sun', 'mon', 'tue' ]</span>

<span class="comment">// Dynamically add an item</span>
<span class="new">days[5] = "fri"</span>;
console.log(days.length);
<span class="comment">//</span><span class="output">6</span>
console.log(days);
<span class="comment">//<span class="output">[ 'sun', 'mon', 'tue', &lt;2 empty items&gt;, 'fri' ]</span>  (items in between are undefined)</span>

<span class="comment">// Remove an item. Set to undefined.</span>
<span class="new">delete</span> days[1];
console.log(days.length);
<span class="comment">//</span><span class="output">6</span>
console.log(days);
<span class="comment">//</span><span class="output">[ 'sun', &lt;1 empty item&gt;, 'tue', &lt;2 empty items&gt;, 'fri' ]</span>

<span class="comment">// Push an item at the end</span>
days<span class="new">.push</span>("sat");
console.log(days.length);
<span class="comment">//</span><span class="output">7</span>
console.log(days);
<span class="comment">//</span><span class="output">[ 'sun', &lt;1 empty item&gt;, 'tue', &lt;2 empty items&gt;, 'fri', 'sat' ]</span>

<span class="comment">// Retrieve and Remove the last item</span>
console.log(days<span class="new">.pop</span>());
<span class="comment">//</span><span class="output">sat</span>
console.log(days.length);
<span class="comment">//</span><span class="output">6</span>
console.log(days);
<span class="comment">//</span><span class="output">[ 'sun', &lt;1 empty item&gt;, 'tue', &lt;2 empty items&gt;, 'fri' ]</span>

<span class="comment">// Add an item in front, shifting the indexes</span>
days<span class="new">.unshift</span>("hi");
console.log(days.length);
<span class="comment">//</span><span class="output">7</span>
console.log(days);
<span class="comment">//</span><span class="output">[ 'hi', 'sun', &lt;1 empty item&gt;, 'tue', &lt;2 empty items&gt;, 'fri' ]</span>

<span class="comment">// Remove an item in front, shifting the indexes</span>
console.log(days<span class="new">.shift</span>());
<span class="comment">//</span><span class="output">hi</span>
console.log(days.length);
<span class="comment">//</span><span class="output">6</span>
console.log(days);
<span class="comment">//</span><span class="output">[ 'sun', &lt;1 empty item&gt;, 'tue', &lt;2 empty items&gt;, 'fri' ]</span>

<span class="comment">// Negative index?</span>
days<span class="new">[-9]</span> = 'hello';
console.log(days.length);
<span class="comment">//</span><span class="output">6</span>
console.log(days);
<span class="comment">//</span><span class="output">[ 'sun', &lt;1 empty item&gt;, 'tue', &lt;2 empty items&gt;, 'fri', <span class="new">'-9': 'hello'</span> ]</span>
   <span class="comment">// The index -9 is considered as an object property,
   // outside the numerical indexes (to be discussed later)</span></pre>


<h5>Accessing All Items using for-loop with index</h5>

<p>Array is usually processed collectively using a loop, e.g.,</p>

<pre class="example">var days = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];
<span class="new">for (let i = 1; i &lt; days.length; ++i) {</span>
   console.log(i + ": " + days[i]);
}
<span class="comment">//</span><span class="output">1: mon</span>
<span class="comment">//</span><span class="output">2: tue</span>
<span class="comment">//</span><span class="output">3: wed</span>
<span class="comment">//</span><span class="output">4: thu</span>
<span class="comment">//</span><span class="output">5: fri</span>
<span class="comment">//</span><span class="output">6: sat</span></pre>

<h5>The JavaScript's <code>for...in</code> loop</h5>

<p>JavaScript provides a special <code>for-index-in</code> loop to process all the elements in an array. The syntax is as follows, where <code><em>idx</em></code> takes on the each of the index number of element which are not <code>undefined</code>.</p>

<pre class="syntax">
<strong>for (let</strong> <em>idx</em> <strong>in</strong> <em>array</em>) <strong>{</strong> ...... <strong>}</strong></pre>

<p>For example,</p>

<pre class="example">var months = ["jan", "feb"];  <span class="comment">// index 0 and 1</span>
months[11] = "dec";           <span class="comment">// indexes 2 to 10 undefined</span>
<span class="new">for</span> (let idx <span class="new">in</span> months) {
   console.log(idx + ": " + months[idx]);
}
<span class="comment">//</span><span class="output">0: jan</span>
<span class="comment">//</span><span class="output">1: feb</span>
<span class="comment">//</span><span class="output">11: dec</span></pre>

<h5>The JavaScript's <code>for...of</code> loop</h5>

<p>JavaScript provides a special <code>for-item-of</code> loop to process all the elements in an array. The syntax is as follows, where <code><em>item</em></code> takes on the each of the element including the <code>undefined</code>.</p>

<pre class="syntax">
<strong>for (let</strong> <em>item</em> <strong>of</strong> <em>array</em>) <strong>{</strong> ...... <strong>}</strong></pre>

<h5>Add/Remove item(s)</h5>

<p>You can:</p>
<ul>
<li>Use index <code>[<em>array</em>.length]</code> to add one item to the end of an array.</li>
<li>Use <code>delete</code> to remove a particular index (set it to <code>undefined</code>).</li>
<li>Use <code>.push()</code> to add one or more items to the end of an array. <code>push()</code> returns the resultant length of the array.</li>
<li>Use <code>.unshift()</code> to add one or more items to the beginning of an array. <code>unshift()</code> returns the resultant length of the array.</li>
<li>Use <code>.pop()</code> to remove and return the last item of an array.</li>
<li>Use <code>.shift()</code> to remove and return the first item of an array.</li>
</ul>

<p>For examples,</p>

<table class="table-zebra">
<tr>
<th>Purpose</th>
<th>Example</th>
</tr>

<tr>
<td>Add one item to the <em>end</em> of an array using index <code><em>array</em>.length</code></td>
<td><pre>
var a = [0, 'a', 'b'];
a[a.length] = 3;
console.log(a.length);
<span class="comment">//</span><span class="output">4</span>
console.log(a);
<span class="comment">//</span><span class="output">[ 0, 'a', 'b', 3] </span></pre></td>
</tr>

<tr>
<td>
Add one or items to the <em>end</em> of an array using <code>.push()</code>.
<br><code>push()</code> returns the resultant length of the array.
</td>
<td><pre>
var a = [0, 'a', 'b'];
console.log(a.push(1, 'c'));   <span class="comment">// push two items</span>
<span class="comment">//</span><span class="output">5</span>
console.log(a.length);
<span class="comment">//</span><span class="output">5</span>
console.log(a);
<span class="comment">//</span><span class="output">[ 0, 'a', 'b', 1, 'c' ]</span></pre></td>
</tr>

<tr>
<td>Add one or items to the <em>beginning</em> of an array using <code>.unshift()</code>.
<br><code>unshift()</code> returns the resultant length of the array.</td>
<td><pre>
var a = [0, 'a', 'b'];
console.log(a.unshift(-2, -1, 'c'));   <span class="comment">// 3 items</span>
<span class="comment">//</span><span class="output">6</span>
console.log(a.length);
<span class="comment">//</span><span class="output">6</span>
console.log(a);
<span class="comment">//</span><span class="output">[ -2, -1, 'c', 0, 'a', 'b' ]</span></pre></td>
</tr>

<tr>
<td>Remove and return the <em>last</em> item from an array using <code>.pop()</code></td>
<td><pre>
var a = [0, 'a', 'b'];
console.log(a.pop());
<span class="comment">//</span><span class="output">b</span>
console.log(a.length);
<span class="comment">//</span><span class="output">2</span>
console.log(a);
<span class="comment">//</span><span class="output">[ 0, 'a' ]</span></pre></td>
</tr>

<tr>
<td>Remove and return the <em>first</em> item of an array using <code>.shift()</code></td>
<td><pre>
var a = [0, 'a', 'b'];
console.log(a.shift());
<span class="comment">//</span><span class="output">0</span>
console.log(a.length);
<span class="comment">//</span><span class="output">2</span>
console.log(a);
<span class="comment">//</span><span class="output">[ 'a', 'b' ]</span></pre></td>
</tr>

</table>

<h5>Array's Properties (Variables) and Operations (Functions)</h5>

<p>The <code>Array</code> object has these commonly-used properties:</p>
<ul>
<li><span class="lead-code">.length</span>: the number of items including <code>undefined</code> items. In fact, <code>.length</code> is set to the last index plus 1.</li>
</ul>

<p>It has these commonly-used methods:</p>

<ul>
<li><span class="lead-code"><em>array</em>.join([<em>separator</em>])</span>: join the elements of an array together into a single string, separated by the <em><code>separator</code></em> (defaulted to <code>','</code>). For example,
  <pre class="example">
var fruits = [&quot;apple&quot;, &quot;orange&quot;, &quot;banana&quot;];
console.log(fruits<span class="new">.join</span>());
<span class="comment">//</span><span class="output">apple,orange,banana   (string)</span>
console.log(fruits<span class="new">.join(&quot;|&quot;)</span>);
<span class="comment">//</span><span class="output">apple|orange|banana   (string)</span></pre></li>

<li><span class="lead-code"><em>str</em>.split([<em>separator</em>, <em>limit</em>])</span>: Reverse of <code>join()</code>. Take a string and split into an array based on the <code><em>separator</em></code>. For example,
<pre class="example">var str = 'apple,orange,banana';
var fruits = str<span class="new">.split()</span>;  <span class="comment">// without separator, return one-element array</span>
console.log(fruits);
<span class="comment">//</span><span class="output">[ 'apple,orange,banana' ]</span>
console.log(fruits.length);
<span class="comment">//</span><span class="output">1</span>
fruits = str<span class="new">.split(',')</span>;
console.log(fruits);
<span class="comment">//</span><span class="output">[ 'apple', 'orange', 'banana' ]</span>
console.log(fruits.length);
<span class="comment">//</span><span class="output">3</span>

str = 'coffee|*|tea|*|milk';

fruits = str<span class="new">.split('|*|')</span>;
console.log(fruits);
<span class="comment">//</span><span class="output">[ 'coffee', 'tea', 'milk' ]</span>
console.log(fruits.length);
<span class="comment">//</span><span class="output">3</span>

fruits = str<span class="new">.split('*')</span>;
console.log(fruits);
<span class="comment">//</span><span class="output">[ 'coffee|', '|tea|', '|milk' ]</span>
console.log(fruits.length);
<span class="comment">//</span><span class="output">3</span></pre>
</li>

<li><span class="lead-code"><em>array</em>.concat(<em>value1</em>, <em>value2</em>, ..., <em>valueN</em>)</span>: returns a new array composing of this array and the given arrays or values. For example,
<pre class="example">
var fruits = ['apple', 'orange'];
var moreFruits = fruits<span class="new">.concat</span>('banana', 'watermelon');
console.log(moreFruits);
<span class="comment">//</span><span class="output">[ 'apple', 'orange', 'banana', 'watermelon' ]</span>
console.log(fruits);
<span class="comment">//</span><span class="output">[ 'apple', 'orange' ]   (No change)</span></pre></li>

<li><span class="lead-code"><em>array</em>.reverse()</span>: reverses the order of elements in the array, the first becomes last. For example,
  <pre class="example">
var a = [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;];
a.reverse();
console.log(a);
<span class="output"> //[ '5', '4', '3', '2', '1' ]</span></pre></li>

<li><span class="lead-code"><em>array</em>.sort()</span>: sorts the elements in the array. For example,
  <pre class="example">
var a = [&quot;8&quot;, &quot;10&quot;, &quot;a&quot;, &quot;b&quot;];
a.sort();
console.log(a);
<span class="comment">//</span><span class="output">[ '10', '8', 'a', 'b' ]</span>
  <span class="comment"> // Strings are sorted based on ASCII/Unicode order.</span>
  <span class="comment"> // Hence, &quot;10&quot; is before &quot;8&quot;, as '1' is before '8'</span>
 
a = [8, 20, 5, 100];
a.sort();
console.log(a);
<span class="comment">//</span><span class="output">[ 100, 20, 5, 8 ]</span>
  <span class="comment"> // numbers are also sorted based on ASCII/Unicode order!!!</span></pre>

Take note take, by default, number are also sorted based on ASCII/Unicode order. To sort numbers numerically, you can supply a callback comparison function. The function shall take 2 arguments, say <code>a</code> and <code>b</code>, and return a negative number if <code>a &lt; b</code>; a positive number if <code>a &gt; b</code>; and 0 if <code>a == b. For example,</code>
<pre class="example">
var a = [8, 20, 5, 100];/
a.sort( function(a, b) { return a - b; } );
<span class="comment">// Same as: a.sort((a, b) =&gt; a - b);</span>
console.log(a);
<span class="comment">//</span><span class="output">[ 5, 8, 20, 100 ]</span></pre></li>

<li><span class="lead-code"><em>array</em>.slice(<em>beginIdx</em>, <em>endIdx</em>)</span>: extracts and returns a section of an array from <code><em>beginIdx</em></code> (inclusive) to <code><em>endIdx</em></code> (exclusive). For example,
<pre class="example">var a = ["a", "b", "c", "d", "e"];
console.log(a<span class="new">.slice(1, 4)</span>);
<span class="comment">//</span><span class="output">[ 'b', 'c', 'd' ]   (include start index but exclude end index)</span>
console.log(a);
<span class="comment">//</span><span class="output">[ 'a', 'b', 'c', 'd', 'e' ]   (no change)</span></pre></li>

<li><span class="lead-code"><em>array</em>.splice(<em>startIdx</em>, <em>countToRemove</em>, <em>insertItem1</em>, <em>insertItem2</em>, ...)</span>: removes elements from an array, and insert elements at its place. For example,
<pre class="example">var a = ["1", "2", "3", "4", "5"];
a<span class="new">.splice(2, 2, "a", "b", "c", "d")</span>;
console.log(a);   // ["1", "2", "a", "b", "c", "d", "5"]
<span class="comment">//</span><span class="output">[ '1', '2', 'a', 'b', 'c', 'd', '5' ]</span>
   <span class="comment">// 2 elements starting at index 2 (i.e., indexes 2 and 3) were removed
   // and the given elements inserted at its place (index 2).
   // Renumber the indexes.</span>
console.log(a.length);
<span class="comment">//</span><span class="output">7</span></pre></li>

<li><span class="lead-code"><em>array</em>.indexOf(searchItem[, startIdx])</span> and <span class="lead-code"><em>array</em>.lastIndexOf(searchItem[, startIdx])</span>: search for the index of the item forward or backward. It returns -1 if item cannot be found. For example,
  <pre class="example">
var a = ['a', 'b', 'c', 'a', 'b', 'c'];
var searchItem = 'b';
var idx = a<span class="new">.indexOf</span>(searchItem)
console.log(idx);
<span class="comment">//</span><span class="output">1</span>

<span class="comment">// Search again from the last found index</span>
idx = a<span class="new">.indexOf</span>(searchItem, idx + 1)
console.log(idx);
<span class="comment">//</span><span class="output">4</span>
 
idx = a<span class="new">.indexOf</span>(searchItem, idx + 1)
console.log(idx);
<span class="comment">//</span><span class="output">-1   (not found)</span>
 
<span class="comment">// Search backwards</span>
console.log(a<span class="new">.lastIndexOf</span>('a'));
<span class="comment">//</span><span class="output">3</span>
console.log(a<span class="new">.lastIndexOf</span>('a', 2));
<span class="comment">//</span><span class="output">0</span></pre></li>

<li><span class="lead-code">.push()</span>: adds one or more elements to the end of an array and returns the resultant length of the array.</li>
<li><span class="lead-code">.pop()</span>: removes and return the last element from an array.</li>
<li><span class="lead-code">.shift()</span>: removes and returns the first element from an array.</li>
<li><span class="lead-code">.unshift()</span>: adds one or more elements to the front of an array and returns the resultant length of the array.</li>
</ul>

<h4>Functional Programming in Filter-Map-Reduce pattern</h4>
<p>Arrays also support these <em>iterative</em> methods that iterate through each item of the array, to support <em>functional programming</em> of <em>filter-map-reduce</em> pattern.</p>
<ul>
<li><span class="lead-code"><em>array</em>.forEach(<em>callback</em>)</span>: takes a function with an argument which iterates through all the items in the array.
<pre class="example">var fruits = ['apple', 'orange', 'banana'];
fruits<span class="new">.forEach</span>( function (item) {
   console.log('processing item: ' + item);
});
<span class="comment">//</span><span class="output">processing item: apple</span>
<span class="comment">//</span><span class="output">processing item: orange</span>
<span class="comment">//</span><span class="output">processing item: banana</span></pre>
NOTE: This syntax is meant to support functional programming of filter-map-reduce pattern.</li>

<li><span class="lead-code"><em>array</em>.map(<em>callback</em>)</span>: return a new array, which contains all the return value from executing <code>callback</code> on each item. For example,
<pre class="example">var fruits = ['apple', 'orange', 'banana'];
var results = fruits<span class="new">.map</span>(function (item) {
   console.log('processing item: ' + item);
   return item.toUpperCase();   <span class="comment">// map or transform</span>
});
<span class="comment">//</span><span class="output">processing item: apple</span>
<span class="comment">//</span><span class="output">processing item: orange</span>
<span class="comment">//</span><span class="output">processing item: banana</span>
console.log(results);
<span class="comment">//</span><span class="output">[ 'APPLE', 'ORANGE', 'BANANA' ]</span></pre></li>

<li><span class="lead-code">.filter(<em>callback</em>)</span>: return a new array, containing the items for which <code>callback</code> returned <code>true</code>. For example,
<pre class="example">var fruits = ['apple', 'orange', 'banana'];
var result = fruits<span class="new">.filter</span>( function (item) {
   console.log('processing item: ' + item);
   return /.*e$/.test(item);   <span class="comment">// regex: ends with 'e'?</span>
});
<span class="comment">//</span><span class="output">processing item: apple</span>
<span class="comment">//</span><span class="output">processing item: orange</span>
<span class="comment">//</span><span class="output">processing item: banana</span>
console.log(result);
<span class="comment">//</span><span class="output">[ 'apple', 'orange' ]</span></pre></li>

<li><span class="lead-code"><em>array</em>.every(<em>callback</em>)</span>: return <code>true</code> if <code>callback</code> returns <code>true</code> for ALL items.</li>

<li><span class="lead-code"><em>array</em>.some(<em>callback</em>)</span>: return <code>true</code> if <code>callback</code> returns <code>true</code> for at least one item in the array.</li>

</ul>

<p>For  detailed specification and examples about a built-in object, check &quot;<a href="https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference">Core JavaScript References</a>&quot;.</p>

<h4 id="associativeArrays">Associative Arrays of Key-Value Pairs</h4>

<p>An <em>associative array</em> is an array of key-value pair. Instead of using numbers 0, 1, 2,... as keys as in the <em>regular array</em>, you can use anything as key in an associative array. Associative arrays are used extensively in JavaScript and jQuery.</p>

<p>JavaScript does not support native associative array (it actually does not support native array too). In JavaScript, associative arrays (and arrays) are implemented as objects (to be elaborate later).</p> 

<p>You can create an associative array via the <em>Object Initializer</em>. For example,</p>

<pre class="example"><span class="comment">// Create an associative array of key-value pairs</span>
var student = {
   name: 'peter',    <span class="comment">// string</span>
   id: 8888,         <span class="comment">// number</span>
   isMarried: false  <span class="comment">// boolean</span>
};
console.log(student);
<span class="comment">//</span><span class="output">{ name: 'peter', id: 8888, isMarried: false }</span>

<span class="comment">// Add a new property via "index" operator, like an array</span>
student['age'] = 24;

<span class="comment">// Use for...in loop to access all items</span>
for (let key in student) {
   console.log(key + ": " + student[key]);
}
<span class="comment">//</span><span class="output">name: peter</span>
<span class="comment">//</span><span class="output">id: 8888</span>
<span class="comment">//</span><span class="output">isMarried: false</span>
<span class="comment">//</span><span class="output">age: 24</span>

<span class="comment">// An associative array is actually an object</span>
console.log(typeof student);
<span class="comment">//</span><span class="output">object</span>

<span class="comment">// You can also access a property via "dot" operator, like an object</span>
student.height = 190;
console.log(student.height);
<span class="comment">//</span><span class="output">190</span></pre>

<p>Take note that Array initializer uses square brackets <code>[ ... ]</code>; while object initializer  (for associative array) uses curly brackets <code>{ ... }</code>.</p>

<h4 id="functions">Functions</h4>

<p>Functions are useful:</p>
<ul>
<li>when you have to use the same codes several times.</li>
<li>as the JavaScript event handler.</li>
<li>make your program easier to read and understood.</li>
</ul>

<p>A function accepts zero or more arguments from the caller, performs the operations defined in the body, and returns zero or a single result to the caller. </p>

<p>Functions are objects in JavaScript (to be discussed later).</p>


<p>The syntax for user-defined function is:</p>
<pre class="syntax"><span class="highlight">function</span> <em>functionName</em><strong>(</strong><em>argument1</em>, <em>argument2</em>, ...<span class="highlight">) {</span>
  <em>statements</em><strong>;</strong>
  ......
  <span class="highlight">return</span> <em>returnValue</em>;
<span class="highlight">}</span></pre>

<p>Functions are declared using the keyword <code>function</code>.  Unlike Java/C/C++, you do not have to specify the return-type and the types of the arguments  because JavaScript is loosely typed.  You can use a <code>return</code> statement to return a single piece of result to the caller anywhere inside the function body. If no <code>return</code> statement is used (or a <code>return</code> with no value), JavaScript returns <code>undefined</code>.</p>
<p>For client-side JavaScript, functions are generally defined in the <code>HEAD</code> section, so that it is always loaded before being invoked.</p>

<p>To invoke a function:</p>
<pre class="syntax">
<em>functionName</em>(<em>argument1</em>, <em>argument2</em>, ...)</pre>


<h5>Client-Side JavaScript Function Examples</h5>
	
<pre><code class="language-html line-numbers">&lt;!DOCTYPE html&gt;
&lt;!-- "JSFunDemo.html" --&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;Function Demo&lt;/title&gt;
  &lt;script&gt;
    function add(item1, item2) {             // Take two numbers or strings
      return Number(item1) + Number(item2);  // Simply item1 + item2 concatenate strings
    }
  &lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;script&gt;
    var number1 = prompt('Enter the first integer:');  // returns a string
    var number2 = prompt('Enter the second integer:'); // returns a string
    alert('The sum is ' + add(number1, number2));
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>
	
<h5>Function's <code>arguments</code></h5>

<p>Function has access to an additional built-in variable called <code>arguments</code> inside its body, which is an array containing all the arguments. For example,</p>

<pre class="example">function add() {
   var sum = 0;
   for (var i = 0; i &lt; arguments.length; i++) {   <span class="comment">// "for-of" loop better</span>
      sum += Number(arguments[i]);
   }
   return sum;
}

console.log(add(1, 2, 3, 4, 5));
<span class="comment">//</span><span class="output">15</span>
console.log(add(6, 7));
<span class="comment">//</span><span class="output">13</span>
console.log(add(8.8, "9.9"));
<span class="comment">//</span><span class="output">18.700000000000003</span></pre>

<h5>Pass by Value vs. Pass by Reference</h5>

<p>In JavaScript, primitive arguments are <em>passed by value</em>.  That is, a copy of the variable is made and passed into the function. On the other hand, objects (including array and associative array) are passed by references. That is, if you modify the content of an object inside the function, the &quot;copy&quot; outside the function is also affected.</p>

<h5>The Default Function Arguments</h5>

<p>JavaScript lets you invoke a function omitting some trailing arguments. It sets the omitted arguments to the value <code>undefined</code>. For example,</p>

<pre class="example"><span class="comment">// Define a function with 3 parameters</span>
function f1(a1, a2, a3) {
   console.log('argument a1: type is ' + typeof a1 + ', value is ' + a1);
   console.log('argument a2: type is ' + typeof a2 + ', value is ' + a2);
   console.log('argument a3: type is ' + typeof a3 + ', value is ' + a3);
}

<span class="comment">// Invoke the function with varying number of arguments</span>
f1('hello');
<span class="comment">//</span><span class="output">argument a1: type is string, value is hello</span>
<span class="comment">//</span><span class="output">argument a2: type is undefined, value is undefined</span>
<span class="comment">//</span><span class="output">argument a3: type is undefined, value is undefined</span>

f1(1, 2);
<span class="comment">//</span><span class="output">argument a1: type is number, value is 1</span>
<span class="comment">//</span><span class="output">argument a2: type is number, value is 2</span>
<span class="comment">//</span><span class="output">argument a3: type is undefined, value is undefined</span>

f1('hello', 1, 2);
<span class="comment">//</span><span class="output">argument a1: type is string, value is hello</span>
<span class="comment">//</span><span class="output">argument a2: type is number, value is 1</span>
<span class="comment">//</span><span class="output">argument a3: type is number, value is 2</span>

f1(1, 2, 3, 4);
<span class="comment">//</span><span class="error">error: This function expects 3 arguments, but 4 were provided.</span></pre>

<p>You can use this feature to provide default value to function argument, for example,</p>

<pre class="example"><span class="comment">// Define a function with default arguments</span>
function f2(a1, a2, a3) {
   <span class="comment">// Set default for a2, if a2 is missing or null in function call</span>
   if (a2 === undefined || a2 === null) a2 = 88;

   <span class="comment">// Set default to a3
   // a3 evaluates to false for undefined, null, '', 0, NaN, false</span>
   a3 = a3 || 'myDefault';   <span class="comment">// more concise</span>

   console.log('argument a2: type is ' + typeof a2 + ', value is ' + a2);
   console.log('argument a3: type is ' + typeof a3 + ', value is ' + a3);
}

<span class="comment">// Invoke function with all the arguments</span>
f2('hello', 1, 2);
<span class="comment">//</span><span class="output">argument a2: type is number, value is 1</span>
<span class="comment">//</span><span class="output">argument a3: type is number, value is 2</span>

<span class="comment">// Invoke function with omitted trailing arguments</span>
f2('hello');
<span class="comment">//</span><span class="output">argument a2: type is number, value is 88</span>
<span class="comment">//</span><span class="output">argument a3: type is string, value is myDefault</span>
f2('hello', null, null);
<span class="comment">//</span><span class="output">argument a2: type is number, value is 88</span>
<span class="comment">//</span><span class="output">argument a3: type is string, value is myDefault</span></pre>

<p>In the above example, we allow caller to omit the trailing arguments (<code>a2</code>, <code>a3</code>) or pass a <code>null</code> value (which is a special literal for unallocated object).</p>

<p>The common idiom in practice today is to use the short-circuited OR expression (as in <code>a3</code>) to provide default value if no value (<code>undefined</code> or <code>null</code>) is passed, provided the valid inputs cannot be <code>false</code>, <code>0</code>, <code>''</code>, and <code>NaN</code> that evaluate to <code>false</code>.</p>

<h5>(ES6) Function with Default Parameter Values</h5>
<p>ES6 greatly simplify the above by introducing default parameter value in the form of <code>param = defaultValue</code>. For example,</p>
<pre class="example">function greets(name <span class="new">= 'everybody'</span>, callback <span class="new">= function (n) { console.log(`hello, ${n}`) }</span>) {
   callback(name)
}

greets()
<span class="comment">//</span><span class="output">hello, everybody</span>
greets('peter')
<span class="comment">//</span><span class="output">hello, peter</span>
greets('peter', console.log)
<span class="comment">//</span><span class="output">peter</span></pre>

<h5>(ES6) Rest/Spread Operator (<code>...</code>) and Arrow-Function Notation</h5>
<p>ES6 also introduces rest/spread operator (<code>...</code>) and arrow-function notation. See ES6 article.</p>

<h5>Anonymous (Inline) Functions</h5>
<p>In JavaScript, you can define an anonymous function (without a function name) using the following syntax:</p>
<pre class="syntax">
<span class="highlight">function(</span> <em>parameters</em> <span class="highlight">) {</span>  ....  <span class="highlight">}</span></pre>

<p>Anonymous function is often used in event handlers and others.</p>

<h5>Function Variables</h5>

<p>In JavaScript, a variable can hold a primitive (number, string, boolean) or an object. </p>
<p>In JavaScript, functions are first-class object. Hence, a variable can also hold a function object. For example,</p>

<pre class="example"><span class="comment">// Define a named function f1()</span>
function f1(a1) {
   return 'run f1()';
}
console.log(f1);
<span class="comment">//</span><span class="output">[Function: f1]</span>
console.log(<span class="new">f1('hello')</span>);
<span class="comment">//</span><span class="output">run f1()</span>

<span class="comment">// Declare a variable v2 and assign it an anonymous function</span>
var v2 = function (a2) {
   return 'run f2()';
}
console.log(v2);
<span class="comment">//</span><span class="output">[Function: f2]</span>
console.log(<span class="new">v2('hello')</span>);  <span class="comment">// invoke the function via the variable</span>
<span class="comment">//</span><span class="output">run f2()</span>

<span class="comment">// Define a variable v3 and assign it a named function</span>
var v3 = f1;
console.log(v3);
<span class="comment">//</span><span class="output">[Function: f1]</span>
console.log(<span class="new">v3('hello')</span>);  <span class="comment">// invoke the function via the variable</span>
<span class="comment">//</span><span class="output">run f1()</span></pre>

<h5>Two Ways in defining a function</h5>

<p>As seen in the above example, there are two ways to define a function:</p>
<ol>
<li>Use a function declaration statement in the form of:
<pre class="syntax">
<span class="highlight">function</span> <em>functionName</em> <span class="highlight">(</span> <em>parameters</em> <span class="highlight">) {</span> ...... <span class="highlight">}</span></pre></li>

<li>Use a function expression by assigning an anonymous function to a variable:
<pre class="syntax">
<span class="highlight">var</span> <em>functionVarName</em> <span class="highlight">= function (</span> <em>parameters</em> <span class="highlight">) {</span> ...... <span class="highlight">}</span></pre></li>
</ol>

<h5>Functions as Arguments</h5>

<p>Recall that a function takes zero or more arguments from the caller. In JavaScript, arguments can be a primitive or object. Since functions are first-class objects in JavaScript, <em>a function may take another function as its argument</em>.</p>

<p>For example, the following function take a function and an array as its arguments, and apply the function to the array.</p>

<pre class="example"><span class="comment">// Define a function, which takes a function and an array as its arguments,
// and apply the function to each item of the array.</span>
function processArray(inFun, inArray) {
   let resultArray = [];
   for (let i in inArray) {
      <span class="comment">// apply function to each item of the inArray</span>
      resultArray[i] = inFun(inArray[i]);
   }
   return resultArray;
}

<span class="comment">// Passing an anonymous function, and square each item of an array</span>
console.log(<span class="new">processArray(function (x) { return x * x; }, [1, 2, 3, 4, 5])</span>);
<span class="comment">//</span><span class="output">[ 1, 4, 9, 16, 25 ]</span>

<span class="comment">// Passing a named function</span>
function cube(x) { return x * x * x; }
console.log(<span class="new">processArray(cube, [1, 2, 3, 4, 5])</span>);
<span class="comment">//</span><span class="output">[ 1, 8, 27, 64, 125 ]</span></pre>

<h5>Nested Functions</h5>

<p>In JavaScript, you can define a function inside a function. For example,</p>

<pre class="example">function f1(msg1) {
   console.log('in f1() with message:' + msg1);
   <span class="comment">// Define a function inside a function</span>
   function f2(msg2) {
      console.log('in f2() with message:' + msg2);
      return 'f2:' + msg2;
   }
   <span class="comment">// Invoke the nested function with argument</span>
   return 'f1:' + f2(msg1);
}

<span class="comment">// Invoke the main function</span>
console.log(f1('hello'));
<span class="comment">//</span><span class="output">in f1() with message:hello</span>
<span class="comment">//</span><span class="output">in f2() with message:hello</span>
<span class="comment">//</span><span class="output">f1:f2:hello</span></pre>

<h5>Function as the return value</h5>

<p>You can return a function from a function. For example,</p> 

<pre class="example">function main(op) {
   let add = function (a1, a2) {
      console.log('in add()');
      return a1 + a2;
   };

   if (op === 'add') {
      return add;   <span class="comment">// return a named nested function</span>
   } else if (op === 'mul') {
      return function (a1, a2) {
         console.log('in mul()');
         return a1 * a2
      };            <span class="comment">// return a function anonymously defined</span>
   } else {
      return "error: invalid argument";
   }
}

<span class="comment">// Invoke the main function</span>
console.log(main('add')(1, 2));
<span class="comment">//</span><span class="output">in add()</span>
<span class="comment">//</span><span class="output">3</span>

console.log(main('mul')(3, 4));
<span class="comment">//</span><span class="output">in mul()</span>
<span class="comment">//</span><span class="output">12</span></pre>

<h4>Interacting with Users</h4>

<p>Client-side JavaScript provides these built-in top-level functions for interacting with the user:</p>

<ul>
<li><span class="lead-code">alert(<em>str</em>)</span>: Pop-up a box to alert user for important information. The user will have to click &quot;OK&quot; to proceed. The <code>alert()</code> returns nothing (or <code>undefined</code>).</li>

<li><span class="lead-code">prompt(<em>str</em>, <em>defaultValue</em>)</span>: Pop-up a box to prompt user for input, with an optional <code><em>defaultValue</em></code>. The <code>prompt()</code> returns the user's input as a string. For example,
  <pre class="example">var number1 = prompt('Enter the first integer:');
var number2 = prompt('Enter the second integer:');
alert('The sum is ' + number1 + number2);              <span class="comment">     // Concatenate two strings</span>
alert('The sum is ' + (Number(number1) + Number(number2))); <span class="comment">// Add two numbers</span></pre></li>

<li><span class="lead-code">confirm(<em>str</em>)</span>: Pop-up a box and ask user to confirm some information. The user will have to click on &quot;OK&quot; or &quot;Cancel&quot; to proceed. The <code>confirm()</code> which returns a boolean value. For example,
  <pre class="example">var isFriday = confirm(&quot;Is it Friday?&quot;);  <span class="comment">// Returns a boolean</span>
if (isFriday) {
   alert(&quot;Thank God, it's Friday!&quot;);
} else {
   alert('Not a Friday');
}</pre></li>

<li><span class="lead-code">document.write(<em>str</em>), document.writeln(<em>str</em>)</span>: Write the specified string to the current document. The <code>writeln()</code> (write-line) writes a newline after the string, while <code>write()</code> does not. Take note that browsers ignores extra white spaces,  including newlines, in an HTML document, and treat newline as a single blank character. You need to write a <code>&lt;br&gt;</code> or <code>&lt;p&gt;...&lt;/p&gt;</code> tag to ask the browser to display a line break.</li>
</ul>

<p>The following top-level built-in functions are available to client-side as well as server-side (or standalone):</p>
<ul>
<li><span class="lead-code">console.log(value)</span>: write to the system (or error) console, used mainly for debugging.</li>
</ul>

<h4>Other Top-level Built-in Functions</h4>

<p>JavaScript also pre-defines the following top-level global functions.</p>

<ul>
<li><span class="lead-code">parseInt(<em>str</em>), parseFloat(<em>str</em>)</span>: parses the given <em><code>str</code></em> and returns the numeric value or <code>NaN</code> (Not-A-Number). The <code>parseInt(<em>str</em>, <em>radix</em>)</code> accepts an optional <em><code>radix</code></em> (or base). For example,
  <pre class="example">
var a = parseInt(&quot;88&quot;);
console.log('type: ' + typeof a + ', value: ' + a);
<span class="comment">//</span><span class="output">type: number, value: 88</span>
 
a = parseInt(&quot;88.99&quot;);
console.log('type: ' + typeof a + ', value: ' + a);
<span class="comment">//</span><span class="output">type: number, value: 88</span>
 
a = parseInt(&quot;14px&quot;);
console.log('type: ' + typeof a + ', value: ' + a);
<span class="comment">//</span><span class="output">type: number, value: 14</span>
 
a = parseInt(&quot;Hello&quot;);
console.log('type: ' + typeof a + ', value: ' + a);
<span class="comment">//</span><span class="output">type: number, value: NaN</span>
 
a = parseFloat(&quot;88.99&quot;);
console.log('type: ' + typeof a + ', value: ' + a);
<span class="comment">//</span><span class="output">type: number, value: 88.99</span>
 
a = parseFloat(&quot;0.5%&quot;);
console.log('type: ' + typeof a + ', value: ' + a);
<span class="comment">//</span><span class="output">type: number, value: 0.5</span>
 
a = parseFloat('Hi');
console.log('type: ' + typeof a + ', value: ' + a);
<span class="comment">//</span><span class="output">type: number, value: NaN</span></pre></li>

<li><span class="lead-code">Number(<em>object</em>)</span>: returns the number representation of the object. It works for <code>String</code> object, as well as many objects such as <code>Date</code>.</li>

<li><span class="lead-code">isFinite(<em>number</em>)</span>: returns <code>true</code> if <em><code>number</code></em> is not <code>NaN</code>, <code>Infinity</code> or <code>-Infinity</code>.</li>

<li><span class="lead-code">isNaN(<em>number</em>)</span>: returns <code>true</code> if number is <code>NaN</code>. Useful for checking the output of <code>parseInt()</code> and <code>parseFloat()</code>.</li>

<li><span class="lead-code">eval(<em>codes</em>)</span>: evaluate the given JavaScript codes, which could be an expression or a sequence of statements. For example: [TODO]</li>

<li><span class="lead-code">encodeURI(), decodeURI(), encodeURIComponent(), decodeURIComponent()</span>: encode or decode name-value pairs for the HTTP request, by replacing special characters with <code>%xx</code>. For example: [TODO]</li>
</ul>

<h4>An Introduction to Events (for Client-side JavaScript)</h4>

<p>Client-side JavaScript are often event-driven.  That is, a function (called <em>event handler</em>) will be fired in response to a certain user's or browser's action that generates an <em>event</em>.</p>

<p>The commonly-used events are:</p>
<ul>
<li><code>click</code>: generated when the user clicks on an HTML element.</li>
<li><code>mouseover</code>, <code>mouseout</code>: generated when the user positions the mouse pointer inside/away from the HTML element.</li>
<li><code>load</code>, <code>unload</code>: generated after the browser loaded a document, and before the next document is loaded, respectively.</li>
</ul>

<p>The event handler,  called <code>on<em>eventname</em></code> (such as <code>onclick</code>, <code>onmousemove</code>, <code>onload</code>), is the function that responses to an event. The event handler is typically attached to the target HTML tag, e.g.,</p>
	
<pre><code class="language-html line-numbers">&lt;!DOCTYPE html&gt;
&lt;!-- "JSEventDemo.html" --&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;JavaScript Event Demo&lt;/title&gt;
  &lt;script&gt;
    function say(msg) {
      alert(msg);
    }
  &lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;h2 onmouseover="this.style.color='red'" onmouseout="this.style.color=''"&gt;Hello&lt;/h2&gt;
  &lt;input type="button" value="click me to say Hello" onclick="say('Hello')"&gt;
  &lt;p onclick="say('Hi')"&gt;Click this paragraph to say Hi...&lt;/p&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>More about events in the later sections.</p>

<h3 id="objects">Objects</h3>

<h4>Objects are Everywhere!</h4>

<p>JavaScript is object-oriented (OO), and objects are everywhere in JavaScript. Arrays are objects. Functions are also objects. Primitives like string and number are auto-box to objects in many operations. Almost everything in JavaScript can be an object, possibly except the <code>undefined</code> and <code>null</code> (unallocated object)!</p>

<p>It is crucial to understanding objects to be proficient in JavaScript, as they are  everywhere, and they are used extensively in JavaScript plug-ins like jQuery, AngularJS, React, and etc.</p>

<p>JavaScript, however, does not support all the OO features, so as to keep the language simple.</p>

<h4>Properties and Methods</h4>

<p>In conventional object-oriented programming languages (like Java/C++/C#), an object is a <em>collection of properties and methods under a common name</em>.</p>

<ul>
<li>Properties (also called variables, attributes): contains values associated with the object.</li>
<li>Methods (also called operations, functions): contains actions that the object can perform.</li>
</ul>

<p>For example, a <code>Car</code> object has properties such as <code>make</code>, <code>model</code>, <code>price</code>, <code>capacity</code>; and methods such as <code>startEngine()</code>, <code>move()</code>, <code>brake()</code>, <code>stopEngine()</code>.</p>

<p>Unlike full-fledged OO languages, JavaScript is designed on a simple OO paradigm. A JavaScript object is simply <em>a collection of properties</em>. A property is an association between a key (or name) and value (i.e., key-value pair or name-value pair). If the value is a function (recall that JavaScript functions are first-class objects that can be assigned to variables), the property is known as a <em>method</em>. In other words, JavaScript does not differentiate between properties and methods like conventional OO languages. A method is simply a property holding a function.</p>

<h4>Creating Objects via Object Initializer with Object Literal</h4>

<p>You can create a new object by directly assign an <em>object literal</em> to a variable, known as <em>Object Initializer</em>. The syntax is as follows:</p>

<pre class="syntax">
const <em>objectName</em> = {
   <em>property1</em>: <em>value1</em>,
   <em>property2</em>: <em>value2</em>,
   ......,
   ......
}</pre>

<ul>
<li>A JavaScript object is a collection of properties. Each property is an association of a name (key) and value pair.</li>

<li>The name and value are separated by a colon <code>':'</code>.</li>

<li>The name-value pairs are separated by commas <code>','</code>. No comma is needed after the last name-value pair.</li>

<li>The property name could be a string or a number. For string name which is NOT a valid identifier (an valid identifier begins with an alphabet, underscore or dollar sign; and does not containing special characters like blank or <code>'-'</code>), you need to enclose the name with single or double quotes.  Otherwise, the quotes are optional. For example,
<pre class="example">
var student = {
   <span class="new">name</span>:        'Tan Ah Teck', <span class="comment">// A valid identifier (quotes optional)</span>
   <span class="new">age</span>:         21,            <span class="comment">// Another valid identifier (quotes optional)</span>
   <span class="new">88</span>:          'hello',       <span class="comment">// A number (numeric index)</span>
   <span class="new">'my name'</span>:   'Peter',       <span class="comment">// Containing special character blank, need to be quoted</span>
   <span class="new">'font-size'</span>: '14px',        <span class="comment">// Containing special character '-', need to be quoted</span>
}</pre>
Take note that if the property name's string is a proper identifier, you can omit the quotes. This is commonly practiced by the developers.</li>

<li>The property value could be a literal, a variable or an expression.</li>

<li>A property's value could take all JavaScript types, including primitives (string, number, boolean), object or function. The property is known as a method, if it holds a function. JavaScript does not differentiate between variables and methods like conventional OO languages (Java/C++/C#). A method is simply a property holding a function.</li>

<li>Objects created via Object Initializer are instances of class <code>Object</code>.</li>
</ul>

<h5>Trailing Commas</h5>
<p> Trailing commas (sometimes called "final commas") can be useful when adding new elements, parameters, or properties to JavaScript code. If you want to add a new property, you can add a new line without modifying the previously last line if that line already uses a trailing comma. This makes version-control diffs cleaner and editing code might be less troublesome.

JavaScript has allowed trailing commas in array literals since the beginning, and later added them to object literals (ES?), and more recently, to function parameters (ES?) and to named imports and named exports (ES?). </p>
	
<h5>Property Accessors: The Dot and Index (Square Bracket) operator</h5>

<p>In JavaScript, you can access an object's properties via either:</p>
<ol>
<li>The dot (<code>.</code>) operator: in the form of <code><em>objectName</em>.<em>propertyName</em></code> or <code><em>objectName</em>.<em>methodName</em>(<em>arguments</em>)</code>, just like Java/C++.</li>

<li>The index <code>[]</code> operator (or bracket notation): In JavaScript, you can also use the index operator to access the object properties, in the form <code><em>objectName</em>[<em>propertyName</em>]</code>, just like accessing an array item.</li>
</ol>

<h5>The <code>delete</code> operator</h5>
<p>You can remove a property (including method) via &quot;<code>delete <em>propertyName</em></code>&quot;.</p>

<h5>Operator <code>instanceof</code></h5>

<p>You can use the <code>instanceof</code> operator to check if a particular instance belongs to a particular class of objects, e.g.,</p>

<pre class="example">const now = new Date();
console.log(typeof now);
<span class="comment">//</span><span class="output">object</span>
console.log(now instanceof Date);
<span class="comment">//</span><span class="output">true</span>
console.log(now instanceof Object);
<span class="comment">//</span><span class="output">true</span>
console.log(now instanceof Array);
<span class="comment">//</span><span class="output">false</span>
console.log(now instanceof Function);
<span class="comment">//</span><span class="output">false</span></pre>

<h5>The <code>.hasOwnProperty()</code> method</h5>
<p>The <code><em>obj</em>.hasOwnProperty(<em>propertyName</em>)</code> returns <code>true</code> if <code><em>obj</em></code> has the specific <code><em>propertyName</em></code>.</p>

<h5>Operator <code>in</code></h5>

<p>You can use the <code>in</code> operator to check if a particular property belongs to an object, for example,</p>

<pre class="example">
console.log(&quot;PI&quot; in Math);
<span class="comment">//</span><span class="output">true</span></pre>

<h5>Example 1: A Simple Object, Deleting and Adding Properties</h5>

<pre class="example"><span class="comment">// Create an object via &quot;Object Initializer&quot;</span>
const <span class="new">request = {
   type: 'POST',    <span class="comment">// You can omit the quotes in name if it is a valid identifier</span>
   url: 'apple.php',
}</span>;

console.log(request);
<span class="comment">//</span><span class="output">{ type: 'POST', url: 'apple.php' }</span>
console.log(typeof request);
<span class="comment">//</span><span class="output">object</span>

<span class="comment">// Use dot (.) operator to access the properties</span>
console.log(<span class="new">request.type</span>);
<span class="comment">//</span><span class="output">POST</span>
console.log(<span class="new">request.url</span>);
<span class="comment">//</span><span class="output">apple.php</span>

<span class="comment">// Modify property values via dot (.) operator</span>
<span class="new">request.url =</span> 'orange.php';
console.log(<span class="new">request.url</span>);
<span class="comment">//</span><span class="output">orange.php</span>

<span class="comment">// Use index [] operator to access the properties
// The property names shall be quoted. Otherwise, they will be treated as variables.</span>
console.log(<span class="new">request['type']</span>);
<span class="comment">//</span><span class="output">POST</span>
console.log(<span class="new">request['url']</span>);
<span class="comment">//</span><span class="output">orange.php</span>
<span class="new">request['url'] =</span> 'banana.php';
console.log(<span class="new">request['url']</span>);
<span class="comment">//</span><span class="output">banana.php</span>

<span class="comment">// You can use variables in index notation, but NOT in dot notation.</span>
const <span class="new">key</span> = 'url';
console.log(<span class="new">request[key]</span>);
<span class="comment">//</span><span class="output">banana.php</span>
console.log(request.key);  <span class="comment">// treated as a property</span>
<span class="comment">//</span><span class="output">undefined</span>

<span class="comment">// Check if property exists</span>
console.log(request.hasOwnProperty('type'));
<span class="comment">//</span><span class="output">true</span>
console.log(request.hasOwnProperty('url'));
<span class="comment">//</span><span class="output">true</span>

<span class="comment">// Delete a property</span>
delete request.type;
console.log(request.hasOwnProperty('type'));
<span class="comment">//</span><span class="output">false</span>
console.log(request.hasOwnProperty('url'));
<span class="comment">//</span><span class="output">true</span>

<span class="comment">// Add a new property</span>
<span class="new">request.msg = 'hello'</span>;
console.log(<span class="new">request['msg']</span>);
<span class="comment">//</span><span class="output">hello</span></pre>
	
<p>Unlike Java/C++, you can <em>delete</em> or <em>add</em> new properties to an existing JavaScript object.</p>

<h5>Example 2: An Object having Object Properties</h5>

<p>An object's property can hold primitives (number, string). It can also hold an object.</p>

<pre class="example">const request = {
   type: 'POST',
   url: 'apple.php',
   <span class="new">data: {          <span class="comment">// This property is an object</span>
      name: 'peter',
      id: 8888
   }</span>
};

console.log(request);
<span class="comment">//</span><span class="output">{ type: 'POST', url: 'apple.php', data: { name: 'peter', id: 8888 } }</span>

console.log(<span class="new">request.data</span>);
<span class="comment">//</span><span class="output">{ name: 'peter', id: 8888 }</span>
console.log(<span class="new">typeof request.data</span>);
<span class="comment">//</span><span class="output">object</span>
console.log(<span class="new">request.data.name</span>);     <span class="comment">// using dot operator</span>
<span class="comment">//</span><span class="output">peter</span>
console.log(<span class="new">request['data']['id']</span>); <span class="comment">// using index operator</span>
<span class="comment">//</span><span class="output">8888</span>

console.log(typeof request);
<span class="comment">//</span><span class="output">object</span>
console.log(typeof request.type);
<span class="comment">//</span><span class="output">string</span></pre>

<h5>Example 3: An object with function</h5>

<p>A JavaScript object's property can also hold a function (or method). You can assign to an anonymous function or a named function as shown in the following example.</p>

<pre class="example">const myCircle = {
   radius: 5.5,
   created: new Date(),    <span class="comment">// an object</span>
   <span class="new">getArea: function ()</span> {  <span class="comment">// an inline (anonymous) method</span>
      return this.radius * this.radius * Math.PI;
   },
   <span class="new">getCircumference()</span> {    <span class="comment">// shorter method format</span>
      return 2 * this.radius * Math.PI;
   },
   <span class="new">toString: toString</span>      <span class="comment">// a named function also called toString()</span>
}

<span class="new">function toString()</span> {
   return "myCircle {radius: " + this.radius
      + ", created: " + this.created + "}";
}

console.log(<span class="new">myCircle</span>);
<span class="comment">//</span><span class="output">{</span>
<span class="comment">//</span><span class="output">  radius: 5.5,</span>
<span class="comment">//</span><span class="output">  created: ......,</span>
<span class="comment">//</span><span class="output">  getArea: [Function: getArea],</span>
<span class="comment">//</span><span class="output">  getCircumference: [Function: getCircumference],</span>
<span class="comment">//</span><span class="output">  toString: [Function: toString]</span>
<span class="comment">//</span><span class="output">}</span>

<span class="comment">// Invoke methods via the dot operator</span>
console.log(<span class="new">myCircle.getArea()</span>);
<span class="comment">//</span><span class="output">95.03317777109125</span>
console.log(<span class="new">myCircle.getCircumference()</span>);
<span class="comment">//</span><span class="output">34.55751918948772</span>
console.log(<span class="new">myCircle.toString()</span>);
<span class="comment">//</span><span class="output">myCircle {radius: 5.5, created: ...}</span>
console.log(<span class="new">typeof myCircle.getArea</span>);
<span class="comment">//<span class="output">function</span>   (function is a first-class object in JavaScript)</span>
console.log(<span class="new">typeof myCircle.created</span>);
<span class="comment">//<span class="output">object</span>     (an Date object)</span>
</pre>

<h5>To quote or not to quote the name in name-value pair?</h5>
<p>The <code>name</code> (of the <code>name-value</code> pair) can take a string or a number, e.g., <code>var a = {88:'b', 'c':'d', fontSize:'14px'}</code>.</p>

<p>Many developers do not enquote the string <code>name</code>, if it is a valid identifier (a valid identifier begins with an alphabet, <code>'_'</code> or <code>'$'</code>; and does not contain special characters like blank and <code>'-'</code>). For example, <code>var a = {b:'c', d:'e'}</code> is the same as <code>var a = {'b':'c', 'd':'e'}</code>. However, you need to enquote a string <code>name</code> if it is NOT a valid identifier, e.g., <code>var a = {'1b':'c', 'my name':'peter', 'font-size':'14px'}</code>.</p>

<p>The string <code>value</code> must be enquoted; otherwise, it will be treated as a variable name.</p>

<h5>Dot Operator vs. Index (Square Bracket) Operator</h5>
<p>You can access an object's property via either dot operator or index operator. Dot operator is commonly used as it is more concise and used in conventional OO languages. But index operator allows access to properties containing special characters and selection of properties using variables, which is not feasible with dot operator. For example,</p>

<pre class="example">const a = { 'font-size': '14px' };  <span class="comment">// name contains special character, and is not a valid identifier</span>

<span class="comment">// Square bracket notation allows access to properties containing special characters
// and selection of properties using variables</span>
//console.log(a.font-size);   <span class="comment">// '-' treated as subtraction</span>
<span class="comment">//</span><span class="error">ReferenceError: size is not defined</span>
console.log(a['font-size']);
<span class="comment">//</span><span class="output">14px</span>

const key = 'font-size';
console.log(a[key]);              <span class="comment">// using a variable</span>
<span class="comment">//</span><span class="output">14px</span>
console.log(a['font' + '-size']); <span class="comment">// using an expression</span>
<span class="comment">//</span><span class="output">14px</span></pre>

<h5>Iterate through all the properties of an Object</h5>

<p>There are three ways to iterate through all properties of an object:</p>
<ol>
<li><span class="lead-code">for...in</span>: traverses all enumerable properties of an object and its prototype chain.</li>
<li><span class="lead-code">Object.keys(<em>obj</em>)</span>: return an array of all enumerable property names.</li>
<li><span class="lead-code">Object.getOwnPropertyNames(<em>obj</em>)</span>: return an array of all property names.</li>
</ol>

<p>For example,</p>
<pre class="example">const myCircle = {
   radius: 1.1,
   color: 'red',
   getArea: function () {
      return radius * radius * Math.PI;
   }
};

for (let name in myCircle) {    <span class="comment">// "for-in" loop</span>
   let value = myCircle[name];  <span class="comment">// need to use bracket notation for variable name</span>
   console.log("name:" + name + ", value:" + value);
}
<span class="comment">//</span><span class="output">name:radius, value:1.1</span>
<span class="comment">//</span><span class="output">name:color, value:red</span>
<span class="comment">//</span><span class="output">name:getArea, value:function () { ... }</span>

const keys = Object.keys(myCircle);
console.log(keys);
<span class="comment">//</span><span class="output">[ 'radius', 'color', 'getArea' ]</span>
for (let i = 0; i &lt; keys.length; i++) {
   let key = keys[i];
   let value = myCircle[key];
   console.log("key:" + key + ", value:" + value);
}
<span class="comment">//</span><span class="output">key:radius, value:1.1</span>
<span class="comment">//</span><span class="output">key:color, value:red</span>
<span class="comment">//</span><span class="output">key:getArea, value:function () { ... }</span>

const names = Object.getOwnPropertyNames(myCircle);
console.log(names);
<span class="comment">//</span><span class="output">[ 'radius', 'color', 'getArea' ]</span>
for (let name of names) {    // "for-of" loop
   let value = myCircle[name];
   console.log("name:" + name + ", value:" + value);
}
<span class="comment">//</span><span class="output">name:radius, value:1.1</span>
<span class="comment">//</span><span class="output">name:color, value:red</span>
<span class="comment">//</span><span class="output">name:getArea, value:function () { ... }</span></pre>


<h5>Operator <code>with</code></h5>

<p>Establishes the default object for a set of statements. The syntax is:</p>
<pre class="syntax">
<span class="highlight">with (</span><em>expression</em><span class="highlight">) {</span>
   <em>statement</em>;
<span class="highlight">}</span></pre>

<h5>The <code>null</code> vs <code>undefined</code> Literal Values</h5>

<p>As discussed earlier:</p>
<ul>
<li>An undeclared variable has type of <code>undefined</code>, and its value cannot be referenced.
<pre class="example">console.log(typeof <span class="new">v99</span>)  <span class="comment">// undeclared</span>
<span class="comment">//</span><span class="output">undefined</span>
console.log(<span class="new">v99</span>)
<span class="comment">//</span><span class="error">ReferenceError: v99 is not defined</span></pre></li>
<li>A declared but uninitialized variable has type of <code>undefined</code>, with a special literal value of <code>undefined</code> too. [<code>undefined</code> is both a type and a literal value!]
<pre class="example"><span class="new">let v101</span>    <span class="comment">// declare without initialized</span>
console.log('type:', typeof v101, 'value:', v101)
<span class="comment">//</span><span class="output">type: undefined value: undefined</span></pre>
</li>
<li>A unallocated object has a special literal value of <code>null</code>. Take note that <code>null</code> is an object!
<pre class="example"><span class="new">let myCircle = null</span>
console.log('type:', typeof myCircle, 'value:', myCircle);
<span class="comment">//</span><span class="output">type: object value: null</span>
console.log(<span class="new">typeof null</span>)
<span class="comment">//</span><span class="output">object</span></pre>
</li>
</ul>

<p>In boolean expressions, both the <code>null</code> and <code>undefined</code> evaluate to <code>false</code> (together with empty-string <code>&quot;&quot;</code>, number <code>0</code> and <code>NaN</code>, and boolean <code>false</code>). To check for <code>null</code> value, use <code>value === null</code>, as <code>value == null</code> (or <code>!value</code>) returns <code>true</code> for <code>null</code>, <code>undefined</code>, <code>&quot;&quot;</code>, <code>0</code>, <code>NaN</code>, and <code>false</code></p>

<h3>Built-in JavaScript Objects</h3>

<p>JavaScript provides many useful global objects, such as <code>Array</code>, <code>Date</code>, <code>String</code>, and <code>Number</code>.</p>

<p>I shall discuss some commonly used objects here. For detailed specification and examples about a built-in object, check &quot;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference">Core JavaScript References</a>&quot;.</p>


<h4>Creating an Object via Constructor and the <code>new</code> Operator</h4>

<p>All the built-in objects define a so-called <em>constructor</em>, which is a special method having the same name as the object, for creating new instances. To invoke the constructor, you need to use a special <code>new</code> operator.</p>

<p>For example, the <code>Date</code> object has a constructor method called <code>Date()</code>. To construct a new instance of <code>Date</code> object:</p>

<pre class="example"><span class="comment">// Date(): Construct a Date object at current date and time</span>
var now = new Date();
console.log(now);
<span class="comment">//</span><span class="output">Tue May 26 2015 22:59:43 GMT+0800 (SGT)</span>
console.log(now.toString());
<span class="comment">//</span><span class="output">Tue May 26 2015 22:59:43 GMT+0800 (SGT)</span>
console.log(now.valueOf());
<span class="comment">//</span><span class="output">1432652383342</span>
console.log('type: ' + typeof now);
<span class="comment">//</span><span class="output">type: object</span>
console.log(now instanceof Object);
<span class="comment">//</span><span class="output">true</span>
console.log(now instanceof Date);
<span class="comment">//</span><span class="output">true</span>
console.log(now instanceof Array);
<span class="comment">//</span><span class="output">false</span>

<span class="comment">// Date(year, month, day, hours, minutes, seconds, milliseconds):
//   Construct a Date object at the given date and time</span>
var day = new Date(1970, 1, 1, 12, 34, 56, 79);
console.log(day);
<span class="comment">//</span><span class="output">Sun Feb 01 1970 12:34:56 GMT+0800 (SGT)</span>
console.log(day.toString());
<span class="comment">//</span><span class="output">Sun Feb 01 1970 12:34:56 GMT+0800 (SGT)</span>
console.log(day.valueOf());
<span class="comment">//</span><span class="output">2694896079</span></pre>

<h5>The <code>typeof</code> and <code>instanceof</code> Operators</h5>

<p>As seen from the above examples, the <code>typeof</code> operator returns the type of a value, which can be a primitive type (such as number, string, boolean) or object (including function).</p>

<p>The <code>instanceof</code> operator check if the value is an instance of a class.</p>

<h5>The <code>.toString()</code> and <code>.valueOf()</code> Methods</h5>

<p>The following methods are available to all built-in JavaScript objects:</p>
<ul>
<li><span class="lead-code">.toString()</span>: returns a string description about this object.</li>
<li><span class="lead-code">.valueOf()</span>: converts this object to a primitive value such as <code>number</code>.</li>
</ul>

<h4>The <code>Array</code> Object and Associative Arrays</h4>

<p>For an introduction to arrays, read the &quot;<a href="JavaScript_Introduction.html#arrays">Arrays</a>&quot; section.</p>

<p>Nowadays, we usually create an array via Array Initializer in the form of <code>[<em>value1</em>, <em>value2</em>, ...]</code>. Nonetheless, as arrays are objects of class <code>Array</code>, we could also construct an array by invoking the <code>Array()</code> constructor with the <code>new</code> operator. This is more complex and, hence, less commonly used today (but may show up in old codes and books).</p>

<p>For example,</p>

<pre class="example"><span class="comment">// Construct an Array object invoking the constructor with new operator</span>
var weekdays = new Array("sun", "mon", "tue", "wed", "thu", "fri", "sat");
console.log(weekdays.length);
<span class="comment">//</span><span class="output">7</span>
console.log(weekdays);
<span class="comment">//</span><span class="output">[ 'sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat' ]</span>
console.log(typeof weekdays);
<span class="comment">//</span><span class="output">object</span>
console.log(weekdays instanceof Array);
<span class="comment">//</span><span class="output">true</span>
//console.log(weekdays instanceof array);
<span class="comment">//</span><span class="error">ReferenceError: array is not defined</span>

<span class="comment">// Create an array via Array Initializer</span>
var a = [0, 'b', 'c'];
console.log(typeof a);
<span class="comment">//</span><span class="output">object</span>
console.log(a instanceof Array);
<span class="comment">//</span><span class="output">true</span></pre>


<h5>An Associative Array is a Generic "Object", not an "Array" Object</h5>

<p>For an introduction to arrays, read the &quot;<a href="JavaScript_Introduction.html#associativeArrays">Associative Arrays</a>&quot; section.</p>

<p>JavaScript does not really support associative array, but allow you to add properties to an object, using the associative array syntax and index operator. In other words,</p>

<pre class="example">var student = { name: 'peter' };
student['age'] = 21;           <span class="comment">// or student.age = 21</span>
console.log(student['age']);   <span class="comment">// or student.age</span>
<span class="comment">//</span><span class="output">21</span>

console.log(student.length);
<span class="comment">//</span><span class="output">undefined    (It is an Object, not Array. The .length is for array)</span>
console.log(student instanceof Array);
<span class="comment">//</span><span class="output">false</span></pre>

<h5>Using an Array Object for Associative Array</h5>

<p>In JavaScript, we usually create an associative array using a generic object (via the Object Initializer). You can also create an associative array via <code>Array</code> constructor. For examples,</p>

<pre class="example"><span class="comment">// Construct an array</span>
var student = new Array();

<span class="comment">// Add item with string key - need to quote the string</span>
student['name'] = 'Peter';
student['id'] = 12345;

for (let key in student) {
   console.log(key + ": " + student[key]);
}
<span class="comment">//</span><span class="output">name: peter</span>
<span class="comment">//</span><span class="output">id: 12345</span>

console.log(student.length);
<span class="comment">//</span><span class="output">0   (!!!)</span>
console.log(student instanceof Array);
<span class="comment">//</span><span class="output">true</span>
console.log(typeof student);
<span class="comment">//</span><span class="output">object</span></pre>

<p>In this case, additional properties are added into an <code>Array</code> object as object's properties. The array has <code>.length</code> of 0, as <code>.length</code> reflects only the numerical indexes! Using an array object for associative array is not recommended. I describe here for completeness.</p>


<h4>The <code>String</code> Object vs <code>string</code> Primitive Type</h4>

<p>JavaScript provides primitive <code>string</code> type. It also provide a <code>String</code> class as a wrapper class for primitive <code>string</code>. Read &quot;<a href="JavaScript_Introduction.html#stringType">The string Type, Literals and Operations</a>&quot; for primitive <code>string</code>.</p>

<p>A string can be created in two ways:</p>
<ol>
<li>directly assigned a string literal in the form of <code>&quot;...&quot;</code> or <code>'...'</code> to a variable, resulted in a <code>string</code> primitive.</li>
<li>invoke the <code>String</code> object constructor to construct a <code>String</code> object.</li>
</ol>

<p>For examples,</p>
<pre class="example"><span class="comment">// Creating a string primitive by assigning a string literal</span>
var str1 = 'Hello';
console.log('type: ' + typeof str1);
<span class="comment">//</span><span class="output">type: string    (primitive)</span>
console.log(str2 instanceof String);
<span class="comment">//</span><span class="output">false</span>
console.log(str2 instanceof Object);
<span class="comment">//</span><span class="output">false</span>

<span class="comment">// Create a String object by invoking the constructor</span>
var str2 = new String('Hello');
console.log('type: ' + typeof str2);
<span class="comment">//</span><span class="output">type: object</span>
console.log(str2 instanceof String);
<span class="comment">//</span><span class="output">true</span>
console.log(str2 instanceof Object);
<span class="comment">//</span><span class="output">true</span></pre>

<p>The former is  a <em>primitive</em> <code>string</code>, while the latter is a <code>String</code> object.</p>

<p><code>String</code> object is a wrapper for primitive string, which provides many useful methods for manipulating strings. See &quot;<a href="JavaScript_Introduction.html#stringType">The string Type, Literals, and Operations</a>&quot;.</p>

<p>A <code>string</code> primitive is &quot;auto-box&quot; to a <code>String</code> object, when you invoke a <code>String</code> object's methods. For example,</p>

<pre class="example">var str = "hello";  <span class="comment">// a primitive string</span>

<span class="comment">// Auto-box to a String Object, before applying the property/method</span>
console.log(str.length);
<span class="comment">//</span><span class="output">5</span>
console.log(str.substring(1, 3));
<span class="comment">//</span><span class="output">el</span></pre>

<h4>The <code>Number</code> Object vs <code>number</code> Primitive Type</h4>

<p>JavaScript provides primitive <code>number</code> type. It also provide a <code>Number</code> class as a wrapper class for primitive <code>number</code>. Read &quot;<a href="JavaScript_Introduction.html#numberType">The number Type, Literals and Operations</a>&quot; for primitive <code>number</code>.</p>


<p>The <code>Number</code> object is a wrapper object for <em>primitive</em> <code>number</code>, which provides many properties and methods. Again, a <code>number</code> primitive is <em>auto-box</em> to a <code>Number</code> object, when you invoke a <code>Number</code> object's operation.  See &quot;<a href="JavaScript_Introduction.html#numberType">The number Type, Literals, and Operations</a>&quot;.</p>

<h4>The <code>Boolean</code> Object vs boolean <code>Primitive</code> Type</h4>

<p>JavaScript provides primitive <code>boolean</code> type. It also provide a <code>Boolean</code> class as a wrapper class for primitive <code>boolean</code>. Read &quot;<a href="JavaScript_Introduction.html#booleanType">The boolean Type, Literals and Operations</a>&quot; for primitive <code>boolean</code>.</p>


<p>The <code>Boolean</code> object is a wrapper object for <em>primitive</em> <code>boolean</code>, which provides many properties and methods.</p>

<h4>The <code>Date</code> Object</h4>
<p>Commonly-used constructors:</p>
<ul>
<li><span class="lead-code">new Date()</span>: constructs a <code>Date</code> object with the current date and time.</li>
<li><span class="lead-code">new Date(<em>dateTimeStr</em>)</span>: constructs a <code>Date</code> object with the given date-time string in an acceptable form (e.g., &quot;Month, day, year, hours:minutes:seconds&quot;).</li>
<li><span class="lead-code">new Date(<em>year</em>, <em>Month</em>, <em>day</em>)</span>: where month is 0-11 for Jan to Dec.</li>
<li><span class="lead-code">new Date(<em>year</em>, <em>Month</em>, <em>day</em>, <em>hours</em>, <em>minutes</em>, <em>seconds</em>, <em>milliseconds</em>)</span></li>
</ul>

<p>Commonly-used methods:</p>
<ul>
<li><code>getDate()</code>, <span class="lead-code">setDate()</span>, <span class="lead-code">getMonth()</span>, <span class="lead-code">setMonth()</span>, <span class="lead-code">getFullYear()</span>, <span class="lead-code">setFullYear()</span>: get/set the date (1-31), month (0-11 for Jan to Dec), year (4-digit year).</li>
<li><span class="lead-code">getDay()</span>: get the day of the week (0-6 for Sunday to Saturday).</li>
<li><span class="lead-code">getHours()</span>, <span class="lead-code">setHours()</span>, <span class="lead-code">getMinutes()</span>, <span class="lead-code">setMinutes()</span>, <span class="lead-code">getSeconds()</span>, <code>setSeconds()</code>: get/set the hours/minutes/seconds.</li>
<li><span class="lead-code">getTime()</span>, <span class="lead-code">setTime()</span>: get/set the number of milliseconds since January 1, 1970, 00:00:00.</li>
</ul>

<h4>The <code>Math</code> Object</h4>
<p>Commonly-used properties:</p>
<ul>
<li><span class="lead-code">E</span>, <span class="lead-code">PI</span>: Eulers constant and <code>PI</code>.</li>
<li><span class="lead-code">LN2</span>, <span class="lead-code">LN10</span>, <span class="lead-code">LOG2E</span>, <span class="lead-code">LOG10E</span>: <span class="lead-code">ln(2)</span>, <span class="lead-code">ln(10)</span>, <span class="lead-code">log<sub>2</sub>(e)</span>, <span class="lead-code">log<sub>10</sub>(e)</span>.</li>
<li><span class="lead-code">SQRT2</span>, <span class="lead-code">SQRT1_2</span>: square root of 2 and one-half.</li>
</ul>

<p>Commonly-used methods:</p>
<ul>
<li><span class="lead-code">abs(<em>x</em>)</span></li>
<li><span class="lead-code">sin(<em>a</em>)</span>, <span class="lead-code">cos(<em>a</em>)</span>, <span class="lead-code">tan(<em>a</em>)</span>, <span class="lead-code">asin(<em>x</em>)</span>, <span class="lead-code">acos(<em>x</em>)</span>, <span class="lead-code">atan(<em>x</em>)</span>, <span class="lead-code">atan2(<em>x</em>,<em>y</em>)</span></li>
<li><span class="lead-code">cell(<em>x</em>)</span>, <span class="lead-code">floor(<em>x</em>)</span>, <span class="lead-code">round(<em>x</em>)</span></li>
<li><span class="lead-code">exp(<em>x</em>)</span>, <span class="lead-code">log(<em>x</em>)</span>, <span class="lead-code">pow(<em>base</em>,<em>exp</em>)</span>, <span class="lead-code">sqrt(<em>x</em>)</span></li>
<li><span class="lead-code">max(<em>x</em>,<em>y</em>)</span>, <span class="lead-code">min(<em>x</em>,<em>y</em>)</span></li>
<li><span class="lead-code">random()</span>: returns a pseudo-random number between 0 and  1.</li>
</ul>

<h4>The <code>Function</code> Object</h4>
<p>For an introduction to functions, read &quot;<a href="JavaScript_Introduction.html#functions">Function</a>&quot; section.</p>

<p>Every function in JavaScript is actually a <code>Function</code> object!</p>

<h5>Function Variable</h5>

<p>A variable can be assigned a <code>Function</code> object (called function variable), which takes a special object type called <code>function</code>. [In JavaScript, an object's type is either <code>function</code> (for <code>Function</code> object) or <code>object</code> (for any object not a <code>Function</code>).]</p>

<p>For example,</p>

<pre class="example">function sayHello(name) {  <span class="comment">// Define a 'named' function</span>
   return 'hello, ' + name;
}
console.log(sayHello('peter'));  <span class="comment">// Invoke function with function name</span>
<span class="comment">//</span><span class="output">hello, peter</span>
console.log('type: ' + typeof sayHello);
<span class="comment">//</span><span class="output">type: function</span>
console.log(sayHello instanceof Function);
<span class="comment">//</span><span class="output">true</span>
console.log(sayHello instanceof Object);
<span class="comment">//</span><span class="output">true</span>

<span class="comment">// Assign a variable to a function object (without parentheses and argument)</span>
var magic = sayHello;

console.log(magic('paul'));    <span class="comment">// Invoke function via variable</span>
<span class="comment">//</span><span class="output">hello, paul</span>
console.log('type: ' + typeof magic);
<span class="comment">//</span><span class="output">type: function</span>
console.log(magic instanceof Function);
<span class="comment">//</span><span class="output">true</span>
console.log(magic instanceof Object);
<span class="comment">//</span><span class="output">true</span></pre>

<h5>Anonymous Function</h5>

<p>If a function is called only once, you can use an anonymous function, omitting the function name. Anonymous functions are commonly-used as event handler, e.g.,</p>

<pre class="example">
<span class="comment">// Client-side JavaScript
// The property &quot;window.onload&quot; takes a function object, to be called back
//  with an event object as argument when onload event triggers</span>
window.onload = <span class="new">function(event) {
   console.log(&quot;run onload handler&quot;);
   console.log(event.target);  <span class="comment">// element that triggered the event</span>
}</span>
<span class="new"></span>
<span class="comment">// Alternative, you can assign to a pre-defined function</span>
function <span class="new">onloadhandler</span>(event) {
   console.log(&quot;run pre-defined onload handler&quot;);
   console.log(event.target);
}
window.onload = <span class="new">onloadhandler</span>;  <span class="comment">// function name only, without argument and parentheses
                                // function must be defined before assignment</span>
</pre>


<p>You can define a inline (anonymous) function and assign it to a variable as follows:</p>

<pre class="example">var magic = function() { return &quot;Hello&quot; };
<span class="comment">// same as</span>
function magic() { return &quot;Hello&quot; };</pre>

<h5>Function Constructor</h5>

<p>Besides using <code>function</code> keyword<code></code>, you can also use the <code>Function</code> constructor (with <code>new</code> operator) to define a <code>Function</code> object. This is not easily understood and, hence, not recommended.</p>

<pre class="example">var magic = new Function("arg1", "arg2", "return arg1 + arg2");
<span class="comment">// Same as</span>
//   function magic(arg1, arg2) { return arg1 + arg2; }
<span class="comment">// Also same as</span>
//   var magic = function (arg1, arg2) { return arg1 + arg2; }

console.log(magic(55, 66));
<span class="comment">//</span><span class="output">121</span>
console.log(magic('55', '66'));
<span class="comment">//</span><span class="output">5566</span>
console.log('type: ' + typeof magic);
<span class="comment">//</span><span class="output">type: function</span>
console.log(magic instanceof Function);
<span class="comment">//</span><span class="output">true</span>
console.log(magic instanceof Object);
<span class="comment">//</span><span class="output">true</span></pre>

<p>The syntax for <code>Function</code> constructor is:</p>
<pre class="syntax">
var <em>functionName</em> = new Function(&quot;<em>argument1</em>&quot;, &quot;<em>argument2</em>&quot;, ..., &quot;<em>functionBody</em>&quot;);</pre>

<h4>The <code>console</code> object</h4>
	
<h5>Formatting Console Output</h5>
	
<p><span class="lead-code">console.log('formattingStr', arg1, arg2, ...)</span>: You can use C's <code>printf()</code>-like syntax with format specifiers (such as <code>%s</code>, <code>%2d</code>, <code>%6.2f</code>) to format the output string.</p>
<p>You can use %c to apply CSS rules, e.g.,</p>
<pre class="example">console.log('<span class="new">%c</span>hello, world', <span class="new">'color: green; font-size: 24px'</span>)</pre>

<h5>Logging Methods</h5>
<p>JavaScript supports 5 levels of logging, in the order of severity:</p>
<ol>
<li><span class="lead-code">console.error()</span>:</li>
<li><span class="lead-code">console.warn()</span>:</li>
<li><span class="lead-code">console.log()</span>:</li>
<li><span class="lead-code">console.info()</span>:</li>
<li><span class="lead-code">console.debug()</span>:</li>
</ol>
	
<h5>More Debugging Methods</h5>
<ul>
<li><span class="lead-code">console.trace()</span>: print the current stack trace.</li><li><span class="lead-code">console.dir()</span>: displays an <em>interactive</em> list of the properties of the specified JavaScript object.</li>
<li><span class="lead-code">console.dirxml()</span>: displays in XML the properties of the specified JavaScript object.</li>
<li><span class="lead-code">console.assert()</span>: writes an error message to the console if the assertion is false; otherwise do nothing.</li>
</ul>
	
<h5>Time Measurements</h5>
<ul>
<li><span class="lead-code">console.time([<em>label</em>])</span>: starts a new timer.</li>
<li><span class="lead-code">console.timeEnd([<em>label</em>])</span>: ends the timer and returns the time in milliseconds since the timer starts.</li>
<li><span class="lead-code">console.timeLog([<em>label</em>])</span>: returns the elapsed time since the timer started.</li>
</ul>
	
<p></p>

<h3>More on Objects</h3>

<h4>Prototype-based vs. Class-based OO</h4>

<p>JavaScript's OO is <em>prototype-based</em>, instead of <em>class-based</em> like Java/C++/C#.</p>

<p>A <em>class-based</em> OO language (such as Java/C++/C#) is founded on concepts of <em>class</em> and <em>instance</em>. A <em>class</em> is a blue-print or template of things of the same kind. An <em>instance</em> is a particular realization of a class. For example, &quot;<code>Student</code>&quot; is a class; and &quot;<code>Tan Ah Teck</code>&quot; and &quot;<code>Paul Lee</code>&quot; are instances of the &quot;<code>Student</code>&quot; class. In a class-based OO language, you must first write a class definition, before you can create instances based on the class definition. The instances created have exactly the same properties and methods as the class - no more, and no less.</p>

<p>On the other hand, a <em>prototype-based</em> OO language (such as JavaScript) simply has objects (or instances). A new object can be constructed based on an existing object as prototype.  There is no class definition, and hence, they are also called  <em>class-less</em> OO languages.</p>

<p>In JavaScript:</p>
<ul>
<li>Every JavaScript object has a <em>prototype</em>. The prototype is also an object. A JavaScript object is created from a prototype object and gets its initial properties from the prototype.</li>

<li>Every JavaScript object has an internal property called <code>__proto__</code>, which holds its prototype object. When you define a new object, its <code>__proto__</code> is set to a built-in object called <code>Object.prototype</code>. In other words, the new object uses <code>Object.prototype</code> as its prototype, and gets its initial properties from <code>Object.prototype</code>. The <code>__proto__</code> property is not enumerable, i.e., it would not shown up in the <code>for...in</code> loop.</li>
</ul>

<h5>Example: Object Prototype</h5>
<pre class="example"><span class="comment">// Define an object via Object Initializer</span>
const myCircle = {
   radius: 1.1,
   getArea() {
      return this.radius * this.radius * Math.PI;
   }
}

<span class="comment">// myCircle has TWO own properties: radius and getArea</span>
console.log(myCircle.radius);
<span class="comment">//</span><span class="output">1.1</span>
console.log(myCircle.getArea());
<span class="comment">//</span><span class="output">3.8013271108436504</span>

<span class="comment">// Check myCircle's prototype</span>
console.log(myCircle.__proto__ === Object.prototype);
<span class="comment">//</span><span class="output">true</span>
console.log(Object.prototype);
<span class="comment">//</span><span class="output">[Object: null prototype] { }</span>
   <span class="comment">// Object.prototype holds an object called Object,
   //   which is served as prototype for other objects.
   // Object is the only object in JavaScript without a prototype,
   //   with its __proto__ sets to null.</span>
console.log(Object.prototype.__proto__);
<span class="comment">//</span><span class="output">null</span>
   <span class="comment">// Object is always sit on top of the so-called prototype chain.
   // i.e.,  myCircle -&gt; Object.prototype -&gt; null</span>

<span class="comment">// The Object.prototype contains shared functions such as toString(),
// valueOf() and hasOwnProperty().</span>
console.log(Object.prototype.toString());
<span class="comment">//</span><span class="output">[object Object]</span>
console.log(Object.prototype.valueOf());
<span class="comment">//</span><span class="output">[Object: null prototype] { }</span>
console.log(Object.prototype.hasOwnProperty('toString'));
<span class="comment">//</span><span class="output">true</span>

<span class="comment">// The newly created objects inherits all the properties from its prototype, e.g.</span>,
console.log(myCircle.toString());   <span class="comment">// invoke Object.prototype.toString()</span>
<span class="comment">//</span><span class="output">[object Object]</span>
console.log(myCircle.hasOwnProperty('toString'));
<span class="comment">//<span class="output">false</span>   //inherited, NOT own property</span>
console.log(myCircle.hasOwnProperty('radius'));
<span class="comment">//</span><span class="output">true</span>

<span class="comment">// Iterating thru all the properties</span>
for (let key in myCircle) {
   console.log("key: " + key + ", value: " + myCircle[key]);
}
<span class="output">//key: radius, value: 1.1
//key: getArea, value: function () { ... }</span>
   <span class="comment">// Note that __proto__ property does not show up in for...in, i.e., it is not enumerable</span>

<span class="comment">// Define another object via new Object() constructor</span>
var anotherCircle = new Object();
anotherCircle.radius = 2.2;
console.log(anotherCircle.__proto__ === Object.prototype);
<span class="comment">//</span><span class="output">true</span></pre>

<p>Notes:</p>
<ul>
<li><span class="lead">Prototype Chain</span>: In the above example, <code>myCircle</code>'s prototype is <code>Object.prototype</code>, whose prototype is <code>null</code>. This form a <em>prototype chain</em> of <code>myCircle -&gt; Object.prototype -&gt; null</code>. <code>myCircle</code> defines two own properties: <code>radius</code> and <code>getArea</code>. When you invoke <code>myCircle.toString()</code>, which cannot be found in <code>myCircle</code>, but found in its prototype.</li>
<li><span class="lead-code">Object.getPrototypeOf(<em>obj</em>)</span>: Instead of using <code><em>obj</em>.__proto__</code> property used in above example, which is NOT in the official JavaScript specification, you should use <code>Object.getPrototypeOf(<em>obj</em>)</code> method to get the prototype of an object.</li>
</ul>

<h4>Defining Your Own Custom Objects via a Constructor</h4>

<p>In JavaScript, you can create your own custom objects by defining a constructor. A constructor is simply a function, which can be invoked via the <code>new</code> operator to create and initialize new objects. Recall that JavaScript is prototype-based and class-less. A new object is created from a prototype object, and gets its initial properties from this prototype object. The constructor function provides the prototype to create and initialize new instances (to be explained later).</p>

<p>By convention, a constructor name begins with an uppercase letter.</p>

<h5>Keyword <code>this</code></h5>

<p>&quot;<code>this</code>&quot; refers to the current object. <code>this.<em>propertyName</em></code> refers to the property of this object.</p>

<h5>Example: Object Constructor Function</h5>

<p>Let us define a constructor for our custom <code>Circle</code> objects, with properties <code>radius</code>, <code>created</code>, <code>getArea()</code> and <code>toString()</code>.</p>

<pre class="example"><span class="comment">// Define a constructor for Circle objects, which takes an argument radius.
// The Circle objects have properties radius and dateCreated, getArea() and toString().</span>
function Circle(radius) {
   this.radius = radius || 1;      <span class="comment">// Default is 1, if radius evaluates to false (e.g., undefined)</span>
   this.dateCreated = new Date();  <span class="comment">// Assign an object</span>
   this.getArea = function () {    <span class="comment">// Assign a function object via an inline function</span>
      return this.radius * this.radius * Math.PI;
   };
   this.toString = toString; <span class="comment">// Assign a function object via a named function</span>
}

<span class="comment">// Define the function toString()</span>
function toString() {
   return "Circle {radius: " + this.radius
      + ", dateCreated: " + this.dateCreated + "}";
}

<span class="comment">// Creating Circle objects via new and constructor</span>
var circle1 = <span class="new">new</span> Circle(1.5);
console.log(circle1);
<span class="comment">//</span><span class="output">Circle {radius: 1.5, dateCreated: ...}</span>
var circle2 = <span class="new">new</span> Circle();
console.log(circle2);
<span class="comment">//</span><span class="output">Circle {radius: 1, dateCreated: ...}</span>
var circle3 = <span class="new">new</span> Circle;  <span class="comment">// parentheses optional if there is no argument</span>
console.log(circle3);
<span class="comment">//</span><span class="output">Circle {radius: 1, dateCreated: ...}</span>

<span class="comment">// Invoke methods using dot operator</span>
console.log(circle1.getArea());
<span class="comment">//</span><span class="output">7.0685834705770345</span>
console.log(circle2.getArea());
<span class="comment">//</span><span class="output">3.141592653589793</span>

<span class="comment">// Check type</span>
console.log(typeof circle1);
<span class="comment">//</span><span class="output">object</span>
console.log(circle1 instanceof Object);
<span class="comment">//</span><span class="output">true</span>
console.log(circle1 instanceof Circle);
<span class="comment">//</span><span class="output">true</span>
console.log(circle1 instanceof Array);
<span class="comment">//</span><span class="output">false</span>

<span class="comment">// Every constructor function object has a special property called .prototype
//   which holds an object to be used as a prototyping object.</span>
console.log(Circle.prototype);
<span class="comment">//</span><span class="output">{}</span>

<span class="comment">// Check __proto__ internal property</span>
console.log(circle1.__proto__ === Circle.prototype);
<span class="comment">//</span><span class="output">true</span>
console.log(Circle.prototype.__proto__ === Object.prototype);
<span class="comment">//</span><span class="output">true</span>
console.log(Object.prototype.__proto__);
<span class="comment">//</span><span class="output">null</span>
   <span class="comment">// The prototype chain is:
   // circle1 -&gt; Circle.prototype -&gt; Object.prototype -&gt; null</span></pre>

<h5>How it Works?</h5>

<ol>
<li>Properties (including methods) are declared inside the constructor via <code>this.<em>propertyName</em></code>, which can then be initialized.</li>

<li>Methods can be declared inside the constructor via <code>this.<em>methodName</em></code>. There are a few ways to provide the method's definition:

<ol>
<li>Define an ordinary <code>function</code>, and assign the <code><em>functionName</em></code> (without parentheses, which is a <code>function</code> type) to <code>this.<em>methodName</em></code>, as in the <code>toString()</code>.</li>

<li>Assign <code>this.<em>methodName</em></code> to an <em>inline function</em>, as in the <code>getArea()</code>.</li>

<li>Invoke the <code>Function</code> constructor with <code>new</code> operator (rarely-used):
<pre class="plain">this.getArea = new Function(&quot;return this.radius * this.radius * Math.PI&quot;);</pre></li>
</ol></li>

<li><code> </code>To invoke a method, use <code><em>anObjectName</em>.<em>aMethodName</em>(<em>arguments</em>)</code>.</li>

<li>The <code>.toString()</code> is a special method, which returns a string description of this object. The <code>.toString()</code> will be implicitly invoked if an object is passed into the <code>document.write()</code>, <code>document.writeln()</code> or <code>'+'</code> operator (like Java).</li>
</ol>

<h4><code>__proto__</code> and <code>.prototype</code></h4>

<h5>Revisit the <code>new</code> Operator</h5>

<p>In JavaScript, the <span class="highlight-code">new <em>constructor</em>(<em>args</em>)</span> call does the followings:</p>
<ol>
<li>Create a new generic object using built-in root <code>Object</code> as prototype.</li>
<li>Assign this newly created object to <code>this</code> variable.</li>
<li>Run the constructor function, which typically adds properties to <code>this</code>.</li>
<li>Set the internal property <code>__proto__</code> to <code><em>constructor</em>.prototype</code> (in the above example, <code>Circle.prototype</code>). The <code>__proto__</code> property is not enumerable (i.e., it would not shown up in the <code>for...in</code> loop). It is used to maintain the so called &quot;prototype chain&quot; of the objects.</li>
<li>Return the newly created object.</li>
</ol>

<p>Take note that you can invoke the constructor function WITHOUT the <code>new</code> operator, e.g., <code>Circle(1.5)</code>. In this case, the constructor will be run as per ordinary function. There will not be any association of <code>this</code> and <code>__proto__</code> properties; and the return value will depend on the function codes.</p>

<p>Try tracing the object created in the above example via Chrome's Developer Tools, which could display the <code>__proto__</code> internal property.</p>

<h5>Another Example</h5>
<pre class="example"><span class="comment">// Define a constructor for Person objects</span>
function Person(name, age) {
   this.name = name || "";
   this.age = age || "";
   this.toString = function () {
      return "Person {name: " + this.name + ", age: " + this.age + "}";
   };
}

var p1 = <span class="new">new</span> Person("Peter", 18);
console.log(p1);
<span class="comment">//</span><span class="output">Person { name: 'Peter', age: 18, toString: [Function (anonymous)] }</span>
console.log(p1.toString());
<span class="comment">//</span><span class="output">Person {name: Peter, age: 18}</span>

<span class="comment">// Check prototype</span>
console.log(p1.__proto__ === Person.prototype);
<span class="comment">//</span><span class="output">true</span>
console.log(Person.prototype);
<span class="comment">//</span><span class="output">{}</span>
console.log(Person.prototype.__proto__ === Object.prototype);
<span class="comment">//</span><span class="output">true</span>
console.log(Object.prototype);
<span class="comment">//</span><span class="output">[Object: null prototype] {}</span>
   <span class="comment">// The prototype chain is: Person -&gt; Object -&gt; null</span></pre>

<h5>Constructor's <code>.prototype</code> Property</h5>

<p>All the JavaScript constructor function objects (in fact, all function objects) have a special property called <code>.prototype</code>. By default, it holds an object that can be used as a prototype for creating new objects.</p>

<p>In the <code>Circle</code> example, the <code>Circle</code> constructor function has a <code>Circle.prototype</code>, which holds a <code>Circle</code> object to be used as a prototyping object. When a new <code>Circle</code> object is constructed via the <code>new</code> operator, the newly constructed object's <code>__proto__</code> property is set to <code>Circle.prototype</code>.</p>

<h5>Adding Shared properties to Constructor's <code>.prototype</code> Property</h5>

<p>The constructor's<code>.prototype</code> is used to implement <em>shared properties</em> (typically shared methods) for all the objects it prototyped. In JavaScript, you can add properties dynamically during runtime into <code>.prototype</code>. The added properties/methods will be available to all the objects (new as well as existing objects). For example,</p>

<pre class="example"><span class="comment">// Define a constructor for Circle objects</span>
function Circle(radius) {
   this.radius = radius || 1.0;
   this.getArea = function () {
      return this.radius * this.radius * Math.PI;
   };
}

var circle1 = new Circle;

<span class="comment">// Add more shared properties to constructor.prototype</span>
Circle.prototype.getCircumference = function () {
   return 2 * this.radius * Math.PI;
};
Circle.prototype.color = "green";

<span class="comment">// The new properties are available to all instances,
// including existing ones</span>
console.log(circle1.getCircumference());
<span class="comment">//</span><span class="output">6.283185307179586</span>
console.log(circle1.color);
<span class="comment">//</span><span class="output">green</span>

var circle2 = new Circle(1.5);
console.log(circle2.getArea());
<span class="comment">//</span><span class="output">7.0685834705770345</span>
console.log(circle2.getCircumference());
<span class="comment">//</span><span class="output">9.42477796076938</span>
console.log(circle2.color);
<span class="comment">//</span><span class="output">green</span>

<span class="comment">// Check prototype</span>
console.log(circle1.__proto__ === Circle.prototype);
<span class="comment">//</span><span class="output">true</span></pre>

<p>When you reference a property, JavaScript first checks if the property exists locally (or own property); otherwise, it checks the prototype chain through the <code>__proto__</code> property. Recall that the <code>new <em>constructor</em>()</code> call sets the <code>__proto__</code> to <code><em>constructor</em>.prototype</code>. Hence, properties added into <code><em>constructor</em>.prototype</code> are available to (and shared by) all the objects prototyped by this constructor.</p>

<p>In practice, we defines methods (and static variables) in <code><em>constructor</em>.prototype</code> to be shared by all objects; while each object maintains its own properties (instance variables).</p> 

<h5>Looking up the Prototype Chain</h5>

<p>Objects in JavaScript form prototype chains. In the above example, a prototype chain is <code>circle1 -&gt; Circle.prototype -&gt; Object.prototype -&gt; null</code>.</p>

<p>When you reference an object property, JavaScript follow these steps to locate the property:</p>
<ol>
<li>Check if the property exists locally (i.e., own property).</li>
<li>Otherwise, check the <code>__proto__</code> property. This continues recursively up the prototype chain. The process is called &quot;lookup in the prototype chain&quot;.</li>
</ol>
    
<p>Hence, in the above example, all the properties in <code>Circle.prototype</code> and <code>Object.prototype</code> are inherited by <code>circle1</code>.</p>

<h5><code>instanceof</code> Operator</h5>

<p>Every object has a <code>__proto__</code> object property (except <code>Object</code>); every constructor function has a <code>.prototype</code> property. So objects can be related by 'prototype inheritance' to other objects. You can test for inheritance by comparing an object's <code>__proto__</code> to the constructor's <code>.prototype</code>. JavaScript provides a shortcut: the <code>instanceof</code> operator tests an object against a function and returns <code>true</code> if the object inherits from the function prototype.  For example,</p>

<p>[TODO]</p>


<h5><code>Object.create()</code></h5>

<p><code>Object.create()</code> lets you create a new object based on the given prototype object. It simply sets the <code>__proto__</code> to the given prototype object, so that all properties of the prototype are available to the new object. Using <code>Object.create()</code>, You do NOT need to define a constructor function and run <code>new constructor()</code> to create new objects.</p>

<pre class="example">var student1 = {
   name: 'Peter',
   getName: function () {
      return this.name;
   }
}

console.log(student1);
<span class="comment">//</span><span class="output">{ name: 'Peter', getName: [Function: getName] }</span>
console.log(student1.getName());
<span class="comment">//</span><span class="output">Peter</span>
console.log(student1.hasOwnProperty('name'));
<span class="comment">//</span><span class="output">true</span>

<span class="comment">// Use Object.create() to create a new object using student1 as the prototype object
// i.e., set __proto__ to student1</span>
var student2 = Object.create(student1);

console.log(student2);
<span class="comment">//</span><span class="output">{}</span>
console.log(student2.__proto__);
<span class="comment">//<span class="output">{ name: 'Peter', getName: [Function: getName] }</span>    (set prototype chain)</span>
console.log(student2.__proto__ === student1);
<span class="comment">//<span class="output">true</span>    (same reference)</span>
console.log(student2 === student1);
<span class="comment">//<span class="output">false</span>   (different reference)</span>
console.log(student2.getName());
<span class="comment">//<span class="output">Peter</span>   (inherited thru prototype chain)</span>
console.log(student2.hasOwnProperty('name'));
<span class="comment">//</span><span class="output">false</span>

student2.name = 'Paul';
console.log(student2);
<span class="comment">//</span><span class="output">{ name: 'Paul' }    (added own property)</span>
console.log(student2.__proto__);
<span class="comment">//</span><span class="output">{ name: 'Peter', getName: [Function: getName] }   (no change)</span>
console.log(student2.getName());
<span class="comment">//</span><span class="output">Paul</span>
console.log(student2.hasOwnProperty('name'));
<span class="comment">//</span><span class="output">true</span></pre>

<h4>Inheritance via Prototype Chain</h4>

<p>You can implement inheritance in JavaScript via the prototype chain. For example,</p>

<pre class="example"><span class="comment">// Constructor for Person objects</span>
function Person(name, age) {
   this.name = name || "";
   this.age = age || "";
}
   <span class="comment">// By default, Person.prototype = Person
   // Person.prototype.__proto__ = Object.prototype
   // The prototype chain is: Person -&gt; Object -&gt; null</span>

<span class="comment">// Constructor for Student objects, which inherit from Person</span>
function Student(name, age, school) {
   Person.call(this, name, age);  <span class="comment">// Call Person function with this and arguments</span>
   this.school = school || "";
}
Student.prototype = Object.create(Person.prototype)
   <span class="comment">// Set the prototype chain to a Person object
   // The prototype chain is: Student -&gt; Person -&gt; Object -&gt; null</span>

<span class="comment">// Constructor for UndergraduateStudent objects, which inherit from Student</span>
function UndergraduateStudent(name, age, school, year) {
   Student.call(this, name, age, school);  <span class="comment">// Call Student function with this and arguments</span>
   this.year = year || "";
}
UndergraduateStudent.prototype = Object.create(Student.prototype)
   <span class="comment">// Set the prototype chain to a Student object
   // The prototype chain is: UndergraduateStudent -&gt; Student -&gt; Person -&gt; Object -&gt; null</span>

var peter = new UndergraduateStudent('peter', 21, 'EEE', 1);
console.log(peter);
<span class="comment">//</span><span class="output">Person { name: 'peter', age: 21, school: 'EEE', year: 1 }</span>
console.log(peter instanceof UndergraduateStudent);
<span class="comment">//</span><span class="output">true</span>
console.log(peter instanceof Student);
<span class="comment">//</span><span class="output">true</span>
console.log(peter instanceof Person);
<span class="comment">//</span><span class="output">true</span>
console.log(peter instanceof Object);
<span class="comment">//</span><span class="output">true</span>
console.log(peter instanceof Date);
<span class="comment">//</span><span class="output">false</span>

<span class="comment">// Add property to Person's prototype</span>
Person.prototype.incAge = function () {
   return ++this.age;
};

console.log(peter);
<span class="comment">//</span><span class="output">Person { name: 'peter', age: 21, school: 'EEE', year: 1 }</span>
console.log(peter.incAge());
<span class="comment">//</span><span class="output">22      (inherited from Person)</span>
console.log('incAge' in peter);
<span class="comment">//</span><span class="output">true</span>
console.log(peter.hasOwnProperty('incAge'));
<span class="comment">//</span><span class="output">false   (inherited, NOT own property)</span></pre>

<h5>How It Works</h5>
<p>[TODO]</p>

<h4>Getter and Setter</h4>

<p>In languages like Java, you can declare a variable to be <code>private</code> and define <code>public</code> getter/setter to access the <code>private</code> variable. JavaScript does not really support <code>private</code> access?! But you can also define ordinary methods <code>getXxx()</code> or <code>setXxx()</code> as getter/setter like Java.</p>

<p>Moreover, in JavaScript, you can define getter/setter as properties instead of methods in one of the following two ways:</p>
<ol>
<li>via built-in functions <code>Object.defineProperties()</code> or <code>Object.defineProperty()</code>;</li>
<li>inside the &quot;object initializer&quot; via keywords <code>get</code> and <code>set</code>.</li>
</ol>

<h5>Example 1: Define Getters/Setters via <code>Object.defineProperties()</code> or <code>Object.defineProperty()</code></h5>
<pre class="example"><span class="comment">// Define constructor for Circle objects</span>
function Circle(radius) {
   this._radius = radius || 1;
}

<span class="comment">// Define getter/setter via Object.defineProperties() in constructor.prototype</span>
Object.defineProperties(Circle.prototype, {
   <span class="comment">// Getter/Setter for radius</span>
   'radius': {
      get: function () {
         return this._radius;
      },
      set: function (radius) {
         this._radius = radius;
      }
   },
   <span class="comment">// Getter for area</span>
   'area': {
      get: function () {
         return this._radius * this._radius * Math.PI;
      }
   },
   <span class="comment">// Getter for circumference</span>
   'circumference': {
      get: function () {
         return 2 * this._radius * Math.PI;
      }
   }
});

<span class="comment">// Test</span>
var myCircle = new Circle(1.1);   <span class="comment">// Construct an Circle object</span>
<span class="comment">// Using getter/setter like properties, rather than methods</span>
console.log(myCircle.radius);  <span class="comment">// Test getter</span>
<span class="comment">//</span><span class="output">1.1</span>
myCircle.radius = 2.2;         <span class="comment">// Test setter</span>
console.log(myCircle.radius);
<span class="comment">//</span><span class="output">2.2</span>
console.log(myCircle.area);
<span class="comment">//</span><span class="output">15.205308443374602</span>
console.log(myCircle.circumference);
<span class="comment">//</span><span class="output">13.823007675795091</span>
console.log(myCircle);
<span class="comment">//</span><span class="output">Circle { _radius: 2.2 }</span></pre>

<p>Notes:</p>
<ol>
<li>The <code>Objet.defineProperties()</code> allows you to define multiple properties; while <code>Objet.defineProperty()</code> for a single property.</li>
<li>You invoke the getters/setters like properties with assignment operator, instead of via function call.</li>
</ol>

<h5>Example 2: Define Getter/Setter inside the Object Initializer</h5>

<pre class="example"><span class="comment">// Define an object with getters and setters</span>
var myCircle = {
   _radius: 1.1,
   get radius() {
      return this._radius;
   },
   set radius(radius) {
      this._radius = radius;
   },
   get area() {
      return this._radius * this._radius * Math.PI;
   },
   get circumference() {
      return 2 * this._radius * Math.PI;
   }
}

<span class="comment">// Test</span>
console.log(myCircle.radius);  <span class="comment">// Test getter</span>
<span class="comment">//</span><span class="output">1.1</span>
myCircle.radius = 2.2;   <span class="comment">// Test setter</span>
console.log(myCircle.radius);
<span class="comment">//</span><span class="output">2.2</span>
console.log(myCircle.area);
<span class="comment">//</span><span class="output">15.205308443374602</span>
console.log(myCircle.circumference);
<span class="comment">//</span><span class="output">13.823007675795091</span></pre>

<p>Notes:</p>
<ol>
<li>The getter/setter are defined inside Object Initializer via keywords <code>get</code> and <code>set</code> with a rather strange syntax, as shown in the example.</li>
</ol>

<h4><code>Object</code>'s Properties</h4>

<h5><code>Object.constructor()</code></h5>
<p>All JavaScript objects inherited a special property called <code>.constructor</code>, which contains a reference to the function that created the object. For example,</p>

<pre class="example"><span class="comment">// Construct an Array object</span>
var months = ['jan', 'feb', 'mar'];
console.log(months.constructor);
<span class="comment">//</span><span class="output">[Function: Array]</span>
console.log(months);
<span class="comment">//</span><span class="output">[ 'jan', 'feb', 'mar' ]</span>

<span class="comment">// Create another Array object by invoking the constructor of the first object.</span>
var days = months.constructor('mon', 'tue', 'wed')
console.log(days);
<span class="comment">//</span><span class="output">[ 'mon', 'tue', 'wed' ]</span></pre>

<p>[TODO] more Object's properties</p>

<h3>Document Object Model (DOM) API for JavaScript</h3>

<p>Document Object Model (DOM), is a standard API that allows programmers to   access and manipulate the contents of an HTML/XHTML/XML document dynamically inside their program. It models an HTML/XHTML/XML document as an object-oriented, tree-like  structure, known as a DOM-tree, consisting of nodes resembling the  tags (elements) and contents. DOM also provides an interface for event handling, allowing you to  respond to user's or browser's action.</p>

<p> DOM API is implemented in many languages such as Java, JavaScript, Perl, and ActiveX. DOM API specification is maintained by W3C. DOM has various levels:</p>

<ul>
<li>DOM Level 0 (DOM0) (Pre-W3C): obsolete</li>
<li>DOM Level 1 (DOM1) (W3C Oct 1998): obsolete</li>
<li>DOM Level 2 (DOM2) (W3C Nov 2000) and DOM Level 2 HTML (HTML DOM2) (W3C Jan 2003)</li>
<li>DOM Level 3 (DOM3) (W3C Apr 2004): yet to be fully supported by browsers.</li>
</ul>

<p>jQuery is much better in selecting and manipulating DOM element. You should use jQuery in production. I keep these sections here for completeness.</p>

<h4>Finding and Selecting Elements</h4>

<p>In JavaScript, we often use DOM API to select elements within the current document, so as to access or manipulate their contents. The most commonly-used functions are:</p>

<table class="table-zebra" style="width:100%">
<tr>
<th>Function</th>
<th>Description</th>
<th>Example</th>
</tr>

<tr>
<td>
<code>document.getElementById(<em>anId</em>)</code></td>
<td>Returns the element with the given unique <code>id</code>.</td>
<td><pre>
&lt;input type=&quot;text&quot; id=&quot;foo&quot;&gt;
var elm = document.getElementById(&quot;foo&quot;);
var input = elm.value;</pre></td>
</tr>

<tr>
<td><code>document.getElementsByTagName(<em>aTagName</em>)</code></td>
<td>Returns an array of elements with the given tag name.</td>
<td><pre>
&lt;input type=&quot;text&quot;&gt;
var elms = document.getElementByTagName(&quot;input&quot;);
var input = elms[0].value;</pre></td>
</tr>

<tr>
<td><code>document.getElementsByClassName(<em>aClassName</em>)</code></td>
<td>Returns an array of elements with the given <code>class</code> attribute name.</td>
<td><pre>
&lt;input type=&quot;text&quot; class=&quot;bar&quot;&gt;
var elms = document.getElementByClassName(&quot;bar&quot;);
var input = elms[0].value;</pre></td>
</tr>

<tr>
<td><code>document.getElementsByName(<em>aName</em>)</code></td>
<td>Returns an array of elements with the given <code>name</code> attribute.</td>
<td><pre>
&lt;input type=&quot;checkbox&quot; name=&quot;gender&quot; value=&quot;m&quot;&gt;Male
&lt;input type=&quot;checkbox&quot; name=&quot;gender&quot; value=&quot;f&quot;&gt;Female
var x = document.getElementsByName("gender");
for (var i = 0; i &lt; x.length; ++i) {
   if (x[i].checked) {
      value = x[i].value;
      break;
   }
}</pre></td>
</tr>

</table>

<p>You can use wildcard <code>*</code> in <code>document.getElementsByTagName(&quot;*&quot;)</code> to select all the elements, e.g.,</p>

<pre class="example">
var elms = document.getElementsByTagName(&quot;*&quot;);
for (var i = 0; i &lt; elms.length; i++) {
   console.log(elms[i].value);
   .......
}</pre>

<p>The above functions select element(s) based on the unique <code>id</code>, <code>name</code> attribute and tag-name. HTML 5 further defines two function that can select elements based on <code>class</code> attribute (which is used extensively by CSS in the class-selector):</p>

<table class="table-zebra" style="width:100%">
<tr>
<th>Function</th>
<th>Description</th>
<th>Example</th>
</tr>

<tr>
<td><code>document.querySelector(<em>aClassName</em>)</code></td>
<td>Returns the first element with the given <code>class</code> attribute.</td>
<td><pre>[TODO]</pre></td>
</tr>

<tr>
<td><code>document.querySelectorAll(<em>aClassName</em>)</code></td>
<td>Returns an array of elements with the given <code>class</code> attribute.</td>
<td><pre>[TODO]</pre></td>
</tr>
</table>

<p>Beside the above selection functions, there are many other selection functions available. However, I strongly recommend that you stick to the above functions. I listed below the other function below for completeness.</p>

<ol>
<li><code>document.images</code> returns an array of all <code>&lt;img&gt;</code> elements, same as <code>document.getElementsByTagName(&quot;img&quot;)</code>.</li>
<li><code>document.forms</code>: return an array of all &lt;form&gt; elements.</li>
<li><code>document.links</code> and <code>document.anchors</code>: return all the hyperlinks <code>&lt;a href=...&gt;</code> and anchors <code>&lt;a name=...&gt;</code> elements. [To confirm!]</li>
</ol>




<h4>Manipulating Element's Content through the <code>innerHTML</code> Property</h4>
<p>You can access and modify the content of an element via the &quot;<code>innerHTML</code>&quot; property, which contains all the texts (includes nested tags) within this element.</p>
<p>For example,</p>
<pre class="example">&lt;p id=&quot;magic&quot;&gt;Hello, &lt;em&gt;Paul&lt;/em&gt;&lt;/p&gt;
&lt;script&gt;
  var elm = document.getElementById(&quot;magic&quot;);
<span class="comment">  // Read content</span>
  alert(elm.innerHTML);    <span class="comment">// Hello, &lt;em&gt;Paul&lt;/em&gt;</span><span class="comment">
  // Change content</span>
  elm.innerHTML = &quot;Good day, &lt;strong&gt;Peter&lt;/strong&gt;&quot;;
  alert(elm.innerHTML);    <span class="comment">// Good day, &lt;strong&gt;Peter&lt;/strong&gt;</span>
&lt;/script&gt;</pre>

<p>&quot;<code>innerHTML</code>&quot; is the <em>most convenient way</em> to access and manipulate an element's content. However, it is not a W3C standard, but it is supported by most of the browsers.</p>

<h4>DOM Tree &amp; Nodes</h4>
<p>W3C recommends that you access and manipulate HTML elements via the DOM tree and nodes. However, it is really an overkill for writing simple JavaScripts. I present them here again for completeness.</p>

<p>When a browser loads an HTML page, it builds DOM models a web page in a hierarchical <em>tree</em>-like structure composing of <em>nodes</em>,  resembling its HTML structure.</p>

<p>An example of an HTML document with the corresponding DOM-tree is given follow. Take note that the text content of an element is stored in a separate <em>Text</em> node.</p>
<pre class="example">
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;utf-8&quot;&gt;
  &lt;title&gt;DOM Tree&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h2 onmouseover=&quot;this.style.color='red'&quot;
      onmouseout=&quot;this.style.color=''&quot;&gt;Testing&lt;/h2&gt;
  &lt;p&gt;welcome to &lt;i&gt;JavaScript&lt;/i&gt;...&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>

<img class="image-float-right" src="images/JS_DOMExample.png" alt="image"/>

<p> Load the web page onto Firefox, and use the firebug to inspect the DOM tree.</p>
<p>A DOM-tree comprises the following types of nodes:</p>
<ol>
<li><em>Document Node</em>: the root node representing the entire HTML document.</li>
<li><em>Element node</em>: represents an HTML element (or tag). An element node may have child nodes, which can be either element or text node. Element node may also have attributes.</li>
<li><em>Text Node</em>: contains the text content of an element.</li>
<li>Others: such as comment, attribute.</li>
</ol>

<p> A DOM node has these properties:</p>

<ul>
<li><code>nodeName</code>: contain the name of the node, which is read-only. The <code>nodeName</code> for an Element node is the tag-name; <code>nodeName</code> for the Document node is <code>#document</code>; <code>nodeName</code> for Text nodes is <code>#text</code>.</li>
<li> <code>nodeValue</code>: contain the value of the node. <code>nodeValue</code> for Text node is the text contained; <code>nodeValue</code> for Element node is undefined.</li>
<li><code>nodeType</code>: an integer indicating the type of the node, e.g., Element (1), Attribute (2), Text (3), Comment (8), Document (9).</li>
<li><code>parentNode</code>: reference to parent node. There is only one parent node in a tree structure.</li>
<li><code>childNodes</code>: array (or  node-list) of child nodes.</li>
<li><code>firstChild</code>, <code>lastChild</code>: reference to the first and last child node.</li>
<li><code>prevSibling</code>, <code>nextSibling</code>: reference to the previous and next sibling in the same level.</li>
</ul>

<p>Take note of the difference between singular and plural terms. For example, <code>parentNode</code> refer to <em>the</em> parent node (each node except root has one and only one parent node), <code>childNodes</code> holds an array of all the children nodes.</p>

<p>The root node of the DOM tree is called <code>document</code>. The root node <code>document</code> has only one child, called <code>document.documentElement</code>, representing the <code>&lt;html&gt;</code> tag, and it acts as the parent for two child nodes representing <code>&lt;head&gt;</code> and <code>&lt;body&gt;</code> tags, which in turn will have other child nodes. You can also use a special property called <code>document.body</code> to access the <code>&lt;body&gt;</code> tag directly.</p>

<p>For example, you can use the following node property to access the Text node <code>&quot;Welcome to &quot;</code>  in the above example:</p>
<pre class="example">document.documentElement.lastChild.childNodes[1].firstChild.nodeValue; <span class="comment">// &quot;Welcome to &quot;</span>
document.body.lastChild.firstChild.nodeValue;                          <span class="comment">// same as above</span></pre>

<h5>Example</h5>
<p>The following JavaScript lists all the nodes in the <code>&lt;body&gt;</code> section, in a depth-first search manner, via a recursive function.</p>

<pre class="example">
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;DOM Tree&lt;/title&gt;
&lt;script&gt;
  <span class="new">function printNode(node) {
    document.writeln(&quot;Node name=&quot; + node.nodeName + &quot;, value=&quot; + node.nodeValue + &quot;, type=&quot; + node.nodeType + &quot;&lt;br&gt;&quot;);
    if (node.hasChildNodes()) {
      var childs = node.childNodes;
      for (var i = 0; i &lt; childs.length; i++) {
        printNode(childs[i]);
      }
    }
  }</span>
&lt;/script&gt;
&lt;/head&gt;
&lt;body <span class="new">onload=&quot;printNode(document.body)&quot;</span>&gt;&lt;h2 onmouseover=&quot;this.style.color='red'&quot;
  onmouseout=&quot;this.style.color=''&quot;&gt;Testing&lt;/h2&gt;&lt;p&gt;welcome to &lt;i&gt;JavaScript&lt;/i&gt;...&lt;/p&gt;&lt;/body&gt;
&lt;/html&gt;</pre>

<pre class="output">Node name=BODY, value=null, type=1
Node name=H2, value=null, type=1
Node name=#text, value=Testing, type=3
Node name=P, value=null, type=1
Node name=#text, value=welcome to , type=3
Node name=I, value=null, type=1
Node name=#text, value=JavaScript, type=3
Node name=#text, value=..., type=3</pre>


<p>Accessing the HTML element via Node interface may not be too useful nor practical for JavaScript applications, as you need to know the actual topological structure of the DOM-tree. Furthermore, some browsers (e.g., firefox) may create extra Text nodes to contain the white spaces between tags.</p>

<h4>Text Node</h4>
<p>DOM models the texts enclosed by HTML tags as a separate text node. It cannot have child node. To retrieve the text content, you could the property <code>nodeValue</code>. For example,</p>

<pre class="example">&lt;p id=&quot;magic&quot;&gt;Hello&lt;/p&gt;
......
console.log(<span class="new">document.getElementById(&quot;magic&quot;).firstChild.nodeValue</span>);
<span class="new">document.getElementById(&quot;magic&quot;).firstChild.nodeValue</span> = &quot;Hi&quot;;  <span class="comment">// text change to &quot;Hi&quot;</span></pre>

<h4>Attribute Properties</h4>
<p>To access an attribute of an Element node called <code><em>elementName</em></code>, you could either use:</p>
<ul>
<li>property <code><em>elementName</em>.<em>attributeName</em></code>, where <em><code>attributeName</code></em> is the name of the attribute, or</li>
<li>methods <code><em>elementName</em>.getAttribute(<em>name</em>)</code> and <code><em>elementName</em>.setAttribute(<em>name</em>, <em>value</em>)</code>.</li>
</ul>

<p>For example,</p>
<pre class="example">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset=&quot;utf-8&quot;&gt;
  &lt;title&gt;Test Attributes&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;p id=&quot;magic1&quot; align=&quot;left&quot;&gt;Hello&lt;/p&gt;
  &lt;p id=&quot;magic2&quot; align=&quot;center&quot;&gt;Hello, again.&lt;/p&gt;
  
  &lt;script type=text/javascript&gt;
    var <span class="new">node = document.getElementById(&quot;magic1&quot;)</span>;
    document.writeln(<span class="new">node.align</span>);   <span class="comment">// Get attribute &quot;align&quot;</span>
    <span class="new">node.align</span> = &quot;center&quot;;          <span class="comment">// Set attribute &quot;align&quot; to a new value</span>
  
    <span class="new">node = document.getElementById(&quot;magic2&quot;)</span>;
    document.writeln(<span class="new">node.getAttribute(&quot;align&quot;)</span>);  <span class="comment">// Read attribute &quot;align&quot;</span>
    <span class="new">node.setAttribute(&quot;align&quot;, &quot;right&quot;)</span>;           <span class="comment">// Write attribute &quot;align&quot;</span>
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>

<h4>Attribute <code>style</code> (for CSS)</h4>
<p>Element has a property called style, which models CSS style with CSS properties such as <code>color</code> and <code>textAlign</code>. For example,</p>
<pre class="example">&lt;p id=&quot;magic&quot;&gt;Hello&lt;/p&gt;
......
document.getElementById(&quot;magic1&quot;).style.color=&quot;green&quot;;
document.getElementById(&quot;magic1&quot;).style.textAlign=&quot;right&quot;;</pre>

<h4>Manipulating Nodes</h4>

<p>A Node object has these functions:</p>
<ul>
<li><code><em>aNode</em>.hasChildNodes()</code>: returns <code>true</code> if this node has at least one child node.</li>

<li>Manipulating child node:
<ul>
<li><code><em>aParentNode</em>.insertBefore(<em>newChildNode</em>, <em>existingChildNode</em>)</code>: insert a node before an existing child node.</li>

<li><code><em>aParentNode</em>.replaceChild(<em>newChildNode</em>, <em>existingChildNode</em>)</code>: replace an existing child node.</li>
<li><code><em>aParentNode</em>.removeChild(<em>childNodeToRemove</em>)</code>: remove the specified child node.</li>
<li><code><em>aParentNode</em>.appendChild(<em>nodeToAppend</em>)</code>: append the given node as the last child.</li>

</ul>
</li>

  <li><code><em>aNode</em>.</code><code>cloneNode()</code>: </li>
</ul>

<h5>Creating a New Element (<code>createElement()</code>) and Text Node (<code>createTextNode()</code>), Appending a Node (<code>appendChild()</code>)</h5>

<p>To create new text node, you can use <code>document.createTextNode(<em>text</em>)</code> to create a standalone text-node, followed by an <em><code>anElementNode</code></em><code>.appendChid(<em>aTextNode</em>)</code> to append the text node to an element.</p>
<p>Similarly, you can use <code>document.createElement(<em>tagName</em>)</code> to create a stand-alone element, followed by an <code><em>anElementNode</em>.appendChild(<em>elementToAppend</em>)</code> to append the created element into an existing element. </p>
<p>For example, we shall create a new text node, as a child of a new <code>&lt;p&gt;</code> element. We shall then append the new <code>&lt;p&gt;</code> element as the last child of <code>&lt;body&gt;</code>.</p>

<pre class="example">
&lt;body&gt;
&lt;p id=&quot;magic&quot;&gt;Hello&lt;/p&gt;
&lt;script&gt;
  alert(document.getElementById(&quot;magic&quot;).innerHTML);
  var newElm = document.createElement(&quot;p&quot;);
  newElm.appendChild(document.createTextNode(&quot;Hello, again&quot;));
  <span class="new">document.body.appendChild(newElm)</span>;
&lt;/script&gt;
&lt;/body&gt;</pre>

<h5>Inserting a new Node (<code>insertBefore()</code>)</h5>

<pre class="example">
&lt;body&gt;
&lt;p id=&quot;magic&quot;&gt;Hello&lt;/p&gt;
&lt;script&gt;
  var magicElm = document.getElementById(&quot;magic&quot;);
  alert(magicElm.innerHTML);
  var newElm = document.createElement(&quot;p&quot;);
  newElm.appendChild(document.createTextNode(&quot;Hello, again&quot;));
  <span class="new">document.body.insertBefore(newElm, magicElm)</span>;
&lt;/script&gt;
&lt;/body&gt;</pre>

<h5>Replacing a Node (<code>replaceChild()</code>)</h5>

<p>Change the last line to <code>document.body.replaceChild(newElm, magicElm)</code>.</p>

<h5>Deleting a Node (<code>removeChild()</code>)</h5>

<p>You can remove a child node from a parent node via <code><em>aParentNode</em>.removeChild(<em>aChildNode</em>)</code>.</p>
<p>For example, let remove the last <code>&lt;p&gt;</code> from <code>&lt;body&gt;</code>.</p>

<pre class="example">
&lt;body&gt;
&lt;p&gt;Hello 1&lt;/p&gt;
&lt;p&gt;Hello 2&lt;/p&gt;
&lt;p id=&quot;magic&quot;&gt;Hello 3&lt;/p&gt;
&lt;script&gt;
  var elm = document.getElementById(&quot;magic&quot;);
  alert(elm.innerHTML);
  <span class="new">document.body.removeChild(elm)</span>;
&lt;/script&gt;
&lt;/body&gt;</pre>



<h4>The <code>document</code> object</h4>

<p>The <code>document</code> object is the root node of the DOM-tree. It can be used to access all the elements in an HTML page.</p>
<p>It contains these properties:</p>
<ul>
<li><code>documentElement</code>, <code>body</code>, <code>title</code>: references the <code>&lt;html&gt;</code>, <code>&lt;body&gt;</code> and <code>&lt;title&gt;</code> tags respectively.</li>
<li><code>lastModified</code>, <code>referrer</code>, <code>cookie</code>, <code>domain</code>: information retrieved from the HTTP response header.</li>
<li><code>form[]</code>, <code>applets[]</code>, <code>images[]</code>, <code>embeds[]</code>, <code>links[]</code>, <code>anchors[]</code>: Arrays containing the respective HTML elements (backward compatible with DOM0).</li>
</ul>

<p>The <code>document</code> object has the following methods:</p>
<ul>
<li><code>write(<em>string</em>)</code>, <code>writeln(<em>string</em>)</code>: Write the specified string to the current document. <code>writeln()</code> (write-line) writes a newline after the string, while <code>write()</code> does not. Take note that browser ignores newlines in an HTML document, you need to write a <code>&lt;br&gt;</code> or <code>&lt;p&gt;...&lt;/p&gt;</code> tag for the browser to display a line break.</li>
<li><code>clear()</code>: Clear the document.</li>
<li><code>open()</code>, <code>close()</code>: Open/close the document stream.</li>
<li><code>getElementById()</code>, <code>getElementsByName()</code>, <code>getElementsByTagName()</code>: Select HTML element(s) by id, name, or tag-name, respectively.</li>
</ul>

<h3>Event Handling in HTML DOM</h3>

<p>JavaScripts are often event-driven. That is, a piece of codes (called event handler) fire in response to a certain user's or browser's action, such as clicking a button, enter some texts, or loaded a page.</p>

<p>DOM API provides methods for capturing events so you can perform your own actions in response to them. It also provides an <code>Event</code> object which contains information specific to a given event that can be used by your event handler.</p>

<p>jQuery is much simpler and better in event handling. I suggest that you use jQuery in production. I keep these sections here for completeness.</p>

<h4>Attach Event Handler to an HTML tag</h4>

<p>You can attach <em>event handler</em> (e.g., <code>onclick</code>, <code>onmouseover</code>) to a specific HTML tag as the tag's attribute, as follows:</p>

<pre class="syntax">&lt;<em>tagName</em> <em></em><em>eventHandler</em>=&quot;<em>JavaScript statement(s)</em>&quot; <em>otherAttributes</em> &gt;<em>contents</em>&lt;/<em>tagName</em>&gt;</pre>

<p>The event handler can be a single JavaScript statement, a series of JavaScript statements (separated by semicolon), or most often, a function call. For example,</p>

<pre class="example"><span class="comment">&lt;!-- Event handler calls built-in functions --&gt;</span>
&lt;body <span class="new">onload=&quot;alert('welcome')&quot; onunload=&quot;alert('bye')&quot;</span>&gt;
   
<span class="comment">&lt;!-- Event handler calls a user-defined function --&gt;</span>
&lt;script&gt;
  function myHandler(event) {
    alert(event);
  }
&lt;/script&gt;
&lt;input type=&quot;button&quot; value=&quot;click me&quot; <span class="new">onclick=&quot;myHandler()</span>&quot;&gt;
   
<span class="comment">&lt;!-- Event handler composes of JavaScript statement(s) --&gt;</span>
&lt;h1 <span class="new">onmouseover=&quot;this.style.color='red'; this.style.backgroundColor='black'&quot;
    onmouseout=&quot;this.style.color=''; this.style.backgroundColor=''&quot;</span>&gt;Hello&lt;/h1&gt;</pre>

<p>You can also define an event handler in script by assigning a <code>Function</code> object (without parentheses) to an event handler. For example,</p>

<pre class="example">
<span class="comment">&lt;!-- Event handler assigned via DOM object instead of inside HTML tag --&gt;</span>
&lt;p id=&quot;magic&quot;&gt;Welcome&lt;/p&gt;
&lt;script&gt;
  <span class="new">document.getElementById(&quot;magic&quot;).onclick = myHandler;</span>  <span class="comment">// function name without the parentheses</span>
&lt;/script&gt;</pre>

<h4>Built-in Events and Event Handlers</h4>

<p>JavaScript supports many types of events, as tabulated below. Certain events such as click are applicable to all the HTML elements; certain event such as load and unload are applicable to a selected group of tags.</p>

<table class="table-zebra">
  <tr>
    <th>Event Name</th>
    <th>Event Handler</th>
    <th>Description</th>
    <th>HTML Element</th>
  </tr>
  <tr>
    <td class="lead-code">click</td>
    <td class="lead-code">onclick</td>
    <td>User clicks on the component.</td>
    <td class="code">&nbsp;</td>
  </tr>
  <tr>
    <td class="lead-code">submit</td>
    <td class="lead-code">onsubmit</td>
    <td>User clicks the &quot;submit&quot; button.</td>
    <td class="code">&lt;form&gt;, &lt;input type=&quot;submit&quot;&gt;</td>
  </tr>
  <tr>
    <td class="lead-code">reset</td>
    <td class="lead-code">onreset</td>
    <td>User clicks the &quot;reset&quot; button.</td>
    <td class="code">&lt;form&gt;, &lt;input type=&quot;reset&quot;&gt;</td>
  </tr>
  <tr>
    <td class="lead-code">select</td>
    <td class="lead-code">onselect</td>
    <td>User selects text in a text box or text area.</td>
    <td class="code">&lt;textarea&gt;, &lt;input type=&quot;text&quot;&gt;</td>
  </tr>
  <tr>
    <td class="lead-code">keypress</td>
    <td class="lead-code">onkeypress</td>
    <td>User holds down a key.</td>
    <td class="code">document, image, link, textarea</td>
  </tr>
  <tr>
    <td class="lead-code">keydown<br>
      keyup</td>
    <td class="lead-code">onkeydown<br>
        onkeyup</td>
    <td>User presses/releases a key.</td>
    <td class="code">&nbsp;</td>
  </tr>
  <tr>
    <td class="lead-code">mousedown<br>
      mouseup</td>
    <td class="lead-code">onmousedown<br>
      onmouseup</td>
    <td>User presses/releases a mouse button.</td>
    <td class="code">button, document, link</td>
  </tr>
  <tr>
    <td class="lead-code">mouseover<br>
      mouseout</td>
    <td class="lead-code">onmouseover<br>
      onmouseout</td>
    <td>User moves the mouse pointer at/away from a link or hot spot.</td>
    <td class="code">&nbsp;</td>
  </tr>
  <tr>
    <td class="lead-code">mousemove</td>
    <td class="lead-code">onmousemove</td>
    <td>User moves the mouse pointer</td>
    <td class="code">&nbsp;</td>
  </tr>
  <tr>
    <td class="lead-code">load</td>
    <td class="lead-code">onload</td>
    <td>When the page is loaded into the window.</td>
    <td class="code">&lt;body&gt;, &lt;frameset&gt;, &lt;img&gt;</td>
  </tr>
  <tr>
    <td class="lead-code">unload</td>
    <td class="lead-code">onunload</td>
    <td>When another page is about to be loaded.</td>
    <td class="code">&lt;body&gt;, &lt;frameset&gt;</td>
  </tr>
  <tr>
    <td class="lead-code">blur</td>
    <td class="lead-code">onblur</td>
    <td>When a particular form element losses focus.<br>E.g., after the element is selected, and the user clicks somewhere or hit the tag key.</td>
    <td class="code">&nbsp;</td>
  </tr>
  <tr>
    <td class="lead-code">change</td>
    <td class="lead-code">onchange</td>
    <td>Same as <code>onblur</code>, but the elements must be changed.</td>
    <td class="code">&nbsp;</td>
  </tr>
  <tr>
    <td class="lead-code">focus</td>
    <td class="lead-code">onfocus</td>
    <td>Same as <code>onblur</code>, but the element gains focus.</td>
    <td class="code">&nbsp;</td>
  </tr>
  <tr>
    <td class="lead-code">drapdrop</td>
    <td class="lead-code">ondrapdrop</td>
    <td>User drags and drops something (e.g., a file) onto the navigator window.</td>
    <td class="code">window</td>
  </tr>
  <tr>
    <td class="lead-code">move<br>
      resize</td>
    <td class="lead-code">onmove<br>onresize</td>
    <td>User moves/resizes the window</td>
    <td class="code">window, frame</td>
  </tr>
  <tr>
    <td class="lead-code">abort</td>
    <td class="lead-code">onabort</td>
    <td>Users stops or aborts an image from loading.</td>
    <td class="code">&lt;img&gt;</td>
  </tr>
  <tr>
    <td class="lead-code">error</td>
    <td class="lead-code">onerror</td>
    <td>When a JavaScript or image error occurs while loading a document or an image.</td>
    <td class="code">&lt;img&gt;</td>
  </tr>
</table>

<p>[To Check]</p>

<h4>The <code>Event</code> object</h4>

<p>The event handlers are passed one argument, an <code>Event</code> object, which described the event and its current states. You can use it to determine where an event originated from and where it currently is in the event flow.</p>

<p>The following properties are available to all the <code>Event</code> object:</p>
<ul>
<li><code>type</code>: A string indicating the type of event, e.g., &quot;click&quot;, &quot;mouseover&quot;.</li>
<li><code>eventPhase</code>: integer 1 for captured, 2 for at the target, and 3 for bubbling phase.</li>
</ul>

<h5>Mouse-Related Events</h5>
<p>Including <code>click</code>, <code>mouseup</code>, <code>mousedown</code>, <code>mouseover</code>, <code>mouseout</code>, <code>mousemove</code>. For mouse-related events, the <code>Event</code> object provides these additional properties:</p>
<ul>
<li><code>button</code>: integer 1 for left button, 2 for middle, and 3 for right</li>
<li><code>clientX</code>, <code>clientY</code>: mouse location relative to the client area.</li>
<li><code>screenX</code>, <code>screenY</code>: mouse location relative to the screen.</li>
<li><code>altKey</code>, <code>ctrlKey</code>, <code>metaKey</code>, <code>shiftKey</code>: boolean  value indicating where these key was pressed when the mouse event is fired.</li>
</ul>

<h5>Key-Related Events</h5>
<p>Including <code>keyup</code>, <code>keydown</code> and <code>keypress</code>. For key-related events, the <code>Event</code> object provides these additional properties:</p>
<ul>
<li><code>keyCode</code>: ASCII code of the key pressed.</li>
<li><code>altKey</code>, <code>ctrlKey</code>, <code>metaKey</code>, <code>shiftKey</code>: boolean  flag indicating whether these key was also pressed.</li>
<li><code>clientX</code>, <code>clientY</code>: mouse location relative to the client area.</li>
<li><code>screenX</code>, <code>screenY</code>: mouse location relative to the screen.</li>
</ul>

<h4>Adding Event Listener</h4>

<p>You can also add/remove event listener to tags, using the following methods:</p>
<pre class="syntax"><em>element</em>.addEventListener(<em>eventType</em>, <em>functionName</em>, <em>useCapture</em>);<em>
element</em>.removeEventListener(<em>eventType</em>, <em>functionName</em>, <em>useCapture</em>);</pre>

<p>where <em><code>eventType</code></em> is pre-defined event name such as <code>mouseover</code>, <code>mouseout</code>, <code>click</code>, etc; <em><code>functionName</code></em> is the event handler; <em><code>useCapture</code></em> is a boolean flag which specifies at which phase of the event flow (capture or bubble) the event handler will be called.</p>

<p>For example,</p>
<pre class="example">&lt;p id=&quot;magic&quot;&gt;Hello&lt;/p&gt;
......
&lt;script&gt;
  <span class="new">var element = document.getElementById(&quot;magic&quot;);
  element.addEventListener('mouseover', function() { this.style.color='green'; }, false);
  element.addEventListener('mouseout', function() { this.style.color=''; }, false);</span>
&lt;/script&gt;</pre>

<p>Event listeners can be added to any node, even text nodes (which you could not assign event handlers to as they have no attributes).</p>

<p>There are two phases of event flow: a capture phase followed by a bubbling phase.</p>
<ol>
<li>Event Capture phase: The event first flows down from the document root to the target element that trigger the event.</li>
<li>Event Bubbling phase: the event then bubbles up from the target element to its parent node, all the way back to the document root.</li>
</ol>

<p>For each event type, you could define an event handler for the capture phase (triggered as event flows down from the root to the target element), and another event handler for the bubbling phase (triggered when the event bubble up from the target element to the root).</p>

<p>Example: [TODO]</p>

<h3>JavaScript Built-in Browser Objects: <code>navigator</code>, <code>window</code>, <code>screen</code>, <code>history</code>, <code>location</code></h3>

<h4>The <code>navigator</code> object</h4>

<p>The built-in <code>navigator</code> object represents the browser. It contains the following properties related to the browser:</p>
<ul>
  <li><code>platform</code>: Operating system.</li>
  <li><code>appName</code>, <code>appCodeName</code>, <code>appVersion</code>, <code>appUserAgent</code>: Identified the browser.</li>
  <li><code>language</code>, <code>plugin</code>, <code>mimeTypes</code>: options or features supported by the browser.</li>
  <li>others.</li>
</ul>
<p>[TO CHECK]</p>

<h4>The <code>window</code> object</h4>
<p>The <code>window</code> object represents an open window in a browser. It is the <em>top-level object</em> in the JavaScript hierarchy. All top-level properties and methods such as <code>alert()</code>, <code>prompt()</code>, <code>parseInt()</code> belongs to the <code>window</code> object. The <code>window</code> object is also the default object. That is, <code>alert()</code> is the same as <code>window.alert()</code>. A <code>window</code> object is created automatically with every  <code>&lt;body&gt;</code> or <code>&lt;frameset&gt;</code> tag.</p>

<p>[TODO]</p>

<h3 id="regex">Regular Expression (Regex)</h3>

<p>A <em>Regular Expression</em> (or <em>Regex</em>, <em>Regexp</em> in short) is a <em>pattern</em> that accepts a set of strings that matches the pattern, and rejects the rests. Regex is extremely and amazingly powerful in searching and manipulating text documents.</p>

<p> For Regex Basics, read &quot;<a href="../howto/Regexe.html#Regexe_Syntax">Regular Expression</a>&quot;.</p>

<p>For examples,</p>

<ul>
<li><code>/^[0-9]+$/</code> (or <code>/^\d+$/</code>) matches strings with 1 or more digits (<code>/.../</code> delimits the regex, <code>^</code> matches the begin position, <code>$</code> matches the end position, <code>[0-9]</code> matches a character in the range of <code>'0'</code> to <code>'9'</code>, <code>+</code> for zero or more repetition, <code>\d</code> matches a digit).</li>
<li><code>/^[0-9]{5,8}$/</code> matches string with 5 to 8 digits (<code>{5,8}</code> for 5 to 8 repetition).</li>
<li><code>/^[a-zA-Z]+$/</code> matches strings with 1 or more letters (<code>[a-zA-Z]</code> matches a character in the range of lowercase <code>'a'</code> to <code>'z'</code> or uppercase <code>'A'</code> to <code>'Z'</code>).</li>
<li><code>/^[0-9a-zA-Z_]+$/</code> (or <code>/^\w+$/</code>) matches strings with 1 or more digits, letters or underscore (<code>\w</code> matches a word character).</li>
</ul>

<h4>Creating a <code>RegExp</code> Object in JavaScript</h4>

<p>JavaScript has a built-in <code>RegExp</code> class. There are two ways to create a <code>RegExp</code> object:</p>
<ol>
<li>The commonly-used method is to use a <em>regex literal</em> enclosed by two forward slashes <code>/.../</code>, for example,
<pre class="example">var identifierRegex = /<span class="new">[a-zA-Z_][a-zA-Z_]*</span>/;
var integerRegex = /<span class="new">[1-9][0-9]*|0</span>/;
var imageFileRegex = /<span class="new">\w+\.(jpg|gif|png)</span>/i;

console.log(identifierRegex);
<span class="comment">//</span><span class="output">/[a-zA-Z_][a-zA-Z_]*/</span>
console.log(typeof identifierRegex);
<span class="comment">//</span><span class="output">object</span>
console.log(identifierRegex.constructor);
<span class="comment">//</span><span class="output">[Function: RegExp]</span>
console.log(identifierRegex instanceof RegExp);
<span class="comment">//</span><span class="output">true</span></pre></li>

<li>Call the constructor of the built-in <code>RegExp</code> object (less frequently-used), for example,
<pre class="example">var pattern = new RegExp("<span class="new">[1-9][0-9]*|0</span>");
console.log(pattern);
<span class="comment">//</span><span class="output">/[1-9][0-9]*|0/</span>
var anotherPattern = new RegExp("<span class="new">\w+\.(jpg|gif|png)</span>", "gi");  <span class="comment">// pattern, modifier</span>
console.log(anotherPattern);
<span class="comment">//</span><span class="output">/w+.(jpg|gif|png)/gi</span></pre></li>
</ol>

<h5>Modifiers</h5>
<p>You can use modifier:</p>
<ul>
<li><span class="lead-code">g</span>: to perform a global search (return all matches instead of the first match by default),</li>
<li><span class="lead-code">i</span>: for case-insensitive matching.</li>
<li>others: many more</li>
</ul>

<p>You can combine the modifiers, e.g. &quot;<code>gi</code>&quot;.</p>
<h5>Parentheses Back References <code>$1</code> to <code>$99</code></h5>

<p>You can use <code>$1</code> to <code>$99</code> to refer to the parentheses back references, or <code>RegExp.$1</code> to <code>RegExp.$99</code> object properties.</p>

<p>Example 1: Swap first and second words</p>
<pre class="example">var pattern = /<span class="new">(\S+)\s+(\S+)</span>/;
var input = 'Hello  world';
<span class="comment">// Swap the first and second words</span>
input = input.replace(pattern, '$2 $1');
console.log(input);
<span class="comment">//</span><span class="output">world Hello</span></pre>

<p>Example 2: Remove HTML markup tags in greedy and non-greedy manners</p>
<pre class="example"><span class="comment">// Without greediness</span>
var patternNonGreedy = /<span class="new">&lt;code&gt;.*?&lt;\/code&gt;</span>/g;  <span class="comment">// ? (after *) curb greediness</span>
var input = "&lt;code&gt;first&lt;/code&gt; and &lt;code&gt;second&lt;/code&gt;";
console.log(input.match(patternNonGreedy));
<span class="comment">//</span><span class="output">[ '&lt;code&gt;first&lt;/code&gt;', '&lt;code&gt;second&lt;/code&gt;' ]    (2 matches)</span>

<span class="comment">// With greediness (default)</span>
var patternGreedy = /<span class="new">&lt;code&gt;.*&lt;\/code&gt;</span>/g;
console.log(input.match(patternGreedy));
<span class="comment">//</span><span class="output">[ '&lt;code&gt;first&lt;/code&gt; and &lt;code&gt;second&lt;/code&gt;' ]   (1 match)</span>
</pre>

<h4>JavaScript's Regex Methods</h4>

<p>Regex are meant for searching and manipulating text string. Hence, both the <code>String</code> and <code>RegExp</code> objects have methods that operate on regex and string.</p>

<ul>
<li><span class="lead-code"><em>aRegExpObj</em>.test(<em>aStr</em>)</span>: Tests this regex against the given string. Returns boolean <code>true</code> or <code>false</code>.</li>
  
<li><span class="lead-code"><em>aStr</em>.search(<em>aRegex</em>)</span>: Search this string for the given regex pattern. Returns the beginning position of the matched substring or -1 if there is no match.</li>

<li><span class="lead-code"><em>aStr</em>.match(<em>aRegex</em>)</span>: See example for with and without <code>g</code> flag.</li>

<li><span class="lead-code"><em>aRegExpObj</em>.exec(<em>aStr</em>)</span>: See example for with and without <code>g</code> flag.
<pre class="example">var msg = "Hello World and hello world again";
var pattern1 = /<span class="new">h(..)l</span>/;    <span class="comment">// default case sensitive, first match</span>
var pattern2 = /<span class="new">no-match</span>/;

<span class="comment">// Use RegExp.test(inStr) to check if inStr contains the pattern</span>
console.log(pattern1.test(msg));
<span class="comment">//</span><span class="output">true</span>
console.log(pattern2.test(msg));
<span class="comment">//</span><span class="output">false</span>

<span class="comment">// Use String.search(regex) to check if the string contains the pattern</span>
console.log(msg.search(pattern1));
<span class="comment">//</span><span class="output">16</span>
console.log(msg.search(pattern2));
<span class="comment">//</span><span class="output">-1</span>

<span class="comment">// Use String.match() or RegExp.exec() to find the matched string, back references, and matching index</span>
console.log(msg.match(pattern1));
<span class="comment">//</span><span class="output">[ 'hell', 'el', index: 16, input: 'Hello World and hello world again', groups: undefined ]</span>
console.log(pattern1.exec(msg));
<span class="comment">//</span><span class="output">[ 'hell', 'el', index: 16, input: 'Hello World and hello world again', groups: undefined ]</span>
console.log(msg.match(pattern2));
<span class="comment">//</span><span class="output">null</span>
console.log(pattern2.exec(msg));
<span class="comment">//</span><span class="output">null</span>

<span class="comment">/*
 * With g (global) option
 */</span>
var pattern3 = <span class="new">/h(..)l/gi</span>;

<span class="comment">// String.match() with g flag returns an array of matches</span>
console.log(msg.match(pattern3));
<span class="comment">//</span><span class="output">[ 'Hell', 'hell' ]</span>

<span class="comment">// RegExp.exec() with g flag can be issued repeatedly.
// Search resumes after the last-found position (maintained in property RegExp.lastIndex).</span>
var result;
while (result = pattern3.exec(msg)) {
   console.log(result);
   console.log(pattern3.lastIndex);
}
<span class="comment">//</span><span class="output">[ 'Hell', 'el', index: 0, input: 'Hello World and hello world again', groups: undefined ]</span>
<span class="comment">//</span><span class="output">4</span>
<span class="comment">//</span><span class="output">[ 'hell', 'el', index: 16, input: 'Hello World and hello world again', groups: undefined ]</span>
<span class="comment">//</span><span class="output">20</span></pre></li>
</ul>

<ul>
<li><span class="lead-code"><em>aStr</em>.replace(<em>aRegex</em>, <em>replacement</em>)</span>: Search the string for the given regex pattern. If found, replaces the matched substring with the <code><em>replacement</em></code> string.
<pre class="example">var msg1 = "This is a string";
var pattern1 = <span class="new">/is/</span>;      <span class="comment">// First match only</span>
console.log(msg1.replace(pattern1, "was"));
<span class="comment">//</span><span class="output">Thwas is a string</span>
console.log(msg1);
<span class="comment">//</span><span class="output">This is a string    (no change, but produce a new string)</span>

var msg2 = "This is a string";
var pattern2 = <span class="new">/is/g</span>;     <span class="comment">// All matches (global)</span>
console.log(msg2.replace(pattern2, "was"));
<span class="comment">//</span><span class="output">Thwas was a string</span></pre></li>

<li><span class="lead-code"><em>aStr</em>.split(<em>aRegex</em>)</span>: Split this string using the delimiter pattern defined in the given regex. Returns an array of strings containing the splitting parts.
<pre class="example">var msg = "This is a string";
console.log(msg.split(<span class="new">/is/</span>));
<span class="comment">//</span><span class="output">[ 'Th', ' ', ' a string' ]</span>
console.log(msg);
<span class="comment">//</span><span class="output">This is a string    (no change)</span></pre></li>

<li><span class="lead-code"><em>aRegExpObj</em>.compile()</span>: Compile this regex to improve the running efficiency.</li>
</ul>



<h3>JSON and JSONP</h3>

<h4>JSON (JavaScript Object Notation)</h4>

<p>JSON (@ <a href="http://json.org/">http://json.org/</a>) is a lightweight, text-based, human-readable format for data-interchange. JSON is a data format, just like XML, but smaller and lighter in size than XML and, hence, is an alternative to XML. JSON format is based on JavaScript Object (and Array) syntaxes, hence, called JavaScript Object Notation.</p>

<p>JSON supports these data types:</p>
<ul>
<li>Number, String and Boolean (true or false).</li>
<li>Array: an ordered, comma-separated sequence of values enclosed in square bracket <code>[]</code>.</li>
<li>Object: an unordered, comma-separated <code>key:value</code> pairs enclosed in curly bracket <code>{}</code>.</li>
<li>null: for unallocated object.</li>
</ul>

<p>For example, below is a properly JSON-formatted text:</p>

<pre class="example">{
   "members": [
      { "name": "Paul", "age": 50, "isMarried": true },
      { "name": "John", "age": 40, "isMarried": false },
      { "name": "Mary", "age": 30, "isMarried": true }
   ]
}</pre>

<p>The data contains one <code>key:value</code> pair, with <code>key</code> of <code>members</code> and <code>value</code> of an array of three objects.  Each object has three properties: <code>name</code> (string), <code>age</code> (number) and <code>isMarried</code> (boolean).</p>

<p>Notes:</p>
<ul>
<li>JSON's <code>key</code> fields must be double-quoted as shown; while in JavaScript, the quotes are optional if the <code>key</code> is a valid identifier.</li>
	<li>JSON's file type is <code>&quot;.json&quot;.</code></li>
<li>JSON's MIME type is <code>application/json</code>.</li>
</ul>

<h5><code>JSON.parse()</code></h5>

<p>You can parse a JSON-formatted string to a JavaScript object via built-in function <code>JSON.parse()</code>. For example,</p>

<pre class="example">var jsonStr = '{ "members": ['
   + '{"name":"Paul",  "age":50, "isMarried":true},'
   + '{"name":"Anna",  "age":40, "isMarried":false},'
   + '{"name":"Peter", "age":30, "isMarried":true}'
   + ']}';

var obj = JSON.parse(jsonStr);
console.log(obj);
<span class="comment">//</span><span class="output">{ members: [ ...... ] }</span>
console.log(obj.members[0].name);
<span class="comment">//</span><span class="output">Paul</span></pre>

<h5><code>JSON.stringify()</code></h5>
<p>Counterpart of JSON.parse(). Convert a JavaScript object to a JSON formatted string. For example,</p>

<pre class="example">var obj = {
   students: [
      { name: "Paul", "age": 50, "isMarried": true },
      { name: "Anna", "age": 40, "isMarried": false },
      { name: "Peter", "age": 30, "isMarried": true }
   ]
};

var jsonStr = JSON.stringify(obj);
console.log(jsonStr);
<span class="comment">//</span><span class="output">{"students":[{"name":"Paul","age":50,"isMarried":true},......]}</span>
</pre>

<h5>Ajax and JSON for RESTful Web Services</h5>

<p>[TODO]</p>

<h5>PHP's <code>json_encode()</code> and <code>json_decode()</code></h5>

<p>PHP provides functions <code>json_encode()</code> and <code>json_decode()</code> to convert a JSON-formatted string to an associative array of key-value pairs.</p>

<h4>JSONP</h4>

<p>JSONP (JSON with Padding) is a communication techniques used in JavaScript to request data from a server in a different domain, which is prohibited by modern browsers implementing SOP (Same-Origin Policy).</p>

<h5>Same-Origin Policy (SOP) and Cross-Site Request Forgery (CSRF) Attacks</h5>

<p>All modern browsers implement the SOP, which restricts a script (or web font) loaded from one server to access another server. Two pages has the same origin if they have the same  protocol (e.g., HTTP, HTTPS, FILE, FTP are different protocols), host and port.</p>

<p>SOP is used as a means to prevent so-called Cross-site Request Forgery (CSRF) attacks. Suppose that you are logged on to Facebook (successfully authenticated) and visit a malicious website in another domain on another browser tab. Without the SOP, JavaScript from the malicious website can do anything to your Facebook account that you are allowed to do, because your current browser session has been authenticated on another browser tab. With the SOP, only scripts coming from Facebook can work on your Facebook account.</p>

<pre class="example">
<span class="comment">// Use Ajax to load a page from a different domain into current page, supposing your origin is http://localhost.</span>
$('#magic').load("http://www.google.com");
   <span class="comment">//</span><span class="error">Error: XMLHttpRequest cannot load http://www.google.com/. </span>
   <span class="comment">//</span><span class="error">No 'Access-Control-Allow-Origin' header is present on the requested resource.</span>
   <span class="comment">//</span><span class="error">Origin 'http://localhost' is therefore not allowed access.</span></pre>

<p>In other words, SOP disallows one script to perform HTTP GET/POST request to another domain to prevent Cross-site Request Forgery (CSRF) attacks.</p>

<p>Exceptions to SOP are:</p>
<ul>
<li>Loading JavaScript via <code>&lt;script src=&quot;...&quot;&gt;&lt;/script&gt;</code> tag.</li>
<li>Loading CSS via <code>&lt;link rel=&quot;stylesheet&quot; href=&quot;...&quot;&gt;</code> tag.</li>
<li>Loading image via <code>&lt;img src=&quot;...&quot;&gt;</code> tag.</li>
<li>Others, such as <code>&lt;a&gt;</code>, <code>&lt;video&gt;</code>, <code>&lt;audio&gt;</code>, <code>&lt;object&gt;</code>, <code>&lt;embed&gt;</code>, <code>&lt;applet&gt;</code>, <code>&lt;frame&gt;</code> and <code>&lt;iframe&gt;</code>.</li>
</ul>

<h5>JSONP</h5>

<p>You can send a cross-site request to a JSONP-enabled website via the <code>&lt;script&gt;</code> tag as follows:</p>

<pre class="example">
&lt;script src=&quot;http://www.anotherdomain.com/hello.json?callback=mycallback&quot;&gt;&lt;/script&gt;</pre>

<p>With JSON, the server returns a JSON string (e.g., {&quot;foo&quot;: &quot;bar&quot;} ), which will be evaluated and produce nothing.</p>

<p>Under JSONP, the server is supposed to wrap the JSON object under the <code>callback</code> function provided in the request parameter. That is,</p>

<pre class="example">
mycallback({&quot;foo&quot;: &quot;bar&quot;});</pre>

<p>You can then write your callback function to perform your operations, e.g.,</p>

<pre class="example">
function mycallback(data) {
   <span class="comment">// process the data object</span>
   console.log(data.foo);
}</pre>

<p>Hence, when the script is loaded, it'll be evaluated, and your function will be executed - as a cross-domain request!</p>

<p>With JSONP, it is entirely up to your server to decide whether to support cross-domain request by padding the JSON response.</p>


<h4>Cross-Origin Resource Sharing (CORS)</h4>

<p>CORS is the latest W3C standard for cross-domain request, carried out via special HTTP headers.</p>

<ol>
<li>The browser sends the request with an <code>Origin</code> HTTP header, e.g.,
<pre class="example">
Origin: http://www.anotherdomain.com
</pre></li>

<li>The cross-domain server may response with:
<ol>
<li>An Access-Control-Allow-Origin (ACAO) response header indicating which origin sites are allowed. For example,
<pre class="example">
Access-Control-Allow-Origin: http://www.originaldomain.com</pre></li>

<li>An Access-Control-Allow-Origin (ACAO) header with a wildcard that allows all domains:
<pre class="example">
Access-Control-Allow-Origin: *</pre></li>

<li>An error page if the server does not allow the cross-origin request.</li>
</ol></li>
</ol>

<p>With CORS, it is entirely up to your server to decide whether to support cross-domain request (similar to JSONP).</p>

<h3>Miscellaneous</h3>

<h4>Task Scheduling via Timeout</h4>
<p>Two methods, <code>setTimeout(<em>codes</em>, <em>milliseconds</em>)</code> and <code>clearTimeout(<em>timeoutName</em>)</code> are provided to schedule a piece of codes to be executed after a specified milliseconds.</p>

<pre class="example">var task = setTimeout(&quot;alert('Hello')&quot;, 10000);</pre>

<p>The variable task permits you to cancel the scheduled time event before timeout if desires:</p>
<pre class="example">cancelTimeout(task);</pre>

<h4>Bitwise Operators</h4>
<p>JavaScript provides the following bitwise operators are provided for integers (same syntax as Java):</p>

<table class="table-zebra">
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Result</th>
</tr>
<tr>
<td class="text-center lead-code">&lt;&lt;</td>
<td>Left bit-shift (padded with 0s)</td>
<td><code><em>bitPattern</em> &lt;&lt; <em>number</em></code></td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center lead-code">&gt;&gt;</td>
<td>Signed right bit-shift (padded sign-bit)</td>
<td><code><em>bitPattern</em> &gt;&gt; <em>number</em></code></td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center lead-code">&gt;&gt;&gt;</td>
<td>Unsigned right bit-shift (padded with 0s)</td>
<td><code><em>bitPattern</em> &gt;&gt;&gt; <em>number</em></code></td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center lead-code">&amp;</td>
<td>Bitwise AND</td>
<td><code><em>bitPattern1</em> &amp; <em>bitPattern2</em></code></td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center lead-code">|</td>
<td>Bitwise OR</td>
<td><code><em>bitPattern1</em> | <em>bitPattern2</em></code></td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center lead-code">~</td>
<td>Bitwise NOT (1's compliment)</td>
<td><code>~<em>bitPattern</em></code></td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center lead-code">^</td>
<td>Bitwise XOR</td>
<td><code><em>bitPattern1</em> ^ <em>bitPattern2</em></code></td>
<td>&nbsp;</td>
</tr>
</table>

<p>Similarly, the following bitwise operation cum assignment operators are provided: <code>&lt;&lt;=</code>, <code>&gt;&gt;=</code>, <code>&gt;&gt;&gt;=</code>, <code>&amp;=</code>, <code>|=</code>, <code>^=</code>.</p>

<h4>Operator Precedence</h4>

<table class="table-zebra">
<tr>
<th>Operator Name</th>
<th>Operator</th>
</tr>

<tr>
<td>Parentheses, Array index, Dot</td>
<td class="code">() [] .</td>
</tr>

<tr>
<td>Negation, Increment/Decrement</td>
<td class="code">! ~ - ++ --</td>
</tr>

<tr>
<td>Multiply, Divide, Modulus</td>
<td class="code">* / %</td>
</tr>

<tr>
<td>Addition, Subtraction</td>
<td class="code">+ -</td>
</tr>

<tr>
<td>Bitwise Shift</td>
<td class="code">&lt;&lt; &gt;&gt; &gt;&gt;&gt;</td>
</tr>

<tr>
<td>Relational</td>
<td class="code">&lt; &lt;= &gt; &gt;=</td>
</tr>

<tr>
<td>Equality</td>
<td class="code">== !=</td>
</tr>

<tr>
<td>Bitwise AND</td>
<td class="code">&amp;</td>
</tr>

<tr>
<td>Bitwise XOR</td>
<td class="code">^</td>
</tr>

<tr>
<td>Bitwise OR</td>
<td class="code">|</td>
</tr>

<tr>
<td>Logical AND</td>
<td class="code">&amp;&amp;</td>
</tr>

<tr>
<td>Logical OR</td>
<td class="code">||</td>
</tr>

<tr>
<td>Ternary (Shorthand if-else)</td>
<td class="code">? :</td>
</tr>

<tr>
<td>Assignment</td>
<td class="code">= += -= *= /= %=</td>
</tr>

<tr>
<td>Comma (separate parameters)</td>
<td class="code">,</td>
</tr>

</table>

<h4>Exception Handling: <code>try-catch-finally</code> and <code>throw</code></h4>

<h5><code>throw</code></h5>

<p>Use <code>throw</code> to throw an exception as follows:</p>

<pre class="syntax">
throw <em>expression</em></pre>

<p>In JavaScript, throw can throw any types: primitive (string, number, boolean) or object.</p>

<h5><code>try-catch-finally</code></h5>

<p>The syntax is:</p>

<pre class="syntax">
try {
   <em>try-block</em>;
} catch (e) {
   <em>catch-block</em>;
} finally {  <span class="comment">// optional</span>
   <em>finally-block</em>;
}</pre>

<p>Execution begins at the try-block. If none of the statements in the try-block throws an exception, the catch-block is skipped.</p>

<p>However, if one of the statement in the try-block throw an exception, the rest of the statements in the try-block is skipped, and execution branches to the catch-block to process the exception. In JavaScript, there is only one catch-block, which catches all the exceptions.</p>

<p>The optional finally-block is always executed, after try or catch, for performing house keeping task, such as closing the files. The program will continue into the next statement, if it is not terminated.</p>

<p>The try-catch-finally construct has the following benefits:</p>
<ol>
<li>Separating of exception handling logic from the main logic. You do not need to use many if-else in the main logic to check for exception.</li>
<li>Allow graceful termination of the program, handled by the catch-block.</li>
<li>....</li>
</ol>

<p>Example [TODO]</p>

<h4>Execute JavaScript Statement from Browser's Address Bar</h4>

<p>You can issue You can execute JavaScript from Firefox's navigator toolbar or Internet Explorer's address bar, via pseudo-protocol <code>javascript:<em>statement</em></code>. For example,</p>

<pre class="command">javascript:alert('Hello');
javascript:alert(document.title);alert('Hello, again')
javascript:document.title</pre>

<p>The statement can access variables and objects on the current document.</p>
<p>The JavaScript statement used in a <code>javascript:</code> URL should not return any value. For example, <code>alert()</code> does not return a value (or returns <code>undefined). </code>If it returns an explicit  value, the browser loads a new page and places the returned value in the body of the page.</p>
<p>You can use the <code> void</code> operator to stay in the same page. <code>void</code> evaluates its expression, and returns <code>undefined</code>. For example,</p>

<pre class="command">javascript:void(x=5)</pre>

<p>You can bookmark the javascript statement (someone called them <em>bookmarklets</em>). For example, you can write a bookmarklet to change the background color of a web page, so that the web page is easier to read.</p>

<pre class="command">
javascript:void(document.body.style.background='#FFF');</pre>

<h4>Nested Functions and Closure</h4>
<p>You can nest a function inside a function. The inner function has access to all the properties of the outer function. This becomes complicated if the inner function is returned by the outer function. If multiple calls is made to the outer function, which creates different copies of the inner function, what are the value of the properties of the outer function?</p>

<p>For example,</p>

<pre class="example">function outer(x) {
   let y = 8;   <span class="comment">// function scope, available to inner function</span>

   <span class="comment">// Define a nested function, which adds its argument to
   //  outer function's argument and local variable.</span>
   let addToOuter = function (z) {
      console.log('x:' + x + ' y:' + y + ' z:' + z);
      return x + y + z;
   };

   return addToOuter;  <span class="comment">// return the nested function</span>
}

<span class="comment">// Invoke the outer function and save the return function in an variable</span>
var f1 = outer(3);
<span class="comment">// Invoke the inner function</span>
console.log('sum:' + f1(10));
<span class="comment">//</span><span class="output">x:3 y:8 z:10</span>
<span class="comment">//</span><span class="output">sum: 21</span>

<span class="comment">// Invoke the inner function</span>
console.log('sum:' + f1(20));
<span class="comment">//</span><span class="output">x: 3 y: 8 z: 20</span>
<span class="comment">//</span><span class="output">sum: 31</span>
   <span class="comment">// Take note that the value of x:3 remains the same across the invocations,
   //   which is provided by the outer function's argument</span>

<span class="comment">// Invoke the outer function again with a different argument</span>
var f2 = outer(9);
<span class="comment">// Invoke the inner function</span>
console.log('sum:' + f2(30));
<span class="comment">//</span><span class="output">x:9 y:8 z:30</span>
<span class="comment">//</span><span class="output">sum: 47</span>

<span class="comment">// Invoke the inner function</span>
console.log('sum:' + f2(40));
<span class="comment">//</span><span class="output">x:9 y:8 z:40</span>
<span class="comment">//</span><span class="output">sum: 57</span>
   <span class="comment">// Take note that the value of x:9 remains the same across the invocations,
   //   which is provided by the outer function's argument</span></pre>

<p>Each invocation of the outer function creates a so-called <em>closure</em>, which is the inner function with a set of variables together with an environment that binds those variables.</p>

<p>As seen from the above example, the value of <code>x</code> and <code>y</code> in the outer function remains the same for each invocation, in the return inner function.  However, each invocation create a new closure with its set of values.  A closure is similar to an object instance where the variables' value are already fixed.</p>
	
<!-- @@v3 starts here. Contents end here -->

<p>&nbsp;</p>
<a class="references" href="../howto/References.html#javascript">Link To JavaScript/jQuery References &amp; Resources</a>

</div> <!-- End the content-main division -->

<div id="content-footer">
<p>Last modified: June 2022</p>
</div>

</div>  <!-- End the wrap-inner division -->

<!-- footer filled by JavaScript -->
<div id="footer" class="footer"><p>&nbsp;</p></div>

</div>  <!-- End the wrap-outer division -->

<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- My custom JavaScript v3 -->
<script src="../scripts/programming_notes_v3.js"></script>
<!-- Prism Syntax Highlighter -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html>
